import{r as t,j as e,a as y,A as b}from"./app-fwyInB3c.js";import{C,c as k}from"./card-DYkZYgg5.js";import{L as l}from"./label-zCtqi3J5.js";import{B as u}from"./button-Blwr-A5N.js";import{toast as p}from"./index-WlsBA3k2.js";import"./utils-CytzSlOG.js";import"./index-BIJodELy.js";import"./index-DloWbRVd.js";import"./index-BwobEAja.js";function P({onClose:h,currentFolder:s,currentFiles:w,setIsCreateFolderOpen:g}){const[r,c]=t.useState(!1),[i,L]=t.useState(null),[n,v]=t.useState("L1"),[d,f]=t.useState("Bajo"),[m,j]=t.useState(""),x=t.useRef(null);t.useEffect(()=>{x.current.focus()},[]);const o=s.path.split("/");o.pop();const N=async()=>{c(!0);try{const a=await y.post(route("admin.files.folder.store"),{nombre:m,parent_id:s.id||1,nivel_seguridad:n,nivel_acceso:d});b.visit(`/user/folders/${s.hash}`,{preserveState:!0}),p.success("Carpeta creada correctamente!")}catch{p.error("Error: No se ha podido crear la carpeta!")}finally{c(!1),g(!1)}};return e.jsx("div",{className:"w-full bg-gray-50",children:e.jsxs(C,{className:"w-full max-h-[94dvh] shadow-lg rounded-lg overflow-hidden px-2 pt-4 pb-2",children:[e.jsx("div",{className:"pl-4 mb-6",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-700 dark:text-white mb-2",children:["Nueva Carpeta en ",e.jsx("strong",{className:"text-custom-orange",children:o[o.length-1]=="Empleados"?" üìÅPrincipal":` üìÅ${s.nombre}`})]})}),e.jsx(k,{className:"flex-grow space-y-6 -ml-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsxs(l,{htmlFor:"security-type",className:"text-sm font-medium text-gray-800 dark:text-gray-300 mr-4",children:["Nombre de la carpeta ",e.jsx("span",{className:"text-custom-orange text-lg",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Nueva carpeta",className:"w-2/5 rounded-md border-gray-300 text-sm shadow-sm focus:ring-orange-500 focus:border-orange-500 dark:text-gray-900",value:m,onChange:a=>j(a.target.value),ref:x})]}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx(l,{htmlFor:"security-type",className:"text-sm font-medium text-gray-800 dark:text-gray-300",children:"Tipo de seguridad del archivo"}),e.jsxs("select",{id:"security-type",className:"block mt-1 rounded-md border-gray-300 text-sm shadow-sm focus:ring-orange-500 focus:border-orange-500 dark:text-gray-900",value:n,onChange:a=>v(a.target.value),children:[e.jsx("option",{value:"L1",children:"L1"}),e.jsx("option",{value:"L2",children:"L2"}),e.jsx("option",{value:"L3",children:"L3"})]}),e.jsxs("ul",{children:[e.jsxs("li",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-lg text-custom-orange mr-1",children:"*"}),"L1: No requiere autenticaci√≥n"]}),e.jsx("li",{className:"text-xs text-gray-500 ml-3",children:"L2: Requiere contrase√±a"}),e.jsx("li",{className:"text-xs text-gray-500 ml-3",children:"L3: Requiere autenticaci√≥n en 2 pasos"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"acceso-type",className:"block text-sm font-medium text-gray-800 dark:text-gray-300 mr-4",children:"Visible por"}),e.jsxs("select",{id:"acceso-type",className:"block mt-1 rounded-md border-gray-300 text-sm shadow-sm focus:ring-orange-500 focus:border-orange-500 dark:text-gray-900",value:d,onChange:a=>f(a.target.value),children:[e.jsx("option",{value:"Bajo",children:"Nivel Bajo"}),e.jsx("option",{value:"Medio",children:"Nivel Medio"}),e.jsx("option",{value:"Alto",children:"Nivel Alto"}),e.jsx("option",{value:"Cr√≠tico",children:"Cr√≠tico"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-1",children:[e.jsx(u,{variant:"outline",className:"text-orange-500 border-orange-500 hover:bg-transparent hover:text-custom-gray-default mt-4 rounded-full",onClick:h,disabled:r,children:"Cancelar"}),e.jsx(u,{className:"bg-orange-500 text-white hover:bg-orange-600 mt-4 rounded-full",onClick:N,disabled:r,children:r?"Creando...":"Crear Carpeta"})]}),i&&e.jsx("div",{className:"mt-4 p-4 bg-gray-100 rounded",children:e.jsx("pre",{className:"text-xs text-gray-700",children:JSON.stringify(i,null,2)})})]})})]})})}export{P as default};
