import{r as o,j as e}from"./app-fwyInB3c.js";import{B as i}from"./button-Blwr-A5N.js";import{I as Y}from"./input-CqlBlYgU.js";import{D as g,a as h,b as x,d as N}from"./dropdown-menu-bHoOJ61X.js";import{I as n}from"./LucideIcon-CEqEhMjI.js";import Z from"./CreateUpdateDialog-CofHZ22o.js";import{R as d}from"./RenderDinamicFilter-NN3FnG2M.js";import{I as _}from"./ImportExportDropdown-COI3HdRN.js";import{DialogMap as ee}from"./DialogMap-CiKNCgr-.js";import{u as te}from"./useTranslation-BtIkv0Na.js";import"./index-DloWbRVd.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-BIJodELy.js";import"./index-C_F9oucK.js";import"./index-B7srb2QZ.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-CLai1W86.js";import"./index-BZgm3BCW.js";import"./index-BZxTbISK.js";import"./index-v24TFYKQ.js";import"./check-5DjPwM22.js";import"./createLucideIcon-DoJ0Kelj.js";import"./chevron-right-B1iws4WK.js";import"./calendar-days-Dti00tYQ.js";import"./calendar-k1x2vwx8.js";import"./chevron-up-OjKdrhzc.js";import"./user-plus-zM6CnMXf.js";import"./user-CNwXqt1W.js";import"./octagon-alert-BRAzZNeG.js";import"./x-2mzC_aTV.js";import"./dialog-iaZkf6Xy.js";import"./index-DVo7DTeW.js";import"./separator-BWKairMX.js";import"./EmpleadoSelect-uBQCJxR7.js";import"./command-PoUoScut.js";import"./popover-DaRbHQOK.js";import"./EmpleadoAvatar-BBWI_HPN.js";import"./avatar-oBOSifLN.js";import"./tooltip-DFfoxvAF.js";import"./index-CeuhGnKJ.js";import"./DecisionModal-Dl8siGBG.js";import"./alert-dialog-kDfn0La3.js";import"./Button-CQuYVLGu.js";import"./GoogleSearch-Altsbd1c.js";import"./Map-D73hm0ip.js";import"./index.modern-WcJlzckG.js";import"./DefaultValuesForm-CRExAQyu.js";import"./centroSchema-CYx9S5hk.js";import"./types-BZmDMmQb.js";import"./multi-select-BSyp-qjs.js";import"./badge-BgloL8Ae.js";import"./DataTableContext-BYrqyX0i.js";import"./index-Z1g0u-qm.js";import"./Spinner-DPRe7Z_J.js";import"./index-WlsBA3k2.js";import"./index-C-xs73Vr.js";import"./index-DpIruHMc.js";import"./card-DYkZYgg5.js";import"./table-cS0UKUSm.js";import"./scroll-area-CvQ1XCoU.js";import"./select-B5O0TxCl.js";import"./index-4A9uUPu1.js";import"./checkbox-BQT_ir1e.js";import"./index-BxSEkZvI.js";import"./Maps-BeRVQUtC.js";import"./Pill-l4GaXyto.js";import"./StatusCentroMapColor-CX6Qfqkj.js";function wt({table:a,centers:y,entity:D="centros"}){const[F,I]=o.useState(""),[p,f]=o.useState(!1),[V,$]=o.useState(!1),[L,b]=o.useState(!1),[O,j]=o.useState([]),[T,w]=o.useState([]),[M,k]=o.useState([]),[z,S]=o.useState([]),[A,E]=o.useState(!1),{t:s}=te(["datatable"]),P=()=>{j([]),w([]),k([]),S([]),b(!1),a.resetColumnFilters()},[v,R]=o.useState(null),K=t=>{const r=t.target.value;I(r),v&&clearTimeout(v),R(setTimeout(()=>{a.setGlobalFilter(r)},500))},B=()=>e.jsx("span",{className:"absolute top-24 bg-custom-white dark:bg-custom-blackLight text-custom-blue dark:text-custom-white font-bold border-none text-lg px-2 capitalize",children:s("tables.centros")}),H=()=>e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(i,{onClick:()=>f(!p),variant:"outline",className:"rounded-full bg-custom-orange hover:bg-custom-blue dark:hover:bg-custom-white dark:text-custom-black text-white hover:text-white flex items-center",children:[e.jsx("span",{className:"hidden sm:inline",children:s("tables.aÃ±adircentro")}),e.jsx(n,{name:"Plus",className:"w-4 ml-2"})]}),p&&e.jsx(Z,{open:p,onOpenChange:f})]}),G=()=>e.jsx("div",{className:"w-full sm:max-w-sm",children:e.jsxs("div",{className:"relative",children:[e.jsx(n,{name:"Search",className:"dark:text-custom-white text-custom-gray-dark w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx(Y,{placeholder:s("tables.buscador"),value:F,onChange:K,className:"pl-10 rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi"})]})}),U=()=>e.jsxs(g,{open:V,onOpenChange:$,modal:!1,children:[e.jsx(h,{asChild:!0,children:e.jsxs(i,{variant:"secondary",className:"rounded-full bg-custom-gray-default dark:bg-custom-blackSemi hover:bg-custom-gray-light dark:hover:bg-accent focus:border-none",children:[s("tables.columnas")," ",e.jsx(n,{name:"ChevronDown",className:"w-4"})]})}),e.jsx(x,{align:"end",className:"bg-custom-gray-default dark:bg-custom-blackLight ",onCloseAutoFocus:t=>t.preventDefault(),children:a.getAllColumns().filter(t=>t.getCanHide()).map(t=>e.jsx(N,{className:"capitalize",checked:t.getIsVisible(),onCheckedChange:r=>t.toggleVisibility(!!r),onSelect:r=>r.preventDefault(),children:t.id},t.id))})]}),q=(t,r,m,u,W)=>{const[c,X]=o.useState(W);return e.jsxs(g,{children:[e.jsx(h,{asChild:!0,children:e.jsxs(i,{variant:"secondary",className:"rounded-full bg-custom-gray-default dark:bg-custom-blackSemi hover:bg-custom-gray-light dark:hover:bg-accent focus:border-none",children:[c?`${t}: ${c}`:t,e.jsx(n,{name:"ChevronDown",className:"w-4"})]})}),e.jsx(x,{align:"end",className:"bg-custom-gray-default dark:bg-custom-blackLight",children:r.map(l=>e.jsx(N,{className:`capitalize focus:bg-custom-gray-semiLight ${c===l?"bg-custom-gray-dark text-white":""}`,checked:l===c,onCheckedChange:C=>{X(C?l:null),u(l,C)},children:l},l))})]})},J=()=>{const t=[10,20,30,40,50,100],r=a.pageSize||10;return q(`${s("tables.paginador")}`,t,m=>r===m,(m,u)=>a.setPageSize(u?m:10),r)},Q=()=>e.jsxs(g,{open:L,onOpenChange:b,modal:!1,children:[e.jsx(h,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"rounded-full bg-hidden border-none",onClick:t=>E(!A),children:[s("tables.filtro")," ",e.jsx(n,{name:"SlidersHorizontal",className:"ml-1 w-5 text-custom-orange"})]})}),e.jsx(x,{align:"start",className:"bg-custom-gray-default dark:bg-custom-blackLight rounded-2xl",onCloseAutoFocus:t=>t.preventDefault(),children:e.jsxs("div",{className:"flex flex-col gap-2 p-2 w-full min-w-[20rem] max-w-[20rem]",children:[e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx("h4",{className:"text-lg font-bold",children:s("tables.columnas")}),e.jsx(i,{className:"bg-transparent hover:bg-slate-200 dark:hover:bg-accent text-custom-blue dark:text-custom-white rounded-full",onClick:P,children:s("tables.borrarfiltro")})]}),e.jsxs("div",{className:"flex flex-col gap-y-3",children:[e.jsx(d,{table:a,columnKey:"empresa",placeholder:s("tables.empresa"),getLabel:t=>t.nombre,selectedValues:O,setSelectedValues:j},"empresa-filter"),e.jsx(d,{table:a,columnKey:"responsable",placeholder:s("tables.responsable"),getLabel:t=>`${t.primerApellido} ${t.segundoApellido}, ${t.nombre} - ${t.nif}`,selectedValues:T,setSelectedValues:w},"responsable-filter"),e.jsx(d,{table:a,columnKey:"coordinador",placeholder:s("tables.coordinador"),getLabel:t=>`${t.primerApellido} ${t.segundoApellido}, ${t.nombre} - ${t.nif}`,selectedValues:M,setSelectedValues:k},"coordinador-filter"),e.jsx(d,{table:a,columnKey:"estado",placeholder:s("tables.estado"),getLabel:t=>t.nombre,selectedValues:z,setSelectedValues:S},"estado-filter")]})]})})]});return e.jsxs("div",{className:"grid",children:[B(),e.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap justify-between items-center m-2 gap-4",children:[e.jsx("div",{className:"flex flex-wrap sm:flex-nowrap items-center gap-4 w-full sm:w-auto",children:e.jsx(ee,{centers:y})}),e.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-center gap-4 w-full sm:w-auto",children:[Q(),G(),U(),J(),e.jsx(_,{entity:D}),H()]})]})]})}export{wt as default};
