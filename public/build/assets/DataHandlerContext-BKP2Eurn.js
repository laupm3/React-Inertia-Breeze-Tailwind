import{r as e,j as C}from"./app-fwyInB3c.js";const l=e.createContext(null);function p(){const r=e.useContext(l);if(!r)throw new Error("useDataHandler debe usarse dentro de DataHandlerContextProvider");return r}const H=({children:r})=>{const[u,a]=e.useState([]),[c,o]=e.useState(!0),n=e.useCallback(async()=>{o(!0);try{const t=await axios.get(route("api.v1.admin.users.index"));t.status===200?a(t.data.users):a([])}catch(t){console.log("error :>> ",t),a([])}finally{o(!1)}},[a,o]),x=e.useCallback(t=>{a(s=>s.some(i=>i.id===(t==null?void 0:t.id))?[t,...s.filter(i=>i.id!==t.id)]:[t,...s])},[]),f=e.useCallback(t=>{a(s=>s.filter(d=>d.id!==t))},[]);return e.useEffect(()=>{n()},[n]),C.jsx(l.Provider,{value:{data:u,setData:a,fetchData:n,loading:c,updateData:x,deleteItem:f},children:r})};export{H as DataHandlerContextProvider,p as useDataHandler};
