import{r as n,G,j as e,a as J,S as Q}from"./app-fwyInB3c.js";import{A as W}from"./AuthenticatedLayout-B4CSARVj.js";import X from"./CreateUpdateView-GSLY5gvz.js";import{ViewContextProvider as Y}from"./ViewContext-D2Ygpcey.js";import{DataHandlerContextProvider as Z}from"./DataHandlerContext--uGffJu7.js";import K from"./DataTablePortal-DY3n-ls0.js";import ee from"./SheetTableView-D_pvD-Ee.js";import se from"./DeleteView-C7V9YPiN.js";import{f as te,c as re,d as ae,e as oe,b as ie,D as le}from"./dialog-iaZkf6Xy.js";import{o as ne,u as V,s as L,n as ce,a as S,b as T}from"./types-BZmDMmQb.js";import{toast as C}from"./index-WlsBA3k2.js";import{I as z}from"./input-CqlBlYgU.js";import{S as me}from"./separator-BWKairMX.js";import"./button-Blwr-A5N.js";import"./calendar-DctTJhwg.js";import{u as de}from"./useDebounce-xNcQ83OW.js";import{F as xe}from"./FetchSelect-CvqHmH4Y.js";import"./popover-DaRbHQOK.js";import{A as R}from"./AdvanceDropdown-CXptW6sy.js";import{S as d}from"./skeleton-DSiYFg9q.js";import{B as E}from"./Button-CQuYVLGu.js";import{S as pe}from"./Spinner-DPRe7Z_J.js";import{O as ue}from"./octagon-alert-BRAzZNeG.js";import{S as M}from"./SheetTable-oFCbTdfY.js";import{B as q}from"./BlockCard-TCX704se.js";import{I as N}from"./LucideIcon-CEqEhMjI.js";import{C as fe}from"./ContratosVigentesDialog-SpBmuJuH.js";import{D as he}from"./DecisionModal-Dl8siGBG.js";import"./sidebar-CPh6C6LB.js";import"./index-DloWbRVd.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./sheet-DHc5Hgr8.js";import"./index-DVo7DTeW.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-B7srb2QZ.js";import"./index-BIJodELy.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-BZxTbISK.js";import"./x-2mzC_aTV.js";import"./createLucideIcon-DoJ0Kelj.js";import"./tooltip-DFfoxvAF.js";import"./index-CLai1W86.js";import"./index-BZgm3BCW.js";import"./index-CeuhGnKJ.js";import"./dropdown-menu-bHoOJ61X.js";import"./index-C_F9oucK.js";import"./index-v24TFYKQ.js";import"./check-5DjPwM22.js";import"./chevron-right-B1iws4WK.js";import"./avatar-oBOSifLN.js";import"./PopUpIncidencias-CaovAEi3.js";import"./card-DYkZYgg5.js";import"./textarea-C969rVin.js";import"./useTranslation-BtIkv0Na.js";import"./UserAvatar-cKyxDEhx.js";import"./ApplicationLogo-C2FcO4AY.js";import"./Yoopta-Dj4Guze5.js";import"./throttle-CmSTFqON.js";import"./PrimaryButton-SsXyLm2e.js";import"./useNotifications-CSWGH93r.js";import"./ShowNotificactionFromJestream-cKOlvVdg.js";import"./OnboardingModal-D0HRNKzO.js";import"./Modal-BkRna8gK.js";import"./transition-ByAjZSmr.js";import"./StepItem-bNLmZaq8.js";import"./StepProgress-DNpLodXf.js";import"./WelcomeContent-BPJ5E7_N.js";import"./onboardingImages-CoczwfNn.js";import"./AboutContent-DOlAXyok.js";import"./TeamContent-C0DysUYq.js";import"./calendar-days-Dti00tYQ.js";import"./calendar-k1x2vwx8.js";import"./chevron-up-OjKdrhzc.js";import"./user-plus-zM6CnMXf.js";import"./user-CNwXqt1W.js";import"./DataTable-D4Fn3B2g.js";import"./table-cS0UKUSm.js";import"./DataTableContext-BYrqyX0i.js";import"./index-Z1g0u-qm.js";import"./TableFilters-ZojjKFl2.js";import"./GlobalFilter-DNA5td8x.js";import"./ImportExportDropdown-COI3HdRN.js";import"./index-C-xs73Vr.js";import"./index-DpIruHMc.js";import"./badge-BgloL8Ae.js";import"./scroll-area-CvQ1XCoU.js";import"./select-B5O0TxCl.js";import"./index-4A9uUPu1.js";import"./checkbox-BQT_ir1e.js";import"./index-BxSEkZvI.js";import"./TableDebugging-C1u6ii1k.js";import"./useColumns-DXhci8hh.js";import"./AdvancedHeader-CpvwMmYr.js";import"./command-PoUoScut.js";import"./DatePicker-YJSItPq7.js";import"./format-Be40hyfq.js";import"./constants-BKFt95HM.js";import"./toDate-qOSwr3PX.js";import"./parseISO-Efi0RkWR.js";import"./ColumnFilter-oxYUebdb.js";import"./multi-select-BSyp-qjs.js";import"./RowSelectionColumn-COjZFz9T.js";import"./RowActionsColumn-CM2slffX.js";import"./RowActionsTrigger-DnJzXomR.js";import"./endOfWeek-DoVA-Yvp.js";import"./addDays-B9Fzl-_R.js";import"./AdvanceDropdown-qoEi4BOz.js";import"./Create-tmHr2JLD.js";import"./CreateLanguageForm-xwtvYsjX.js";import"./alert-D9izbOQG.js";import"./alert-dialog-kDfn0La3.js";import"./InputSkeleton-CFMfUb-2.js";import"./EmpleadoAvatar-BBWI_HPN.js";import"./Pill-l4GaXyto.js";import"./StatusEmpleadoMapColor-Bp2doaTo.js";import"./RowActionsColumn-C3VJw1Sg.js";import"./RowActionsTrigger-C2PXJFNn.js";import"./RowCheckedColumn-BShQ1j9z.js";import"./CreateUpdateDialog-1qQQjI_x.js";import"./useApiEndpoints-CHm1F3ft.js";import"./GoogleAddress-DWOptz48.js";import"./Map-D73hm0ip.js";import"./index.modern-WcJlzckG.js";import"./SheetTable-CiCNZjvD.js";import"./tabs-DtCm3GAf.js";import"./SheetTableHeader-vhJO3F_n.js";import"./DataHandlerContext--vx6a3_3.js";import"./WeekDay-C1ZcXS4Y.js";import"./GetModalidadIcon-BUgIPR97.js";import"./getRoundingMethod-D0I6Z7xl.js";import"./es-DNLwfvrq.js";const je=()=>ne({id:ce(S({message:"El ID es requerido"})),nombre:L().nonempty({message:"El nombre es requerido"}),manager_id:V([S(),T()]).refine(s=>s!==null,{message:"El manager es requerido"}),adjunto_id:V([S(),T()]),descripcion:L().optional(),parent_department_id:V([S(),T()]).optional()}),B={id:null,nombre:"",manager_id:null,adjunto_id:null,descripcion:"",parent_department_id:null},ge=s=>{var o,a,i;return s?{id:s.id||null,nombre:s.nombre||"",manager_id:((o=s.manager)==null?void 0:o.id)||null,adjunto_id:((a=s.adjunto)==null?void 0:a.id)||null,descripcion:s.descripcion||"",parent_department_id:((i=s.parentDepartment)==null?void 0:i.id)||null}:void 0},F=s=>n.useMemo(()=>({dataKey:"departamento",show:s?route("api.v1.admin.departamentos.show",{departamento:s}):null,store:route("api.v1.admin.departamentos.store"),update:s?route("api.v1.admin.departamentos.update",{departamento:s}):null,delete:s?route("api.v1.admin.departamentos.destroy",{departamento:s}):null}),[s]),O=n.createContext(null),be=({children:s,model:r,onOpenChange:o,dataKey:a,onSaveData:i=null,modelAlias:t="registro"})=>{const[c,u]=n.useState(!1),[l,p]=n.useState(!1),[j,w]=n.useState(!1),[g,v]=n.useState(!1),b=F(r),m=G(B),U=je();n.useEffect(()=>{const f=async()=>{try{w(!0),p(!1);const h=await axios.get(b.show);h.status===200?m.setData(ge(h.data[a])):p(!0)}catch(h){console.error("Error al cargar datos:",h),p(!0)}finally{w(!1)}};return m.clearErrors(),r?f():(m.setData(B),p(!1),w(!1)),()=>{}},[r]);const A=n.useCallback((f,h)=>{if(typeof f=="object"&&h===void 0){m.setData(x=>({...x,...f}));return}m.setData(x=>({...x,[f]:h}))},[m]),P=n.useCallback(()=>{const f=U.safeParse(m.data);if(m.clearErrors(),!f.success){const h=f.error.flatten().fieldErrors;Object.keys(h).forEach(x=>{m.setError(x,h[x][0])})}return f.success},[m,U]),$=n.useCallback(async()=>{var f,h;try{v(!0),p(!1),m.clearErrors();const x=new FormData;Object.entries(m.data).forEach(([D,_])=>{_ instanceof File?x.append(D,_):x.append(D,_??"")}),r&&x.append("_method","PUT");const y=r?await axios.post(b.update,x,{headers:{"Content-Type":"multipart/form-data"}}):await axios.post(b.store,x,{headers:{"Content-Type":"multipart/form-data"}});i&&i(y.data[a]),o(!1),m.clearErrors(),C.success(r?`Registro ${t} actualizado con éxito`:`Registro ${t} creado con éxito`)}catch(x){if(p(!0),(h=(f=x.response)==null?void 0:f.data)!=null&&h.errors){const{errors:y}=x.response.data;Object.keys(y).forEach(D=>{m.setError(D,y[D][0])})}C.error(r?`Error al actualizar el ${t}`:`Error al crear el ${t}`)}finally{v(!1)}},[r,b.update,b.store,m,i,o]),I=n.useCallback(()=>{P()&&$()},[P,$]),H=n.useMemo(()=>({modelAlias:t,model:r,error:l,form:m,updateForm:A,handleSubmit:I,setError:p,onOpenChange:o,isProcessing:c,isLoading:j,isSaving:g,setIsProcessing:u}),[t,r,l,m,A,I,o,c,j,g]);return e.jsx(O.Provider,{value:H,children:s})};function k(){const s=n.useContext(O);if(!s)throw new Error("useDialogData debe usarse dentro de DialogDataContextProvider");return s}function Ne({}){const{form:s,updateForm:r}=k(),{data:o,errors:a}=s,[i,t]=n.useState(o),c=de(r,500);n.useEffect(()=>{t(o)},[o]);const u=n.useCallback((l,p)=>{t(typeof l=="object"?j=>({...j,...l}):j=>({...j,[l]:p})),a[l]&&delete a[l],c(l,p)},[c]);return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex flex-col gap-2 ",children:[e.jsxs("span",{className:"text-sm font-bold  text-custom-blue dark:text-custom-white",children:["Nombre del departamento",e.jsx("span",{className:"text-custom-orange",children:" *"})]}),e.jsx(z,{placeholder:"Añadir departamento",className:" rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi",value:i.nombre,onChange:l=>u("nombre",l.target.value)}),a.nombre&&e.jsx("span",{className:"text-xs text-red-500",children:a.nombre}),e.jsx("span",{className:"text-xs text-custom-gray-semiDark dark:text-custom-gray-dark pl-1",children:"Repetir Registro"})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2 ",children:[e.jsxs("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:["Mánager",e.jsx("span",{className:"text-custom-orange",children:" *"})]}),e.jsx(R,{defaultValue:i.manager_id,onChangeValue:l=>u("manager_id",l),enableCreateUpdateView:!0,enableSheetTableView:!0}),a.manager_id&&e.jsx("span",{className:"text-xs text-red-500",children:a.manager_id})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:["Adjunto",e.jsx("span",{className:"text-custom-orange",children:" *"})]}),e.jsx(R,{defaultValue:i.adjunto_id,onChangeValue:l=>u("adjunto_id",l),enableCreateUpdateView:!0,enableSheetTableView:!0}),a.adjunto_id&&e.jsx("span",{className:"text-xs text-red-500",children:a.adjunto_id})]})]}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex flex-col gap-2 ",children:[e.jsx("span",{className:"text-sm font-bold  text-custom-blue dark:text-custom-white",children:"Descripción"}),e.jsx(z,{placeholder:"Lorem ipsum dolor...",className:" rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi",value:i.descripcion,onChange:l=>u("descripcion",l.target.value)}),a.descripcion&&e.jsx("span",{className:"text-xs text-red-500",children:a.descripcion})]})}),e.jsx(me,{className:"bg-custom-blackSemi dark:bg-custom-white"}),e.jsx("h1",{className:" font-bold text-custom-blue dark:text-custom-white",children:"Información de contacto"}),e.jsx("div",{className:"grid grid-cols-1 gap-8",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:"Departamento"}),e.jsx(xe,{fetchRoute:"api.v1.admin.departamentos.index",responseParameter:"departamentos",value:i.parent_department_id,onValueChange:l=>u("parent_department_id",Number(l)),disabled:!1}),a.parent_department_id&&e.jsx("span",{className:"text-xs text-red-500",children:a.parent_department_id})]})})]})}function we(){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col w-full gap-12 bg-custom-white dark:bg-custom-blackLight p-4",children:[e.jsx("div",{className:"flex flex-col gap-4 dark:dark-scrollbar",children:e.jsx(d,{className:"h-8 w-[350px]"})}),e.jsxs("div",{className:"flex flex-row w-full gap-4 overflow-y-auto dark:dark-scrollbar",children:[e.jsxs("div",{className:"flex flex-col w-1/2 gap-4 dark:dark-scrollbar",children:[e.jsx(d,{className:"h-8 w-[250px]"}),e.jsx(d,{className:"h-12 w-full"})]}),e.jsxs("div",{className:"flex flex-col w-1/2 gap-4 dark:dark-scrollbar",children:[e.jsx(d,{className:"h-8 w-[250px]"}),e.jsx(d,{className:"h-12 w-full"})]})]}),e.jsx(d,{className:"h-1 w-full"}),e.jsxs("div",{className:"flex flex-row w-full gap-4 overflow-y-auto dark:dark-scrollbar",children:[e.jsxs("div",{className:"flex flex-col w-1/2 gap-4 dark:dark-scrollbar",children:[e.jsx(d,{className:"h-8 w-[250px]"}),e.jsx(d,{className:"h-12 w-full"})]}),e.jsxs("div",{className:"flex flex-col w-1/2 gap-4 dark:dark-scrollbar",children:[e.jsx(d,{className:"h-8 w-[250px]"}),e.jsx(d,{className:"h-12 w-full"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 p-4",children:[e.jsx(d,{className:"h-10 w-24"}),e.jsx(d,{className:"h-10 w-24"})]})]})}function ke(){const{model:s,handleSubmit:r,onOpenChange:o,isSaving:a}=k(),i=s?"Actualizar":"Guardar",t=s?"Actualizando...":"Guardando...";return e.jsxs(te,{children:[e.jsx("div",{className:"flex flex-row w-full items-center justify-between",children:e.jsxs("div",{className:"flex items-center ml-auto justify-end gap-2",children:[e.jsx(E,{variant:"secondary",onClick:()=>o(!1),disabled:a,children:"Cancelar"}),e.jsx(E,{variant:"primary",onClick:()=>r(),disabled:a,children:i})]})}),a&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-2",children:[e.jsx(pe,{size:"sm",className:"text-custom-orange"}),e.jsxs("span",{className:"text-md",children:[t,"..."]})]})]})}function ve(){const{modelAlias:s,model:r}=k(),o=n.useMemo(()=>r?`Actualizar ${s}`:`Crear ${s}`,[r]);return e.jsxs(re,{children:[e.jsx(ae,{className:"dark:text-custom-white",children:o}),e.jsx(oe,{className:"hidden",children:o})]})}const De=()=>{const{error:s}=k();return s?e.jsxs("div",{className:"mt-4 mb-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-300 p-3 rounded-md flex items-start gap-2 animate-in fade-in slide-in-from-top-3 duration-300",children:[e.jsx(ue,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Ha ocurrido un error"}),e.jsx("p",{className:"text-sm",children:"No se pudo procesar la solicitud. Por favor, inténtalo de nuevo."})]})]}):null};function ye({children:s}){const{isSaving:r}=k();return e.jsxs("div",{className:`flex flex-col gap-4 h-full overflow-y-auto p-4 dark:dark-scrollbar transition-opacity duration-200 ${r?"opacity-60":"opacity-100"}`,children:[e.jsx(De,{}),s]})}function Se(){const{isLoading:s}=k();return e.jsx(ie,{className:"flex flex-col gap-4 justify-between sm:max-w-[1225px] sm:max-h-[725px] bg-custom-white dark:bg-custom-blackLight",children:s?e.jsx(we,{}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{}),e.jsx(ye,{children:e.jsx(Ne,{})}),e.jsx(ke,{})]})})}const Ce=n.memo(function({open:r,onOpenChange:o,model:a=null,onSaveData:i=null}){return e.jsx(le,{open:r,onOpenChange:o,children:e.jsx(be,{model:a,onSaveData:i,onOpenChange:o,modelAlias:"Departamento",dataKey:"departamento",children:e.jsx(Se,{})})})});function Ee({data:s}){var a,i;function r({title:t,value:c}){return e.jsxs("section",{className:"flex flex-col sm:flex-row border-b border-custom-gray-default dark:border-custom-blackSemi last:border-b-0",children:[e.jsx("div",{className:"flex items-center py-3 px-4 sm:w-40 md:w-48 bg-custom-gray-default dark:bg-custom-blackSemi",children:e.jsx("span",{className:"text-sm text-custom-black dark:text-custom-white font-semibold",children:t})}),e.jsx("div",{className:"flex-1 py-3 px-4",children:e.jsx("span",{className:"text-sm text-custom-black dark:text-custom-white opacity-70",children:c})})]})}function o({contrato:t}){var l,p,j,w,g,v,b;const[c,u]=n.useState(!1);return!t||!t.user||!t.empleado?e.jsxs("div",{className:"p-4 text-red-500",children:[e.jsx(N,{name:"AlertTriangle",className:"w-4 h-4 inline mr-2"}),"Error: Datos de contrato incompletos"]}):e.jsxs("section",{className:"flex flex-col gap-4 p-4 border-b border-custom-gray-semiLight dark:border-custom-gray-semiDark last:border-b-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 flex-1 sm:w-1/2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:((l=t.user)==null?void 0:l.profile_photo_url)||"/images/profiles/default.png",alt:((p=t.user)==null?void 0:p.name)||"Usuario",className:"w-10 h-10 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("span",{className:"block text-xs text-custom-gray-semiDark dark:text-custom-gray-dark sm:hidden",children:"Usuario"}),e.jsx("span",{className:"block text-sm text-custom-black dark:text-custom-white font-medium truncate",children:((j=t.user)==null?void 0:j.name)||"Sin nombre"}),e.jsx("span",{className:"block text-xs text-custom-black dark:text-custom-white opacity-50 truncate",children:((w=t.user)==null?void 0:w.email)||"Sin email"})]})]}),e.jsx("div",{className:"hidden sm:block ml-13",children:e.jsxs(E,{variant:"secondary",size:"sm",onClick:()=>u(!0),children:[e.jsx(N,{name:"ArrowUpRight",size:"14",className:"text-custom-black dark:text-custom-white"}),e.jsx("span",{className:"ml-1 text-xs text-custom-black dark:text-custom-white",children:"Ver contratos"})]})})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-1 sm:w-1/2",children:[e.jsx(N,{name:"Briefcase",className:"w-4 h-4 text-custom-blue dark:text-custom-orange"}),e.jsx("span",{className:"block text-xs text-custom-gray-semiDark dark:text-custom-gray-dark sm:hidden",children:"Empleado:"}),e.jsx("span",{className:"text-sm text-custom-black dark:text-custom-white opacity-70 truncate",children:((g=t.empleado)==null?void 0:g.nombreCompleto)||((v=t.empleado)==null?void 0:v.nombre)||"Sin empleado"})]})]}),e.jsx("div",{className:"block sm:hidden",children:e.jsxs(E,{variant:"secondary",size:"sm",onClick:()=>u(!0),children:[e.jsx(N,{name:"ArrowUpRight",size:"14",className:"text-custom-black dark:text-custom-white"}),e.jsx("span",{className:"ml-1 text-xs text-custom-black dark:text-custom-white",children:"Ver contratos"})]})}),c&&e.jsx(fe,{model:(b=t.empleado)==null?void 0:b.id,open:c,onOpenChange:u})]})}return e.jsxs("div",{className:"space-y-6",children:[e.jsx(q,{title:"Información",children:e.jsxs("div",{className:"rounded-xl overflow-hidden border border-custom-gray-default dark:border-custom-blackSemi",children:[e.jsx(r,{title:"Nombre",value:(s==null?void 0:s.nombre)||"Sin nombre"}),e.jsx(r,{title:"Mánager",value:s!=null&&s.manager?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{name:"User",className:"w-4 h-4 text-custom-blue dark:text-custom-orange"}),e.jsx("span",{children:s.manager.nombreCompleto||s.manager.nombre||"Sin nombre"})]}):"Sin manager"}),e.jsx(r,{title:"Descripción",value:e.jsx("span",{className:"break-words",children:(s==null?void 0:s.descripcion)||"Sin descripción"})}),e.jsx(r,{title:"Adjunto",value:s!=null&&s.adjunto?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{name:"UserCheck",className:"w-4 h-4 text-custom-blue dark:text-custom-orange"}),e.jsx("span",{children:s.adjunto.nombreCompleto||s.adjunto.nombre||"Sin nombre"})]}):"Sin adjunto"}),s.parentDepartment&&e.jsx(r,{title:"Departamento padre",value:s.parentDepartment.nombre}),e.jsx(r,{title:"Número de empleados",value:((a=s==null?void 0:s.contratosVigentes)==null?void 0:a.length)||0})]})}),e.jsx(q,{title:`Contratos vinculados al departamento (${((i=s==null?void 0:s.contratosVigentes)==null?void 0:i.length)||0})`,children:s!=null&&s.contratosVigentes&&s.contratosVigentes.length>0?e.jsxs("div",{className:"rounded-xl overflow-hidden border border-custom-gray-default dark:border-custom-blackSemi",children:[e.jsxs("div",{className:"hidden sm:flex items-center px-4 py-3 text-custom-black dark:text-custom-white bg-custom-gray-default dark:bg-custom-blackSemi",children:[e.jsx("div",{className:"w-1/2",children:e.jsx("span",{className:"text-sm font-semibold",children:"Usuario"})}),e.jsx("div",{className:"w-1/2 text-right",children:e.jsx("span",{className:"text-sm font-semibold",children:"Empleado"})})]}),e.jsx("div",{className:"divide-y divide-custom-gray-semiLight dark:divide-custom-gray-semiDark max-h-[500px] overflow-y-auto dark:dark-scrollbar",children:s.contratosVigentes.map((t,c)=>e.jsx(o,{contrato:t},(t==null?void 0:t.id)||`contrato-${c}`))})]}):e.jsxs("div",{className:"flex items-center gap-2 p-4 text-custom-gray-semiDark dark:text-custom-gray-dark",children:[e.jsx(N,{name:"AlertTriangle",size:"16"}),e.jsx("span",{className:"text-sm",children:"No hay contratos vinculados a este departamento"})]})})]})}function _e(){return e.jsxs("div",{className:"flex flex-col w-full space-y-8",children:[e.jsxs("div",{className:"w-full flex items-center space-x-4",children:[e.jsx(d,{className:"h-24 w-24 rounded-full"}),e.jsxs("div",{className:"flex flex-col justify-center space-y-2",children:[e.jsx(d,{className:"h-4 w-[250px]"}),e.jsx(d,{className:"h-4 w-[200px]"})]})]}),e.jsx(d,{className:"h-20 w-full"}),e.jsx(d,{className:"h-96 w-full"})]})}function Ve({open:s,onOpenChange:r,model:o,enableToView:a=!0}){const i=F(o),[t,c]=n.useState(null),[u,l]=n.useState(!0),[p,j]=n.useState(!1);return n.useEffect(()=>((async()=>{try{l(!0);const g=await axios.get(i.show);g.status===200?c(g.data[i.dataKey]):j(!0)}catch{j(!0)}finally{l(!1)}})(),()=>{}),[o]),u||!a?e.jsx(M,{title:null,open:s,onOpenChange:r,className:"w-full max-w-full sm:min-w-[600px]",descriptionContent:e.jsx("div",{className:"flex items-center justify-center w-full h-full mt-6",children:e.jsx(_e,{})})}):e.jsx(M,{title:null,open:s,onOpenChange:r,className:"w-full max-w-full sm:min-w-[600px]",descriptionContent:e.jsx(e.Fragment,{children:t&&e.jsx(e.Fragment,{children:e.jsx(Ee,{data:t})})})})}function Te({open:s,onOpenChange:r,model:o,onDelete:a}){const i=F(o);console.log("endpoints :>> ",i);const t=async()=>{console.log("handleDelete :>> ",i.delete);try{(await J.delete(i.delete)).status===200&&(a&&a(o),C.success("Registro eliminado correctamente"))}catch(c){console.error("error :>> ",c),C.error("Error al eliminar el registro")}};return e.jsx(he,{title:"¿Estás seguro de que quieres eliminar este usuario?",content:"Esta acción no se puede deshacer. Todos los datos relacionados con este usuario se eliminarán.",open:s,onOpenChange:r,action:t,variant:"destructive",icon:e.jsx(N,{name:"OctagonAlert",className:"w-6 h-6 text-red-500"})})}function Fe(){return e.jsxs(e.Fragment,{children:[e.jsx(Q,{title:"Departamentos"}),e.jsx("div",{className:"max-w-full mx-auto py-7 xl:px-8 px-4 overflow-hidden",children:e.jsx(Y,{CreateUpdateViewComponent:Ce,SheetTableViewComponent:Ve,DeleteViewComponent:Te,children:e.jsxs(Z,{children:[e.jsx(K,{}),e.jsx(X,{}),e.jsx(ee,{}),e.jsx(se,{})]})})})]})}Fe.layout=s=>e.jsx(W,{children:s});export{Fe as default};
