import{r as j,j as s}from"./app-fwyInB3c.js";import{I as a}from"./LucideIcon-CEqEhMjI.js";import{f as u}from"./eventDateUtils-BP43QzoI.js";import{B as x}from"./button-Blwr-A5N.js";import{S as w,a as F,b as A,c as C,d as S}from"./select-B5O0TxCl.js";import{P,a as B,b as D}from"./popover-DaRbHQOK.js";import{c as k}from"./utils-CytzSlOG.js";import{C as O}from"./calendar-k1x2vwx8.js";import{f as i}from"./format-Be40hyfq.js";import{e as m}from"./es-DNLwfvrq.js";import"./createLucideIcon-DoJ0Kelj.js";import"./calendar-days-Dti00tYQ.js";import"./check-5DjPwM22.js";import"./chevron-up-OjKdrhzc.js";import"./chevron-right-B1iws4WK.js";import"./user-plus-zM6CnMXf.js";import"./user-CNwXqt1W.js";import"./octagon-alert-BRAzZNeG.js";import"./x-2mzC_aTV.js";import"./index-DloWbRVd.js";import"./index-BwobEAja.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-C_F9oucK.js";import"./index-B7srb2QZ.js";import"./index-BIJodELy.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-CLai1W86.js";import"./index-BZgm3BCW.js";import"./index-4A9uUPu1.js";import"./index-CeuhGnKJ.js";import"./index-BZxTbISK.js";import"./constants-BKFt95HM.js";import"./toDate-qOSwr3PX.js";const t={BETWEEN:"between",AFTER:"after",BEFORE:"before",EXACT:"exact"},L={[t.BETWEEN]:"Entre fechas",[t.AFTER]:"Después de",[t.BEFORE]:"Antes de",[t.EXACT]:"Fecha exacta"},Er=({onDateRangeChange:l,dateRange:r})=>{const[y,f]=j.useState(!1),[e,h]=j.useState(t.BETWEEN),p=o=>{const c=o.target.value?new Date(o.target.value):null;e===t.EXACT||e===t.AFTER||e===t.BEFORE?l({from:c,to:e===t.EXACT?c:null,filterType:e}):l({from:c,to:(r==null?void 0:r.to)||null,filterType:e})},N=o=>{const c=o.target.value?new Date(o.target.value):null;l({from:(r==null?void 0:r.from)||null,to:c,filterType:e})},v=o=>{h(o),o===t.EXACT&&(r!=null&&r.from)?l({from:r.from,to:r.from,filterType:o}):o===t.AFTER||o===t.BEFORE?l({from:(r==null?void 0:r.from)||null,to:null,filterType:o}):l({from:(r==null?void 0:r.from)||null,to:(r==null?void 0:r.to)||null,filterType:o})},n=()=>{l(null),f(!1),h(t.BETWEEN)},g=()=>{f(!1)},T=()=>{if(!(r!=null&&r.from))return"Sin filtro de fecha";switch(r.filterType||e){case t.EXACT:return`Fecha exacta: ${i(r.from,"PP",{locale:m})}`;case t.AFTER:return`Después de: ${i(r.from,"PP",{locale:m})}`;case t.BEFORE:return`Antes de: ${i(r.from,"PP",{locale:m})}`;case t.BETWEEN:default:return r.to?`${i(r.from,"PP",{locale:m})} - ${i(r.to,"PP",{locale:m})}`:`Desde: ${i(r.from,"PP",{locale:m})}`}},d=r==null?void 0:r.from,b=e===t.BETWEEN,E=e!==t.BEFORE;return s.jsx("div",{className:"flex flex-col space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(P,{open:y,onOpenChange:f,children:[s.jsx(B,{asChild:!0,children:s.jsxs(x,{variant:"ghost",className:k("flex w-full p-2 min-h-10 h-auto items-center justify-between rounded-full bg-custom-gray-light dark:bg-custom-blackSemi text-custom-blackLight dark:text-custom-white border-0 gap-1 text-left font-normal",d?"text-custom-orange dark:text-custom-orange":"text-muted-foreground dark:text-custom-gray-default"),children:[s.jsxs("div",{className:"font-medium flex gap-2 items-center text-sm",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(O,{className:"h-4 cursor-pointer text-muted-foreground hover:text-primary transition-colors"})}),s.jsx("span",{className:r!=null&&r.from?"text-gray-900 dark:text-white":"text-gray-500",children:T()})]}),s.jsx(a,{name:"ChevronDown",className:k("transition-colors h-4 w-4",d?"text-custom-orange dark:text-custom-orange":"text-muted-foreground dark:text-custom-gray-default")})]})}),s.jsx(D,{className:"w-96 p-4 dark:bg-custom-blackLight",align:"start",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-sm dark:text-white",children:"Filtrar por rango de fechas"}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx("label",{className:"text-xs dark:text-gray-300",children:"Tipo de filtro"}),s.jsxs(w,{value:e,onValueChange:v,children:[s.jsx(F,{className:"dark:bg-custom-blackSemi dark:text-white bg-custom-gray-default rounded-full hover:bg-custom-gray-light focus:ring-0 focus:ring-offset-0",children:s.jsx(A,{})}),s.jsx(C,{className:"dark:bg-custom-blackLight",children:Object.entries(L).map(([o,c])=>s.jsx(S,{value:o,className:"dark:text-white dark:focus:bg-custom-blackSemi",children:c},o))})]})]}),s.jsxs("div",{className:`grid gap-4 ${b?"grid-cols-2":"grid-cols-1"}`,children:[E&&s.jsxs("div",{className:"grid gap-2",children:[s.jsx("label",{className:"text-xs dark:text-gray-300",children:e===t.EXACT?"Fecha exacta":e===t.AFTER?"Después de":e===t.BEFORE?"Antes de":"Fecha desde"}),s.jsxs("div",{className:"flex items-center dark:bg-custom-blackSemi dark:hover:bg-custom-gray-sidebar dark:text-white bg-custom-gray-default rounded-full hover:bg-custom-gray-light focus:ring-0 focus:ring-offset-0",children:[s.jsx(a,{name:"Calendar",className:"text-custom-orange ml-4 h-4 w-4"}),s.jsx("input",{type:"date",value:u(r==null?void 0:r.from),onChange:p,className:"dark:text-white bg-transparent focus:ring-0 focus:ring-offset-0 border-0 rounded-full px-3 py-2 w-full"})]})]}),b&&s.jsxs("div",{className:"grid gap-2",children:[s.jsx("label",{className:"text-xs dark:text-gray-300",children:"Fecha hasta"}),s.jsxs("div",{className:"flex items-center dark:bg-custom-blackSemi dark:hover:bg-custom-gray-sidebar dark:text-white bg-custom-gray-default rounded-full hover:bg-custom-gray-light focus:ring-0 focus:ring-offset-0",children:[s.jsx(a,{name:"Calendar",className:"text-custom-orange ml-4 h-4 w-4"}),s.jsx("input",{type:"date",value:u(r==null?void 0:r.to),onChange:N,className:"dark:text-white bg-transparent focus:ring-0 focus:ring-offset-0 border-0 rounded-full px-3 py-2 w-full"})]})]}),!E&&s.jsxs("div",{className:"grid gap-2",children:[s.jsx("label",{className:"text-xs dark:text-gray-300",children:"Antes de"}),s.jsxs("div",{className:"flex items-center dark:bg-custom-blackSemi dark:hover:bg-custom-gray-sidebar dark:text-white bg-custom-gray-default rounded-full hover:bg-custom-gray-light focus:ring-0 focus:ring-offset-0",children:[s.jsx(a,{name:"Calendar",className:"text-custom-orange ml-4 h-4 w-4"}),s.jsx("input",{type:"date",value:u(r==null?void 0:r.from),onChange:p,className:"dark:text-white bg-transparent focus:ring-0 focus:ring-offset-0 border-0 rounded-full px-3 py-2 w-full"})]})]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t dark:border-gray-700",children:[s.jsx(x,{variant:"ghost",size:"sm",onClick:n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Limpiar"}),s.jsx(x,{size:"sm",onClick:g,disabled:!(r!=null&&r.from),className:"bg-custom-orange text-white hover:bg-orange-600",children:"Aplicar"})]})]})})]}),(r==null?void 0:r.from)&&s.jsx("button",{onClick:n,className:"p-2 text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:"Limpiar filtro de fecha",children:s.jsx(a,{name:"X",className:"w-4 h-4"})})]})})};export{Er as default};
