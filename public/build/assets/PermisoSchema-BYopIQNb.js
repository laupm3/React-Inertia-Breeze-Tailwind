import{formatDate as s}from"./dateUtils-C_-2qk2u.js";import{o as t,a as h,e as n,c as m,s as a,f as _,i as p,Z as o}from"./types-BZmDMmQb.js";const r=1,I={permiso_id:r,fecha_inicio:s(new Date),fecha_fin:s(new Date),hora_inicio:"",hora_fin:"",motivo:"",dia_completo:!1,files:[],recuperable:!1,estado_id:1},T=t({permiso_id:_.number({invalid_type_error:"Tipo de permiso inválido.",required_error:"Tipo de permiso requerido."}).int("ID de permiso debe ser un entero.").positive("Tipo de permiso inválido.").default(r),fecha_inicio:a().min(1,"La fecha de inicio es requerida.").regex(/^\d{4}-\d{2}-\d{2}$/,"Formato de fecha de inicio inválido (YYYY-MM-DD)."),fecha_fin:a().min(1,"La fecha de fin es requerida.").regex(/^\d{4}-\d{2}-\d{2}$/,"Formato de fecha de fin inválido (YYYY-MM-DD)."),hora_inicio:a().optional(),hora_fin:a().optional(),motivo:a().min(1,"El motivo es requerido.").max(1e3,"El motivo no puede exceder los 1000 caracteres."),dia_completo:n(),files:m(p(File)).optional().default([]),recuperable:n(),estado_id:h().int().positive("El estado es inválido.")}).superRefine((e,i)=>{if(e.fecha_inicio===e.fecha_fin&&!e.dia_completo&&(e.hora_inicio?/^([01]\d|2[0-3]):([0-5]\d)$/.test(e.hora_inicio)||i.addIssue({code:o.custom,path:["hora_inicio"],message:"Formato de hora de inicio inválido (HH:MM)."}):i.addIssue({code:o.custom,path:["hora_inicio"],message:"La hora de inicio es requerida si no es día completo."}),e.hora_fin?/^([01]\d|2[0-3]):([0-5]\d)$/.test(e.hora_fin)||i.addIssue({code:o.custom,path:["hora_fin"],message:"Formato de hora de fin inválido (HH:MM)."}):i.addIssue({code:o.custom,path:["hora_fin"],message:"La hora de fin es requerida si no es día completo."}),e.hora_inicio&&e.hora_fin&&/^([01]\d|2[0-3]):([0-5]\d)$/.test(e.hora_inicio)&&/^([01]\d|2[0-3]):([0-5]\d)$/.test(e.hora_fin)&&e.hora_fin<=e.hora_inicio&&i.addIssue({code:o.custom,path:["hora_fin"],message:"La hora de fin debe ser posterior a la hora de inicio."})),e.fecha_inicio&&e.fecha_fin){const d=/^\d{4}-\d{2}-\d{2}$/.test(e.fecha_inicio),c=/^\d{4}-\d{2}-\d{2}$/.test(e.fecha_fin);if(d&&c){const f=new Date(e.fecha_inicio+"T00:00:00");new Date(e.fecha_fin+"T00:00:00")<f&&i.addIssue({code:o.custom,path:["fecha_fin"],message:"La fecha de fin no puede ser anterior a la fecha de inicio."})}}});export{r as TIPO_PERMISO_VACACIONES_ID,I as defaultPermisoValues,T as permisoFormSchema};
