import{j as n,r as g}from"./app-fwyInB3c.js";import{A as s}from"./AdvancedHeader-CpvwMmYr.js";import{r as u}from"./RowSelectionColumn-COjZFz9T.js";import{P as c}from"./Pill-l4GaXyto.js";import{r as x}from"./RowActionsColumn-CM2slffX.js";import{I as o}from"./LucideIcon-CEqEhMjI.js";const f=({weight:l=1,className:m="",interactive:e=!1,onWeightChange:r=null})=>{const t=Math.min(Math.max(l||1,1),5),i=a=>{e&&r&&r(a)};return n.jsx("div",{className:`flex items-center gap-1 ${m}`,children:[1,2,3,4,5].map(a=>n.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${a<=t?"bg-custom-orange":"bg-gray-300 dark:bg-gray-600"} ${e?"cursor-pointer hover:scale-110 hover:shadow-sm":""}`,title:`Peso: ${t}/5${e?" (Clic para cambiar)":""}`,onClick:()=>i(a)},a))})},d={Sí:{point:"bg-green-500",bg:"bg-green-500/30",text:"text-green-500",border:"border-green-500"},No:{point:"bg-red-500",bg:"bg-red-500/30",text:"text-red-500",border:"border-red-500"}};function p(l=[]){return g.useMemo(()=>[u,{id:"name",title:"Nombre",enableHiding:!1,enableSorting:!0,sortUndefined:"last",enableFiltering:!0,header:({column:e})=>n.jsx(s,{column:e,className:"max-w-[250px]"}),cell:({row:e})=>{const r=e.original.level||0,t=e.original.children&&e.original.children.length>0;return n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex items-center w-full py-1 px-2",style:{marginLeft:`${r*24}px`},children:[r>0&&n.jsx(o,{name:"CornerDownRight",className:"w-4 h-4 text-gray-400 mr-2 flex-shrink-0"}),n.jsx("span",{className:`${r===0?"font-semibold":"font-normal"}`,children:e.original.name}),t&&n.jsx("span",{className:"ml-2 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded",children:e.original.children.length})]})})},accessorFn:e=>e.name,filterFn:(e,r,t)=>{if(!t.length)return!0;const i=e.getValue(r);return t.some(a=>i.toLowerCase().includes(a.toLowerCase()))}},{id:"description",title:"Descripción",enableHiding:!1,enableSorting:!0,sortUndefined:"last",enableFiltering:!0,header:({column:e})=>n.jsx(s,{column:e,className:"max-w-[250px]"}),cell:({row:e})=>n.jsx("span",{children:e.original.description}),accessorFn:e=>e.description,filterFn:(e,r,t)=>{if(!t.length)return!0;const i=e.getValue(r);return t.some(a=>i.toLowerCase().includes(a.toLowerCase()))}},{id:"route_name",title:"Ruta",enableHiding:!1,enableSorting:!0,sortUndefined:"last",enableFiltering:!0,header:({column:e})=>n.jsx(s,{column:e,className:"max-w-[250px]"}),cell:({row:e})=>n.jsx("span",{children:e.original.route_name||"Contenedor"}),accessorFn:e=>e.route_name,filterFn:(e,r,t)=>{if(!t.length)return!0;const i=e.getValue(r);return t.some(a=>i.toLowerCase().includes(a.toLowerCase()))}},{id:"icon",title:"Icono",enableHiding:!1,enableSorting:!1,enableFiltering:!1,header:({column:e})=>n.jsx(s,{column:e,className:"max-w-[100px]"}),cell:({row:e})=>{const r=e.original.icon||"MapPin";return n.jsx("div",{className:"flex justify-center",children:n.jsx(o,{name:r,className:"w-6 h-6 text-custom-orange"})})},accessorFn:e=>e.icon},{id:"weight",title:"Peso",enableHiding:!1,enableSorting:!0,sortUndefined:"last",enableFiltering:!1,header:({column:e})=>n.jsx(s,{column:e,className:"max-w-[120px]"}),cell:({row:e})=>n.jsx("div",{className:"flex justify-center",children:n.jsx(f,{weight:e.original.weight})}),accessorFn:e=>e.weight},{id:"permission",title:"Permiso",enableHiding:!1,enableSorting:!0,sortUndefined:"last",enableFiltering:!0,header:({column:e})=>n.jsx(s,{column:e,className:"max-w-[200px]"}),cell:({row:e})=>{const r=e.original.permission;return r?n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[n.jsx(o,{name:"ShieldCheck",className:"w-3 h-3 mr-1.5"}),r.name]}):n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:[n.jsx(o,{name:"Shield",className:"w-3 h-3 mr-1"}),"Sin permiso"]})},accessorFn:e=>{const r=e.permission;return r?r.title:"Sin permiso"},filterFn:(e,r,t)=>{if(!t.length)return!0;const i=e.getValue(r);return t.some(a=>i.toLowerCase().includes(a.toLowerCase()))}},{id:"is_important",title:"¿Es importante?",enableHiding:!1,enableSorting:!0,sortUndefined:"last",enableFiltering:!0,header:({column:e})=>n.jsx(s,{column:e,className:"max-w-[120px]"}),cell:({row:e})=>n.jsx("div",{className:"flex justify-center",children:n.jsx(c,{identifier:e.original.is_important?"Sí":"No",mapColor:d,size:"text-xs",textClassName:"font-medium",children:e.original.is_important?"Sí":"No"})}),accessorFn:e=>e.is_important,filterFn:(e,r,t)=>{if(!t.length)return!0;const i=e.getValue(r);return t.includes(i?"Sí":"No")}},{id:"is_recent",title:"¿Es reciente?",enableHiding:!1,enableSorting:!0,sortUndefined:"last",enableFiltering:!0,header:({column:e})=>n.jsx(s,{column:e,className:"max-w-[120px]"}),cell:({row:e})=>n.jsx("div",{className:"flex justify-center",children:n.jsx(c,{identifier:e.original.is_recent?"Sí":"No",mapColor:d,size:"text-xs",textClassName:"font-medium",children:e.original.is_recent?"Sí":"No"})}),accessorFn:e=>e.is_recent,filterFn:(e,r,t)=>{if(!t.length)return!0;const i=e.getValue(r);return t.includes(i?"Sí":"No")}},{id:"requires_employee",title:"¿Requiere empleado?",enableHiding:!1,enableSorting:!0,sortUndefined:"last",enableFiltering:!0,header:({column:e})=>n.jsx(s,{column:e,className:"max-w-[140px]"}),cell:({row:e})=>n.jsx("div",{className:"flex justify-center",children:n.jsx(c,{identifier:e.original.requires_employee?"Sí":"No",mapColor:d,size:"text-xs",textClassName:"font-medium",children:e.original.requires_employee?"Sí":"No"})}),accessorFn:e=>e.requires_employee,filterFn:(e,r,t)=>{if(!t.length)return!0;const i=e.getValue(r);return t.includes(i?"Sí":"No")}},{id:"parent_id",title:"Padre",enableHiding:!1,enableSorting:!0,sortUndefined:"last",enableFiltering:!0,header:({column:e})=>n.jsx(s,{column:e,className:"max-w-[150px]"}),cell:({row:e})=>{const r=e.original.parent_id;if(!r)return n.jsx("span",{className:"text-gray-500",children:"Sin padre"});const t=l.find(a=>a.id===r),i=t?t.name:`ID: ${r}`;return n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded",children:i})})},accessorFn:e=>{const r=e.parent_id;if(!r)return"Sin padre";const t=l.find(i=>i.id===r);return t?t.name:`ID: ${r}`},filterFn:(e,r,t)=>{if(!t.length)return!0;const i=e.getValue(r);return t.some(a=>i.toLowerCase().includes(a.toLowerCase()))}},{id:"created_at",title:"Fecha de creación",enableHiding:!1,enableSorting:!0,sortUndefined:"last",enableFiltering:!1,header:({column:e})=>n.jsx(s,{column:e,className:"max-w-[150px]"}),cell:({row:e})=>{const r=new Date(e.original.created_at);return n.jsx("span",{className:"text-sm text-gray-600",children:r.toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})})},accessorFn:e=>e.created_at},x],[l])}const F=Object.freeze(Object.defineProperty({__proto__:null,useColumns:p},Symbol.toStringTag,{value:"Module"}));export{f as W,F as a,p as u};
