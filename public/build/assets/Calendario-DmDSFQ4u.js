import{r,j as c}from"./app-fwyInB3c.js";import{C as b}from"./calendar-DctTJhwg.js";import{u as y}from"./useNotifications-CSWGH93r.js";const v=(...s)=>s.filter(Boolean).join(" ");function j({events:s=[],onDateSelect:u=()=>{},onDateDoubleClick:m=()=>{},onEventClick:_=()=>{}}){const[n,f]=r.useState(new Date),[x,h]=r.useState(0),{calendarEvents:d}=y(),[g,p]=r.useState([]);r.useEffect(()=>{const t=d.map(a=>({id:a.id,nombre:a.title,descripcion:a.descripcion,fecha_inicio:a.start,fecha_fin:a.end,tipo_evento:{nombre:a.tipo,color:a.color},participantes:a.participantes})),e=new Set(s.map(a=>a.id)),o=t.filter(a=>!e.has(a.id));p([...s,...o])},[s,d]),r.useEffect(()=>{u(n)},[]);const k=t=>{const e=new Date().getTime();e-x<300?m(t):(f(t),u(t)),h(e)},i=t=>{const e=new Date(t);return`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`},l=new Map;g.forEach(t=>{var o;const e=i(t.fecha_inicio);l.has(e)||l.set(e,((o=t.tipo_evento)==null?void 0:o.color)||"#3b82f6")});const w=({date:t})=>{const e=i(t),o=l.get(e);return c.jsxs("div",{className:"relative flex flex-col items-center justify-center h-full w-full",children:[c.jsx("span",{children:t.getDate()}),o&&c.jsx("div",{className:"absolute bottom-1 h-1 w-1 rounded-full ",style:{backgroundColor:o}})]})};return c.jsx("div",{className:"w-full",children:c.jsx(b,{mode:"single",selected:n,modifiers:{hasEvent:t=>l.has(i(t))},modifiersClassNames:{hasEvent:"has-event"},onDayClick:k,defaultMonth:n,weekStartsOn:1,components:{DayContent:w},classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 text-zinc-800 dark:text-zinc-200 sm:space-y-0 w-full ",month:"space-y-4 w-full ",table:"w-full",head_row:"flex w-full",head_cell:"text-muted-foreground w-full opacity-70",row:"flex w-full mt-2",cell:"text-center p-0 relative flex-1",day:v("h-9 xl:w-9 w-full p-0 font-normal rounded-full justify-center text-custom-gray-darker dark:text-custom-white dark:focus:text-custom-gray-darker","hover:bg-custom-gray-light dark:hover:bg-custom-white dark:hover:text-custom-gray-darker","relative"),day_selected:"bg-custom-gray-light dark:bg-custom-white dark:!text-custom-gray-darker rounded-full",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",day_today:"bg-custom-orange/40 focus:bg-custom-orange/80 dark:bg-custom-orange/40 dark:focus:bg-custom-orange/80 text-custom-white rounded-full dark:text-custom-white dark:focus:!text-custom-white",nav:"space-x-1 flex items-center",nav_button:"h-7 w-7 p-0",nav_button_previous:"absolute left-3 text-custom-gray-darker dark:text-custom-white",nav_button_next:"absolute right-3 text-custom-gray-darker dark:text-custom-white",caption:"flex justify-center pt-1 relative items-center bg-custom-white dark:bg-custom-blackLight px-4 py-1 rounded-full text-custom-gray-darker dark:text-custom-white",caption_label:"text-lg font-medium"}})})}export{j as C};
