import{j as r,r as c,A as x}from"./app-fwyInB3c.js";import{B as h}from"./button-Blwr-A5N.js";import{SheetTable as j}from"./SheetTable-CHiPI73T.js";import{C as u}from"./Checkbox-DRGhoIDo.js";import{D as f}from"./DecisionModal-Dl8siGBG.js";import{D as b,a as N,b as C,c as m}from"./dropdown-menu-bHoOJ61X.js";import{I as a}from"./LucideIcon-CEqEhMjI.js";import{E as g}from"./EmpleadoAvatar-BBWI_HPN.js";import S from"./CreateUpdateDialog-Bj5vj5bw.js";import"./index-DloWbRVd.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./SheetTable-oFCbTdfY.js";import"./sheet-DHc5Hgr8.js";import"./index-DVo7DTeW.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-B7srb2QZ.js";import"./index-BIJodELy.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-BZxTbISK.js";import"./x-2mzC_aTV.js";import"./createLucideIcon-DoJ0Kelj.js";import"./LoadingSpinner-CiiXDndn.js";import"./BlockCard-TCX704se.js";import"./alert-D9izbOQG.js";import"./useTranslation-BtIkv0Na.js";import"./index-BxSEkZvI.js";import"./index-4A9uUPu1.js";import"./index-BZgm3BCW.js";import"./check-5DjPwM22.js";import"./alert-dialog-kDfn0La3.js";import"./Button-CQuYVLGu.js";import"./index-C_F9oucK.js";import"./index-CLai1W86.js";import"./index-v24TFYKQ.js";import"./chevron-right-B1iws4WK.js";import"./calendar-days-Dti00tYQ.js";import"./calendar-k1x2vwx8.js";import"./chevron-up-OjKdrhzc.js";import"./user-plus-zM6CnMXf.js";import"./user-CNwXqt1W.js";import"./octagon-alert-BRAzZNeG.js";import"./avatar-oBOSifLN.js";import"./tooltip-DFfoxvAF.js";import"./index-CeuhGnKJ.js";import"./dialog-iaZkf6Xy.js";import"./input-CqlBlYgU.js";import"./separator-BWKairMX.js";import"./EmpleadoSelect-uBQCJxR7.js";import"./command-PoUoScut.js";import"./popover-DaRbHQOK.js";import"./DefaultValuesForm-D-Rmbg_b.js";import"./DepartmentSchema-Cv_kAOdq.js";import"./types-BZmDMmQb.js";const v=(t,e)=>r.jsx("div",{className:"flex justify-center",children:r.jsx(u,{checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:o=>t.toggleAllPageRowsSelected(!!o),"aria-label":e("datatable.selectAll"),className:"border-custom-orange border-2"})}),I=(t,e)=>r.jsx("div",{className:"flex justify-center",children:r.jsx(u,{checked:t.getIsSelected(),onCheckedChange:o=>t.toggleSelected(!!o),"aria-label":e("datatable.selectRow"),className:"border-custom-orange border-2"})}),i=(t,e)=>r.jsx("div",{className:"flex justify-center",children:r.jsxs(h,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"w-full justify-center",children:[e,r.jsx(a,{name:"ArrowUpDown",className:"ml-2 h-4 w-4"})]})}),D=t=>{var e;return r.jsxs("div",{className:"text-left",children:[r.jsx("span",{className:"font-bold",children:t.original.nombre}),r.jsx("span",{children:(e=t.original.parentDepartment)!=null&&e.nombre?` (${t.original.parentDepartment.nombre})`:""})]})},y=async t=>{x.delete(route("admin.departamentos.destroy",{id:t}))},A=({row:t})=>{const[e,o]=c.useState(!1),[s,n]=c.useState(!1),[l,p]=c.useState(!1);return r.jsxs(b,{children:[r.jsx(N,{asChild:!0,children:r.jsx("button",{className:"btn",children:r.jsx(a,{name:"Ellipsis",className:"w-4"})})}),r.jsxs(C,{className:"dark:bg-custom-blackSemi",children:[r.jsxs(m,{onSelect:()=>o(!0),children:[r.jsx(a,{name:"Info",className:"w-4 mr-2"})," Información"]}),r.jsxs(m,{onSelect:()=>n(!0),children:[r.jsx(a,{name:"SquarePen",className:"w-4 mr-2"})," Editar"]}),r.jsxs(m,{className:"text-red-500 font-bold hover:!bg-red-500/40 hover:!text-red-500",onSelect:()=>p(!0),children:[r.jsx(a,{name:"X",className:"w-4 mr-2"})," Eliminar"]})]}),e&&r.jsx(j,{dataId:t.original.id,open:e,onOpenChange:()=>o(!e)},`sheetTable-${t.original.id}`),s&&r.jsx(S,{dataId:t.original.id,open:s,onOpenChange:()=>n(!s)},`dialog-${t.original.id}`),l&&r.jsx(f,{title:"¿Estás seguro de que quieres eliminar este centro?",content:"Esta acción no se puede deshacer. Todos los datos relacionados con este centro se eliminarán.",open:l,onOpenChange:()=>p(!l),action:()=>y(t.original.id),variant:"destructive",icon:r.jsx(a,{name:"OctagonAlert",className:"w-6 h-6 text-red-500"})})]})},d=t=>{const e={á:"a",é:"e",í:"i",ó:"o",ú:"u",Á:"A",É:"E",Í:"I",Ó:"O",Ú:"U"};return t.split("").map(o=>e[o]||o).join("")},Ee=t=>[{id:"select",header:({table:e})=>v(e,t),cell:({row:e})=>I(e,t)},{accessorKey:"nombre",header:({column:e})=>i(e,t("datatable.nombre")),cell:({row:e})=>D(e),accessorFn:e=>d(e.nombre)},{accessorKey:"users",header:({column:e})=>i(e,t("tables.numeroContratosVigentes")),cell:({row:e})=>{var o;return r.jsx("div",{className:"text-center",children:((o=e.original.contratosVigentes)==null?void 0:o.length)||0})},accessorFn:e=>{var o;return((o=e.contratosVigentes)==null?void 0:o.length)||0}},{accessorKey:"manager",header:({column:e})=>i(e,t("datatable.manager")),cell:({row:e})=>r.jsx("div",{className:"flex justify-center",children:r.jsx(g,{empleado:e.original.manager})}),filterFn:({original:{manager:e}},o,s)=>e?s.includes(e.id):!1,accessorFn:e=>{var o;return d((o=e.manager)==null?void 0:o.nombreCompleto)}},{accessorKey:"centros",isHidden:!0,enableHiding:!1,header:"Centros",cell:({row:e})=>r.jsx("div",{className:"text-center",children:r.jsx("span",{children:e.original.centros.map(o=>o.nombre).join(", ")})}),filterFn:({original:{centros:e}},o,s)=>e?e.some(n=>s.includes(n.id)):!1},{accessorKey:"adjunto",header:({column:e})=>i(e,"Adjunto"),cell:({row:e})=>r.jsx("div",{className:"flex justify-center",children:r.jsx(g,{empleado:e.original.adjunto})}),filterFn:({original:{adjunto:e}},o,s)=>e?s.includes(e.id):!1,accessorFn:e=>{var o;return d((o=e.adjunto)==null?void 0:o.nombreCompleto)}},{id:"actions",header:({column:e})=>t("datatable.acciones"),cell:({row:e})=>r.jsx("div",{className:"flex justify-center",children:r.jsx(A,{row:e})})}];export{Ee as columns};
