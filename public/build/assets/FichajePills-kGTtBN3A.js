import{j as s}from"./app-fwyInB3c.js";import{g as j}from"./getRoundingMethod-D0I6Z7xl.js";import{a as w}from"./constants-BKFt95HM.js";import{d as k}from"./differenceInMilliseconds-D_qISUSz.js";import"./toDate-qOSwr3PX.js";function c(r,o,e){const t=k(r,o)/w;return j(e==null?void 0:e.roundingMethod)(t)}function C({horario:r}){const{fichaje_entrada:o,fichaje_salida:e,fichajeEntrada:t,fichajeSalida:n}=r,i=D(r),a=y(r);return s.jsxs("div",{className:"flex flex-1 gap-2 items-center justify-center",children:[s.jsx(x,{mapColor:i,children:o?t:"--"}),s.jsx(x,{mapColor:a,children:e?n:a===h?s.jsx("span",{className:"text-nowrap text-ellipsis overflow-hidden",children:"En curso"}):"--"})]})}const g={point:"bg-trasparent dark:bg-transparent",bg:"bg-transparent dark:bg-transparent",text:"text-custom-gray-semiDark dark:text-gray-300",border:"border-transparent dark:border-transparent"},b={point:"bg-red-500 dark:bg-red-600",bg:"bg-red-500/30 dark:bg-red-600/30",text:"text-red-500 dark:text-red-400",border:"border-red-500 dark:border-red-600"},h={point:"bg-yellow-500 dark:bg-yellow-600",bg:"bg-yellow-500/30 dark:bg-yellow-600/30",text:"text-yellow-500 dark:text-yellow-400",border:"border-yellow-500 dark:border-yellow-600"},p={point:"bg-green-500 dark:bg-green-600",bg:"bg-green-500/30 dark:bg-green-600/30",text:"text-green-500 dark:text-green-400",border:"border-green-500 dark:border-green-600"};function x({mapColor:r,children:o,className:e="",size:t="text-s",textClassName:n="font-bold w-full text-center"}){const{point:i,bg:a,text:l,border:d}=r;return s.jsx("div",{className:`
                flex flex-row items-center w-fit gap-2
                ${a} ${l} 
                ${t} rounded-full px-3 py-1.5 ${e}`,style:{minWidth:"60px"},children:s.jsx("p",{className:n,children:o})})}const D=r=>{const{horario_inicio:o,fichaje_entrada:e}=r,t=new Date,n=new Date(o),i=new Date(e),a=t>=n,l=e&&c(i,n)<0,d=!a&&!e,f=(c(t,n)>15||e)&&(!e||c(i,n)>15);return l?p:d?g:f?b:g},y=r=>{const{fichaje_entrada:o,fichaje_salida:e,horario_inicio:t,horario_fin:n}=r,i=new Date,a=new Date(e),l=new Date(t),d=new Date(n),f=i>=l,u=e&&c(a,d)<0,m=!u&&e&&c(a,d)<=15&&c(a,d)>=0;return u?b:!f&&!e?g:!e&&o&&f&&i<d?h:m?g:e?p:b};export{C as default};
