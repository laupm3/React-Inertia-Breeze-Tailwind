import{r as o,j as t}from"./app-fwyInB3c.js";import{S as g}from"./SheetTable-oFCbTdfY.js";import{L as f}from"./LoadingSpinner-CiiXDndn.js";import{B as u}from"./BlockCard-TCX704se.js";import{A as k}from"./alert-D9izbOQG.js";import{E as c}from"./EmpleadoAvatar-BBWI_HPN.js";import{u as b}from"./useTranslation-BtIkv0Na.js";import"./sheet-DHc5Hgr8.js";import"./index-DVo7DTeW.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-DloWbRVd.js";import"./index-B7srb2QZ.js";import"./index-BIJodELy.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-BZxTbISK.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./x-2mzC_aTV.js";import"./createLucideIcon-DoJ0Kelj.js";import"./avatar-oBOSifLN.js";import"./tooltip-DFfoxvAF.js";import"./index-CLai1W86.js";import"./index-BZgm3BCW.js";import"./index-CeuhGnKJ.js";function X({dataId:s,open:n,onOpenChange:a,jetstream:l,isMobile:e}){const{t:i}=b(["datatable"]),[r,m]=o.useState(null),[x,p]=o.useState(null),[h,j]=o.useState(!0);return o.useEffect(()=>((async()=>{try{const d=await axios.get(route("api.v1.admin.departamentos.show",{id:s}));d.status===200?m(d.data.departamento):p(!0)}catch{p(!0)}finally{j(!1)}})(),()=>{}),[s]),t.jsx(g,{title:t.jsx("span",{className:"text-custom-orange",children:r?r.nombre:i("tables.departamento")}),open:n,onOpenChange:a,className:"min-w-[600px]",descriptionContent:t.jsx(t.Fragment,{children:t.jsxs("div",{className:"text-custom-black dark:text-custom-white",children:[r&&t.jsx(N,{departamento:r,jetstream:l}),h&&!x&&t.jsx(f,{}),x&&t.jsx(k,{variant:"destructive",children:"Error Fetching Data"})]})})})}const N=({departamento:s,jetstream:n})=>{var l;const{t:a}=b(["datatable"]);return t.jsxs(t.Fragment,{children:[t.jsx(u,{title:a("tables.info"),marginLeft:"ml-4",className:"border-4 rounded-xl p-4 mb-6 text-custom-blackLight dark:text-custom-gray-default",children:t.jsx("table",{className:"min-w-full table-fixed",children:t.jsxs("tbody",{className:"bg-custom-white dark:bg-custom-blackLight border-custom",children:[t.jsxs("tr",{children:[t.jsx("td",{className:"p-1.5 font-bold text-custom-blackLight dark:text-custom-white bg-custom-gray-default dark:bg-custom-blackSemi px-4 w-32 rounded-ss-xl",children:"ID:"}),t.jsx("td",{className:"p-1.5 pl-4 text-sm text-start w-auto",children:s.manager.id||"N/A"})]}),t.jsxs("tr",{children:[t.jsxs("td",{className:"p-1.5 font-bold text-custom-blackLight dark:text-custom-white bg-custom-gray-default dark:bg-custom-blackSemi px-4 max-w-[10rem]",children:[a("tables.responsable"),":"]}),t.jsx("td",{className:"p-1.5 pl-5 text-sm",children:t.jsx("div",{className:"flex justify-start w-full",children:t.jsx(c,{empleado:s.manager})})})]}),t.jsxs("tr",{children:[t.jsxs("td",{className:"p-1.5 font-bold text-custom-blackLight dark:text-custom-white bg-custom-gray-default dark:bg-custom-blackSemi px-4 max-w-[10rem]",children:[a("tables.adjunto"),":"]}),t.jsx("td",{className:"p-1.5 text-sm pl-4 text-start",children:t.jsx(c,{empleado:s.adjunto})})]}),t.jsxs("tr",{children:[t.jsxs("td",{className:"p-1.5 font-bold text-custom-blackLight dark:text-custom-white bg-custom-gray-default dark:bg-custom-blackSemi px-4 max-w-[10rem]",children:[a("tables.descripcion"),":"]}),t.jsx("td",{className:"p-1.5 text-sm pl-4 text-start",children:s.descripcion||"Not provided"})]})]})})}),t.jsx(u,{title:a("tables.contratosVigentes"),marginLeft:"ml-4",className:"border-4 rounded-xl p-4",children:t.jsx("div",{className:"overflow-auto dark:dark-scrollbar",children:((l=s.contratosVigentes)==null?void 0:l.length)>0?t.jsxs("table",{className:"min-w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-custom-gray-default dark:bg-custom-blackSemi rounded-t-xl text-custom-blackSemi dark:text-custom-white",children:[t.jsx("th",{className:"p-2 font-semibold text-sm text-center",children:"Empleado"}),t.jsx("th",{className:"p-2 font-semibold text-sm text-center",children:"Email"})]})}),t.jsx("tbody",{children:s.contratosVigentes.map(e=>{var i,r,m;return t.jsxs("tr",{className:"border-b last:border-none text-sm",children:[t.jsx("td",{className:"p-2 flex justify-between",children:e!=null&&e.empleado?t.jsx("div",{children:t.jsx(c,{empleado:e.empleado})}):t.jsx("span",{children:"No disponible"})}),t.jsx("td",{children:((r=(i=e==null?void 0:e.empleado)==null?void 0:i.user)==null?void 0:r.email)||((m=e==null?void 0:e.empleado)==null?void 0:m.email)||"No disponible"})]},e.id)})})]}):t.jsx("div",{className:"p-4 text-center text-custom-gray-default",children:"No hay contratos vigentes"})})})]})};export{X as SheetTable};
