import{j as e,X as f,r as x,A as S}from"./app-fwyInB3c.js";import{S as p}from"./SheetTable-oFCbTdfY.js";import{T as C,a as D,b as v,c as j}from"./tabs-DtCm3GAf.js";import{S as T}from"./SheetTableHeader-vhJO3F_n.js";import{I as N}from"./LucideIcon-CEqEhMjI.js";import{P as E}from"./Pill-l4GaXyto.js";import{S as A}from"./StatusEmpleadoMapColor-Bp2doaTo.js";import{C as F}from"./ContratosVigentesDialog-SpBmuJuH.js";import{S as u}from"./skeleton-DSiYFg9q.js";import{u as L}from"./useApiEndpoints-CHm1F3ft.js";const k=({label:a,value:i,isLast:o,isFirst:t})=>e.jsxs("div",{className:`overflow-hidden ${t?"rounded-t-[20px]":""} ${o?"rounded-b-[20px]":""}`,children:[e.jsx("div",{className:"bg-custom-gray-default/50 dark:bg-custom-gray-darker/50 p-3",children:e.jsx("span",{className:"text-sm text-custom-gray-semiDark dark:text-gray-300 font-medium",children:a})}),e.jsx("div",{className:`bg-white dark:bg-custom-gray-sidebar p-3 border-2 border-custom-gray-default dark:border-custom-gray-darker/50 -mt-[2px] ${o?"rounded-b-[20px]":""}`,children:e.jsx("span",{className:"text-sm text-custom-gray-semiDark dark:text-gray-200",children:i||"not Provided"})})]}),y=({label:a,value:i,className:o="",isHeader:t=!1,isLast:s=!1})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-custom-gray-default/50 dark:bg-custom-gray-darker/50 p-3 flex justify-between items-center",children:e.jsx("span",{className:"text-sm text-custom-gray-semiDark dark:text-gray-300 font-medium",children:a})}),e.jsx("div",{className:`bg-white dark:bg-custom-gray-sidebar p-3 flex items-center border-2 border-custom-gray-default dark:border-custom-gray-darker/50 ${o} ${s?"rounded-br-[20px]":""} ${t?"rounded-tr-[20px]":"-mt-[2px]"}`,children:e.jsx("span",{className:"text-sm text-custom-gray-semiDark dark:text-gray-200",children:i||"not Provided"})})]}),_=({empleado:a})=>{var c,b,d,g,m;const{auth:i}=f().props,t=[{label:"Nombre",value:a.nombre},{label:"Primer apellido",value:a.primerApellido},{label:"Segundo apellido",value:a.segundoApellido},{label:"Tipo de documento",value:(c=a.tipoDocumento)==null?void 0:c.nombre},{label:"Número de documento",value:a.nif},{label:"Caducidad del documento",value:a.caducidadNif?new Date(a.caducidadNif).toLocaleDateString("es-ES"):"N/A"},{label:"NISS",value:a.niss},{label:"Estado",value:e.jsx(E,{identifier:(b=a.estadoEmpleado)==null?void 0:b.nombre,mapColor:A,size:"text-xs",children:(d=a.estadoEmpleado)==null?void 0:d.nombre})},{label:"Fecha de nacimiento",value:a.fechaNacimiento?new Date(a.fechaNacimiento).toLocaleDateString("es-ES"):"N/A"},{label:"Género",value:(g=a.genero)==null?void 0:g.nombre},{label:"Dirección",value:(m=a.direccion)==null?void 0:m.full_address},{label:"Email corporativo",value:a.email},{label:"Email personal",value:a.emailSecundario},{label:"Teléfono",value:a.telefono},{label:"Teléfono personal",value:a.telefono_personal_movil},{label:"Teléfono personal fijo",value:a.telefono_personal_fijo},{label:"Extensión centrex",value:a.extension_centrex},{label:"Contacto de emergencia",value:a.contactoEmergencia},{label:"Teléfono de emergencia",value:a.telefonoEmergencia},{label:"Observaciones de salud",value:a.observacionesSalud||"Sin observaciones",condition:()=>{var n,h;const{auth:r}=f().props;return(h=(n=r.user)==null?void 0:n.roles)==null?void 0:h.some(w=>["Administrator","Super Admin"].includes(w.name))}}].filter(r=>r.condition?r.condition():!0),s=()=>e.jsx("div",{className:"block sm:hidden space-y-2",children:t.map((r,n,h)=>e.jsx(k,{label:r.label,value:r.value,isFirst:n===0,isLast:n===h.length-1},r.label))}),l=()=>e.jsx("div",{className:"hidden sm:grid sm:grid-cols-2 overflow-hidden rounded-[20px]",children:t.map((r,n)=>e.jsx(y,{label:r.label,value:r.value,isHeader:n===0,isLast:n===t.length-1},r.label))});return e.jsxs(e.Fragment,{children:[e.jsx(s,{}),e.jsx(l,{})]})},$=({empleado:a})=>{const[i,o]=x.useState(!1),t=[{label:"Tipo de empleado",value:e.jsx("span",{className:"text-sm",children:a.tipoEmpleado.nombre})},{label:"Contrato",value:e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 text-custom-gray-semiDark hover:text-custom-gray-dark dark:text-gray-300 dark:hover:text-white transition-colors",children:[e.jsx("span",{className:"text-sm font-medium",children:"Contratos vigentes"}),e.jsx(N,{name:"ArrowUpRight",size:"16"})]}),i&&e.jsx(F,{open:i,onOpenChange:o,model:a.id})]})},{label:"Horario",value:e.jsxs("button",{onClick:()=>S.visit("/admin/horarios"),className:"flex items-center gap-2 text-custom-gray-semiDark hover:text-custom-gray-dark dark:text-gray-300 dark:hover:text-white transition-colors",children:[e.jsx("span",{className:"text-sm font-medium",children:"Horario"}),e.jsx(N,{name:"ArrowUpRight",size:"16"})]})},{label:"Usuario asociado",value:e.jsx("span",{className:"text-sm",children:a.user?a.user.name||a.user.email:"No disponible"})}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block sm:hidden space-y-2",children:t.map((s,l,c)=>e.jsx(k,{label:s.label,value:s.value,isFirst:l===0,isLast:l===c.length-1},s.label))}),e.jsx("div",{className:"hidden sm:grid sm:grid-cols-2 overflow-hidden rounded-[20px]",children:t.map((s,l)=>e.jsx(y,{label:s.label,value:s.value,isHeader:l===0,isLast:l===t.length-1},s.label))})]})};function I({data:a}){return e.jsxs(e.Fragment,{children:[(a==null?void 0:a.user)&&e.jsx(T,{data:a==null?void 0:a.user}),e.jsxs(C,{defaultValue:"personalinformation",className:"w-full mt-6",children:[e.jsxs(D,{className:"w-full h-12 grid grid-cols-2 bg-custom-gray-default/50 dark:bg-custom-gray-darker/50 rounded-lg",children:[e.jsx(v,{value:"personalinformation",className:"h-full px-3 text-sm font-medium transition-all text-custom-gray-dark data-[state=active]:text-custom-gray-semiDark data-[state=active]:bg-white dark:text-gray-300 dark:data-[state=active]:bg-custom-gray-sidebar dark:data-[state=active]:text-white rounded-lg",children:e.jsx("span",{className:"whitespace-nowrap",children:"Información personal"})}),e.jsx(v,{value:"jobinformation",className:"h-full px-3 text-sm font-medium transition-all text-custom-gray-dark data-[state=active]:text-custom-gray-semiDark data-[state=active]:bg-white dark:text-gray-300 dark:data-[state=active]:bg-custom-gray-sidebar dark:data-[state=active]:text-white rounded-lg",children:e.jsx("span",{className:"whitespace-nowrap",children:"Información laboral"})})]}),e.jsx(j,{className:"mt-4 w-full",value:"personalinformation",children:e.jsx(_,{empleado:a})}),e.jsx(j,{className:"mt-4 w-full",value:"jobinformation",children:e.jsx($,{empleado:a})})]})]})}function P(){return e.jsxs("div",{className:"flex flex-col w-full space-y-8",children:[e.jsxs("div",{className:"w-full flex items-center space-x-4",children:[e.jsx(u,{className:"h-24 w-24 rounded-full"}),e.jsxs("div",{className:"flex flex-col justify-center space-y-2",children:[e.jsx(u,{className:"h-4 w-[250px]"}),e.jsx(u,{className:"h-4 w-[200px]"})]})]}),e.jsx(u,{className:"h-20 w-full"}),e.jsx(u,{className:"h-96 w-full"})]})}function q({open:a,onOpenChange:i,model:o,enableToView:t=!0}){const s=L(o),[l,c]=x.useState(null),[b,d]=x.useState(!0),[g,m]=x.useState(!1);return x.useEffect(()=>((async()=>{try{d(!0);const n=await axios.get(s.show);n.status===200?c(n.data.empleado):m(!0)}catch{m(!0)}finally{d(!1)}})(),()=>{}),[o]),b||!t?e.jsx(p,{title:null,open:a,onOpenChange:i,className:"w-full max-w-full sm:min-w-[600px]",descriptionContent:e.jsx("div",{className:"flex items-center justify-center w-full h-full mt-6",children:e.jsx(P,{})})}):e.jsx(p,{title:null,open:a,onOpenChange:i,className:"w-full max-w-full sm:min-w-[600px]",descriptionContent:e.jsx(e.Fragment,{children:l&&e.jsx(e.Fragment,{children:e.jsx(I,{data:l})})})})}export{q as S};
