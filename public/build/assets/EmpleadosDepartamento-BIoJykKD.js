import{j as e,r as m}from"./app-fwyInB3c.js";import{B as h}from"./BlockCard-TCX704se.js";import u from"./Skeleton-Di5zxkGe.js";import{C as f,l as j,m as g,L as y,S as c}from"./charts-D-b4h_4c.js";import{S as b,a as N,b as C,c as S,d as k}from"./select-B5O0TxCl.js";import{P as v,a as E}from"./PieChart-DDiBUCNq.js";import"./skeleton-DSiYFg9q.js";import"./utils-CytzSlOG.js";import"./throttle-CmSTFqON.js";import"./index-DpIruHMc.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-C_F9oucK.js";import"./index-DloWbRVd.js";import"./index-B7srb2QZ.js";import"./index-BIJodELy.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-CLai1W86.js";import"./index-BZgm3BCW.js";import"./index-4A9uUPu1.js";import"./index-CeuhGnKJ.js";import"./chevron-up-OjKdrhzc.js";import"./createLucideIcon-DoJ0Kelj.js";import"./check-5DjPwM22.js";import"./PolarAngleAxis-CNFzyAg3.js";function _({data:s}){if(!s||s.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full min-h-[300px] text-muted-foreground",children:e.jsx("p",{children:"No hay datos de empleados por departamento."})});const a=s.map((t,r)=>({month:t.department_name,desktop:t.employee_count,fill:`var(--chart-${r+1})`})),i=Object.fromEntries(s.map((t,r)=>[t.department_name,{label:t.department_name,color:`var(--chart-${r+1})`}])),d="pie-interactive",[o,p]=m.useState(a[0].month),l=m.useMemo(()=>a.findIndex(t=>t.month===o),[o,a]),x=m.useMemo(()=>a.map(t=>t.month),[a]);return e.jsxs("section",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-4",children:e.jsxs(b,{value:o,onValueChange:p,children:[e.jsx(N,{className:"ml-auto h-7 w-[130px] rounded-lg pl-2.5 bg-custom-gray-default dark:bg-custom-gray-darker text-nowrap","aria-label":"Select a value",children:e.jsx(C,{placeholder:"selecciona..."})}),e.jsx(S,{align:"end",className:"rounded-xl bg-custom-gray-default dark:bg-custom-gray-darker",children:x.map((t,r)=>{const n=i[t];return n?e.jsx(k,{value:t,className:"rounded-lg [&_span]:flex",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"flex h-3 w-3 shrink-0 rounded-xs",style:{backgroundColor:`var(--chart-${r+1})`}}),n==null?void 0:n.label]})},t):null})})]})}),e.jsx(f,{id:d,config:i,className:"mx-auto aspect-square w-full max-w-[300px]",children:e.jsxs(v,{children:[e.jsx(j,{cursor:!1,content:e.jsx(g,{hideLabel:!0})}),e.jsx(E,{data:a,dataKey:"desktop",nameKey:"month",innerRadius:60,strokeWidth:5,activeIndex:l,activeShape:({outerRadius:t=0,...r})=>e.jsxs("g",{children:[e.jsx(c,{...r,outerRadius:t+10}),e.jsx(c,{...r,outerRadius:t+25,innerRadius:t+12})]}),children:e.jsx(y,{content:({viewBox:t})=>{if(t&&"cx"in t&&"cy"in t&&a[l])return e.jsxs("text",{x:t.cx,y:t.cy,textAnchor:"middle",dominantBaseline:"middle",children:[e.jsx("tspan",{x:t.cx,y:t.cy,className:"fill-foreground text-3xl font-bold",children:a[l].desktop.toLocaleString()}),e.jsx("tspan",{x:t.cx,y:(t.cy||0)+24,className:"fill-muted-foreground",children:"Empleados"})]})}})})]})})]})}function te({data:s,date:a}){return e.jsx(h,{title:"Empleados por Departamento",className:"h-full",children:s&&s.stats?e.jsxs("div",{className:"flex flex-col h-full justify-between gap-4",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:a}),e.jsx(_,{data:s.stats}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Cantidad de empleados totales: ",s.stats.length]})]}):e.jsx(u,{})})}export{te as default};
