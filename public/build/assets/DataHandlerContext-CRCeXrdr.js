import{r as e,X as H,a as b,j as h}from"./app-fwyInB3c.js";const d=e.createContext(),E=()=>{const r=e.useContext(d);if(!r)throw new Error("useDataHandler debe usarse dentro de DataHandlerContextProvider");return r},g=({children:r})=>{const[u,a]=e.useState([]),[x,o]=e.useState(!0),[f,l]=e.useState(!1),{auth:v}=H().props,n=e.useCallback(async()=>{o(!0);try{const t=await b.get(route("api.v1.admin.empleados.index"));t.status===200?(a(t.data.empleados),l(t.data.canViewHealthObservations||!1)):(a([]),l(!1))}catch(t){console.error("error :>> ",t),a([])}finally{o(!1)}},[a,o]),p=e.useCallback(t=>{a(s=>s.some(i=>i.id===(t==null?void 0:t.id))?[t,...s.filter(i=>i.id!==t.id)]:[t,...s])},[]),C=e.useCallback(t=>{a(s=>s.filter(c=>c.id!==t))},[]);return e.useEffect(()=>{n()},[n]),h.jsx(d.Provider,{value:{data:u,setData:a,fetchData:n,loading:x,updateData:p,deleteItem:C,canViewHealthObservations:f},children:r})};export{g as DataHandlerContextProvider,E as useDataHandler};
