import{j as e,G as A,r as o,S as H,x as i}from"./app-fwyInB3c.js";import{G as R}from"./GuestLayout-OqRD8xH_.js";import{I as y}from"./InputError-CrNaC_eR.js";import{T as k}from"./TextInput-B-VFdlBC.js";import{I as w}from"./InputLabel-Duaka1X0.js";import{B as N}from"./Button-CQuYVLGu.js";import{I as u}from"./LucideIcon-CEqEhMjI.js";import{u as C}from"./useTranslation-BtIkv0Na.js";import{P as J}from"./PopUpIncidencias-CaovAEi3.js";import{o as K,e as M,s as S}from"./types-BZmDMmQb.js";import"./ApplicationLogo-C2FcO4AY.js";import"./ThemeSelector-C9UzGWS3.js";import"./Dropdown-Bn4Ieg6t.js";import"./transition-ByAjZSmr.js";import"./ShowNotificactionFromJestream-cKOlvVdg.js";import"./index-WlsBA3k2.js";import"./input-CqlBlYgU.js";import"./utils-CytzSlOG.js";import"./label-zCtqi3J5.js";import"./index-BIJodELy.js";import"./index-DloWbRVd.js";import"./index-BwobEAja.js";import"./createLucideIcon-DoJ0Kelj.js";import"./calendar-days-Dti00tYQ.js";import"./calendar-k1x2vwx8.js";import"./check-5DjPwM22.js";import"./chevron-up-OjKdrhzc.js";import"./chevron-right-B1iws4WK.js";import"./user-plus-zM6CnMXf.js";import"./user-CNwXqt1W.js";import"./octagon-alert-BRAzZNeG.js";import"./x-2mzC_aTV.js";import"./card-DYkZYgg5.js";import"./textarea-C969rVin.js";function Q(){const{t}=C(["common"]);return e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-custom-gray-darker/50",children:[e.jsx("div",{className:"hidden h-full w-1/2 lg:block"}),e.jsx("div",{className:"flex h-full w-full items-center justify-center p-4 lg:w-1/2",children:e.jsxs("div",{className:"flex items-center space-x-3 rounded-full bg-custom-white p-7 shadow-xl dark:bg-custom-blackSemi",children:[e.jsx("div",{role:"status",className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-custom-orange border-t-transparent motion-reduce:animate-[spin_1.5s_linear_infinite]"}),e.jsxs("span",{className:"text-custom-blackSemi dark:text-custom-gray-default",children:[t("loading",{ns:"common"}),"..."]})]})})]})}function Pe({status:t,canResetPassword:I}){const{t:r,i18n:V}=C(["validation","welcome","glossary","common"]),{data:l,setData:p,post:E,processing:L,errors:x,reset:P,transform:T,setError:D,clearErrors:F}=A({email:"",password:"",remember:!1}),[m,G]=o.useState(!1),[f,g]=o.useState(!1),[O,h]=o.useState(!1),[b,j]=o.useState({nombre:"",apellido:"",email:"",razon:""}),v=()=>{h(s=>!s)},_=s=>{const{name:n,value:c}=s.target;j(d=>({...d,[n]:c}))},z=s=>{s.preventDefault(),console.log("Datos enviados:",b),h(!1),j({nombre:"",apellido:"",email:"",razon:""})},B=K({email:S().email(r("email.invalid",{ns:"validation"})),password:S().min(8,r("password.min",{ns:"validation"})),remember:M()}),U=s=>{s.preventDefault(),F();const{success:n,error:c}=B.safeParse(l),{errors:d=[]}=c||{};if(!n){d.forEach(a=>{const{path:$,message:q}=a;D($[0],q)});return}T(a=>({...a,remember:a.remember?"on":""})),g(!0),E(route("login"),{onFinish:()=>{g(!1),P("password")},onSuccess:()=>{route("dashboard")}})};return e.jsxs(R,{children:[e.jsx(H,{title:"Log in"}),t&&e.jsx("div",{className:"mb-5 text-sm font-medium text-green-600",children:t}),e.jsxs("form",{onSubmit:U,children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"email",value:r("email.title",{ns:"validation"})}),e.jsx(k,{id:"email",type:"email",name:"email",value:l.email,autoComplete:"username",placeholder:r("email.placeholder",{ns:"validation"}),onChange:s=>p("email",s.target.value),className:"block w-full rounded-full bg-custom-gray-default dark:bg-custom-blackSemi mt-3 py-6 border-2 border-custom-gray-default dark:border-custom-blackSemi text-custom-gray-darker dark:text-custom-gray-light ${className}"}),e.jsx(y,{message:x.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(w,{htmlFor:"password",value:r("password.title",{ns:"validation"})}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{id:"password",type:m?"text":"password",name:"password",value:l.password,autoComplete:"current-password",placeholder:r("password.placeholder",{ns:"validation"}),onChange:s=>p("password",s.target.value),className:"block w-full rounded-full bg-custom-gray-default dark:bg-custom-blackSemi mt-3 py-6 border-2 border-custom-gray-default dark:border-custom-blackSemi text-custom-gray-darker dark:text-custom-gray-light ${className}"}),e.jsx("button",{type:"button",onClick:()=>G(!m),className:"absolute inset-y-0 right-0 pr-5 flex items-center text-custom-blue dark:text-custom-white",children:m?e.jsx(u,{name:"Eye",className:"w-5 h-5"}):e.jsx(u,{name:"EyeOff",className:"w-5 h-5"})})]}),e.jsx(y,{message:x.password,className:"mt-2"})]}),e.jsx("div",{className:"mt-4 flex items-center",children:e.jsx(N,{variant:"primary",disabled:L||f,className:"text-custom-gray-default dark:text-custom-black font-semibold rounded-full py-6 px-4 w-full",children:r("login",{ns:"glossary"})})}),e.jsxs("div",{className:"ml-2 block ",children:[e.jsx("label",{className:"flex ",children:e.jsxs("p",{className:"text-xs mt-4 text-custom-gray-dark",children:["Al iniciar sesión, aceptas los"," ",e.jsx(i,{href:route("terms.service"),className:"hover:underline",children:"Términos de servicio"})," y la ",e.jsx(i,{href:route("privacy.policy"),className:"hover:underline",children:"Política de privacidad"}),", incluida la política de"," ",e.jsx(i,{href:route("cookies.policy"),className:"hover:underline",children:"Uso de Cookies"}),"."]})}),e.jsx("div",{className:"mt-4 flex items-center justify-start sm:justify-end",children:I&&e.jsx(i,{href:route("password.request"),className:"rounded-md text-sm text-custom-gray-dark underline hover:text-custom-gray-darker focus:outline-none focus:ring-2 focus:ring-custom-orange focus:ring-offset-2 dark:text-custom-gray-semiLight dark:hover:text-custom-gray-light dark:focus:ring-offset-custom-gray-darker",children:r("password.forgot",{ns:"welcome"})})})]})]}),f&&e.jsx(Q,{}),e.jsxs(e.Fragment,{children:[e.jsx(N,{variant:"ghost",onClick:v,className:"absolute bottom-10 right-10",children:e.jsx(u,{name:"CircleHelp",className:"cursor-pointer text-custom-orange"})}),O&&e.jsx(J,{className:"fixed bottom-20 right-14",onClose:v,formData:b,handleChange:_,handleSubmit:z})]})]})}export{Pe as default};
