import{r as a,j as C}from"./app-fwyInB3c.js";const l=a.createContext(null);function j(){const r=a.useContext(l);if(!r)throw new Error("useDataHandler debe usarse dentro de DataHandlerContextProvider");return r}const p=({children:r})=>{const[c,e]=a.useState([]),[u,o]=a.useState(!0),n=a.useCallback(async()=>{o(!0);try{const t=await axios.get(route("api.v1.admin.jornadas.index"));t.status===200?e(t.data.jornadas):e([])}catch(t){console.log("error :>> ",t),e([])}finally{o(!1)}},[e,o]),x=a.useCallback(t=>{e(s=>s.some(d=>d.id===(t==null?void 0:t.id))?[t,...s.filter(d=>d.id!==t.id)]:[t,...s])},[]),f=a.useCallback(t=>{e(s=>s.filter(i=>i.id!==t))},[]);return a.useEffect(()=>{n()},[n]),C.jsx(l.Provider,{value:{data:c,setData:e,fetchData:n,loading:u,updateData:x,deleteItem:f},children:r})};export{p as DataHandlerContextProvider,j as useDataHandler};
