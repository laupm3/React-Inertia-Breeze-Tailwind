import{r as m,G as Z,j as e,S as K}from"./app-fwyInB3c.js";import{A as ee}from"./AuthenticatedLayout-B4CSARVj.js";import te from"./CreateUpdateView-iMZ6MaGV.js";import{ViewContextProvider as ae,useView as se}from"./ViewContext-BVAt88fE.js";import{DataHandlerContextProvider as re}from"./DataHandlerContext-BKP2Eurn.js";import oe from"./DataTablePortal-D8apk7N6.js";import le from"./SheetTableView-DruDVIwl.js";import ie from"./DeleteView-VWbX-ljA.js";import{f as ne,c as ce,d as me,e as de,b as ue,D as pe}from"./dialog-iaZkf6Xy.js";import{u as xe}from"./useTranslation-BtIkv0Na.js";import{o as fe,s as C,u as R,a as T,d as $,g as L,b as H}from"./types-BZmDMmQb.js";import{u as J,S as he}from"./SheetTable-Cfz8sMya.js";import{toast as B}from"./index-WlsBA3k2.js";import{g as F,c as ge,a as M}from"./DateTimePicker-22RgvA6H.js";import{I as O}from"./input-CqlBlYgU.js";import{B as E}from"./Button-CQuYVLGu.js";import{S as G}from"./separator-BWKairMX.js";import{I as P}from"./LucideIcon-CEqEhMjI.js";import{u as je}from"./useDebounce-xNcQ83OW.js";import{F as be}from"./FetchSelect-CvqHmH4Y.js";import{A as Ne}from"./AdvanceDropdown-CXptW6sy.js";import{A as _e}from"./AdvanceDropdown-qoEi4BOz.js";import{A as we}from"./AdvancedHeader-CpvwMmYr.js";import{r as ve}from"./RowCheckedColumn-BShQ1j9z.js";import{P as q}from"./Pill-l4GaXyto.js";import{S as Q}from"./StatusUsuarioMapColor-BJWSxlNS.js";import{A as De}from"./alert-D9izbOQG.js";import{S as j}from"./skeleton-DSiYFg9q.js";import{S as ke}from"./Spinner-DPRe7Z_J.js";import{O as ye}from"./octagon-alert-BRAzZNeG.js";import{D as Ce}from"./DeleteDialog-CkqCyH9n.js";import"./sidebar-CPh6C6LB.js";import"./index-DloWbRVd.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./button-Blwr-A5N.js";import"./sheet-DHc5Hgr8.js";import"./index-DVo7DTeW.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-B7srb2QZ.js";import"./index-BIJodELy.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-BZxTbISK.js";import"./x-2mzC_aTV.js";import"./createLucideIcon-DoJ0Kelj.js";import"./tooltip-DFfoxvAF.js";import"./index-CLai1W86.js";import"./index-BZgm3BCW.js";import"./index-CeuhGnKJ.js";import"./dropdown-menu-bHoOJ61X.js";import"./index-C_F9oucK.js";import"./index-v24TFYKQ.js";import"./check-5DjPwM22.js";import"./chevron-right-B1iws4WK.js";import"./popover-DaRbHQOK.js";import"./avatar-oBOSifLN.js";import"./PopUpIncidencias-CaovAEi3.js";import"./card-DYkZYgg5.js";import"./textarea-C969rVin.js";import"./UserAvatar-cKyxDEhx.js";import"./ApplicationLogo-C2FcO4AY.js";import"./Yoopta-Dj4Guze5.js";import"./throttle-CmSTFqON.js";import"./PrimaryButton-SsXyLm2e.js";import"./DecisionModal-Dl8siGBG.js";import"./alert-dialog-kDfn0La3.js";import"./useNotifications-CSWGH93r.js";import"./ShowNotificactionFromJestream-cKOlvVdg.js";import"./OnboardingModal-D0HRNKzO.js";import"./Modal-BkRna8gK.js";import"./transition-ByAjZSmr.js";import"./StepItem-bNLmZaq8.js";import"./StepProgress-DNpLodXf.js";import"./WelcomeContent-BPJ5E7_N.js";import"./onboardingImages-CoczwfNn.js";import"./AboutContent-DOlAXyok.js";import"./TeamContent-C0DysUYq.js";import"./calendar-days-Dti00tYQ.js";import"./calendar-k1x2vwx8.js";import"./chevron-up-OjKdrhzc.js";import"./user-plus-zM6CnMXf.js";import"./user-CNwXqt1W.js";import"./DataTable-D4Fn3B2g.js";import"./table-cS0UKUSm.js";import"./DataTableContext-BYrqyX0i.js";import"./index-Z1g0u-qm.js";import"./TableFilters-ZojjKFl2.js";import"./GlobalFilter-DNA5td8x.js";import"./ImportExportDropdown-COI3HdRN.js";import"./index-C-xs73Vr.js";import"./index-DpIruHMc.js";import"./badge-BgloL8Ae.js";import"./scroll-area-CvQ1XCoU.js";import"./select-B5O0TxCl.js";import"./index-4A9uUPu1.js";import"./checkbox-BQT_ir1e.js";import"./index-BxSEkZvI.js";import"./TableDebugging-C1u6ii1k.js";import"./useColumns-C8iEfIBI.js";import"./multi-select-BSyp-qjs.js";import"./command-PoUoScut.js";import"./RowSelectionColumn-COjZFz9T.js";import"./RowActionsColumn-CM2slffX.js";import"./RowActionsTrigger-DnJzXomR.js";import"./EmpleadoAvatar-BBWI_HPN.js";import"./createDateFilterFn-BjCRoX6R.js";import"./isWithinInterval-B-9N_Ly2.js";import"./toDate-qOSwr3PX.js";import"./parseISO-Efi0RkWR.js";import"./constants-BKFt95HM.js";import"./format-Be40hyfq.js";import"./calendar-DctTJhwg.js";import"./endOfWeek-DoVA-Yvp.js";import"./addDays-B9Fzl-_R.js";import"./DatePicker-YJSItPq7.js";import"./BlockCard-TCX704se.js";import"./SheetTable-oFCbTdfY.js";import"./tabs-DtCm3GAf.js";import"./StatusEmpleadoMapColor-Bp2doaTo.js";import"./ContratosVigentesDialog-SpBmuJuH.js";import"./DataHandlerContext--vx6a3_3.js";import"./useApiEndpoints-CHm1F3ft.js";import"./WeekDay-C1ZcXS4Y.js";import"./GetModalidadIcon-BUgIPR97.js";import"./getRoundingMethod-D0I6Z7xl.js";import"./es-DNLwfvrq.js";import"./react-icons.esm-DXl_FId9.js";import"./ColumnFilter-oxYUebdb.js";import"./RowActionsColumn-C3VJw1Sg.js";import"./RowActionsTrigger-C2PXJFNn.js";import"./CreateUpdateDialog-1qQQjI_x.js";import"./GoogleAddress-DWOptz48.js";import"./Map-D73hm0ip.js";import"./index.modern-WcJlzckG.js";import"./SheetTable-CiCNZjvD.js";import"./SheetTableHeader-vhJO3F_n.js";import"./Create-tmHr2JLD.js";import"./CreateLanguageForm-xwtvYsjX.js";import"./InputSkeleton-CFMfUb-2.js";const Se=()=>{const{t:a}=xe(["datatable"]);return fe({id:$().nullable(),photo:$().nullable(),name:C().nonempty("El nombre es un campo obligatorio"),email:C().email("El email debe ser un email válido"),empleado_id:T().nullable().optional(),role_id:T().nullable().refine(t=>t!==null,"El rol es un campo obligatorio"),status:T(),status_initial_date:R([L(),C().transform(t=>{if(!t)return null;const n=new Date(t);return isNaN(n.getTime())?null:n}),H()]).nullable().optional(),status_final_date:R([L(),C().transform(t=>{if(!t)return null;const n=new Date(t);return isNaN(n.getTime())?null:n}),H()]).nullable().optional(),user_timezone:C().nullable().optional()})},W={id:null,photo:null,name:"",email:"",empleado_id:null,role_id:null,status:3,status_initial_date:null,status_final_date:null,user_timezone:null},Ee=a=>{var i,x,s;if(!a)return{id:null,photo:null,name:"",email:"",empleado_id:null,role_id:null,status:3,status_initial_date:null,status_final_date:null,user_timezone:null};const t=l=>{if(!l)return null;try{const c=new Date(l);return isNaN(c.getTime())?null:c}catch(c){return console.error("Error parsing date:",l,c),null}};return{id:a.id||null,photo:a.profile_photo_url||null,name:a.name||"",email:a.email||"",empleado_id:((i=a.empleado)==null?void 0:i.id)||null,role_id:((x=a.role)==null?void 0:x.id)||null,status:((s=a.status)==null?void 0:s.id)||3,status_initial_date:t(a.status_initial_date),status_final_date:t(a.status_final_date),user_timezone:null}},X=m.createContext(null),Te=({children:a,model:t,open:n,onOpenChange:i,dataKey:x,onSaveData:s=null,modelAlias:l="registro"})=>{const[c,w]=m.useState(!1),[v,h]=m.useState(!1),[D,f]=m.useState(!1),[S,k]=m.useState(!1),r=J(t),o=Z(W),p=Se(),b=m.useCallback(d=>{const u={...d,photo:d.photo&&!(d.photo instanceof File||d.photo instanceof Blob)?null:d.photo,user_timezone:F()},g=new FormData;return Object.keys(u).forEach(N=>{const y=u[N];y!=null&&g.append(N,u[N])}),g},[]);m.useEffect(()=>{const d=async()=>{try{f(!0),h(!1);const u=await axios.get(r.show);u.status===200?o.setData(Ee(u.data[x])):h(!0)}catch(u){console.error("Error al cargar datos:",u),h(!0)}finally{f(!1)}};o.clearErrors(),t?d():(o.setData(W),h(!1),f(!1))},[t]);const A=m.useCallback((d,u)=>{if(typeof d=="object"&&u===void 0){o.setData(g=>({...g,...d}));return}o.setData(g=>({...g,[d]:u}))},[o]),U=m.useCallback(()=>{const d=p.safeParse(o.data);if(o.clearErrors(),!d.success){const u=d.error.flatten().fieldErrors;Object.keys(u).forEach(g=>{o.setError(g,u[g][0])})}return d.success},[o,p]),V=m.useCallback(async()=>{var u,g;const d=b({...o.data});t&&d.append("_method","PUT");try{k(!0),h(!1),o.clearErrors();const N=t?await axios.post(r.update,d,{headers:{"Content-Type":"multipart/form-data"}}):await axios.post(r.store,d,{headers:{"Content-Type":"multipart/form-data"}});s&&s(N.data.user),i(!1),o.clearErrors(),B.success(t?`Registro ${l} actualizado con éxito`:`Registro ${l} creado con éxito`)}catch(N){if(h(!0),console.log("err :>> ",N),(g=(u=N.response)==null?void 0:u.data)!=null&&g.errors){const{errors:y}=N.response.data;Object.keys(y).forEach(I=>{o.setError(I,y[I][0])})}B.error(t?`Error al actualizar el ${l}`:`Error al crear el ${l}`)}finally{k(!1)}},[t,r.update,r.store,o,s,i]),z=m.useCallback(()=>{U()&&V()},[U,V]),Y=m.useMemo(()=>({modelAlias:l,model:t,error:v,form:o,updateForm:A,handleSubmit:z,onSaveData:s,setError:h,onOpenChange:i,isProcessing:c,isLoading:D,isSaving:S,setIsProcessing:w,dataKey:x}),[l,t,v,o,A,z,i,c,D,S]);return e.jsx(X.Provider,{value:Y,children:a})};function _(){const a=m.useContext(X);if(!a)throw new Error("useDialogData debe usarse dentro de DialogDataContextProvider");return a}function Pe(){return m.useMemo(()=>[ve,{id:"estado",title:"Estado usuario",enableHiding:!1,enableSorting:!0,sortUndefined:"last",enableFiltering:!0,header:({column:t})=>e.jsx(we,{column:t}),cell:({row:t})=>e.jsx(q,{identifier:t.original.name,children:t.original.label,mapColor:Q,size:"text-xs",textClassName:"font-medium"}),accessorFn:t=>`${t.label}`,filterFn:(t,n,i)=>{if(!i.length)return!0;const x=t.getValue(n);return i.some(s=>x.toLowerCase()===s.toLowerCase())}}],[])}function Fe({defaultValue:a=null,onChangeValue:t=()=>{},enableCreateUpdateView:n=!1,enableSheetTableView:i=!1}){const x=J();return e.jsx(_e,{defaultValue:a,onChangeValue:t,renderSelection:s=>e.jsx(q,{identifier:s.name,children:s.label,mapColor:Q,size:"text-xs",textClassName:"font-medium"}),fetchUrl:x.statuses,dataKey:"statuses",columns:Pe(),cacheDuration:10*60*1e3,enableCreateUpdateView:n,enableSheetTableView:i})}function Ae({}){var k;const{form:a,model:t,updateForm:n,onSaveData:i,dataKey:x}=_(),{data:s,errors:l}=a;m.useEffect(()=>{s.photo&&typeof s.photo=="string"&&s.photo.startsWith("http")&&h(s.photo)},[s.photo]);const[c,w]=m.useState({...s,photo:s.photo&&typeof s.photo=="string"&&s.photo.startsWith("http")?null:s.photo}),[v,h]=m.useState(s.photo||null),D=je(n,500);m.useEffect(()=>{const r=typeof s.photo=="string"&&s.photo.startsWith("http"),o=p=>{if(!p)return null;if(p instanceof Date)return p;try{const b=new Date(p);return isNaN(b.getTime())?null:b}catch(b){return console.error("Error parsing date:",p,b),null}};w({...s,photo:r?null:s.photo,status_initial_date:o(s.status_initial_date),status_final_date:o(s.status_final_date)}),h(s.photo&&s.photo instanceof File?URL.createObjectURL(s.photo):s.photo?s.photo:null)},[s]);const f=m.useCallback((r,o)=>{let p=o;(r==="status_initial_date"||r==="status_final_date")&&o&&(o instanceof Date?p=o.toISOString():p=ge(o)),w(typeof r=="object"?b=>({...b,...r}):b=>({...b,[r]:o})),l[r]&&delete l[r],D(r,p)},[D]),S=async()=>{try{const r=await axios.delete(route("api.v1.admin.users.profile-photo.destroy",{id:t}));i&&i(r.data[x])}catch(r){console.error("Error al eliminar la foto:",r)}};return e.jsxs("div",{className:"flex flex-col gap-4 h-screen",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx("input",{id:"photo",type:"file",accept:"image/*",className:"hidden",onChange:r=>{const o=r.target.files[0];if(o){f("photo",o);const p=new FileReader;p.onloadend=()=>{h(p.result)},p.readAsDataURL(o)}}}),e.jsx("div",{className:"flex flex-col items-center mt-2",children:v?e.jsx("span",{className:"block rounded-full w-32 h-32 bg-cover bg-no-repeat bg-center shadow-md",style:{backgroundImage:`url('${v}')`}}):c.photo_url?e.jsx("img",{src:c.photo_url,alt:"Foto actual",className:"rounded-full h-32 w-32 object-cover shadow-md"}):e.jsx("div",{className:"flex items-center justify-center rounded-full h-32 w-32 bg-blue-100 text-blue-600 text-4xl font-bold",children:((k=c.name)==null?void 0:k[0])||"?"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsxs(E,{variant:"primary",onClick:()=>document.getElementById("photo").click(),className:"gap-4",children:[e.jsx(P,{name:"Upload",size:"16"}),"Subir Foto"]}),c.photo&&e.jsxs(E,{variant:"destructive",onClick:()=>{f("photo",null),S(),h(null)},className:"gap-4",children:[e.jsx(P,{name:"Trash",size:"16"}),"Eliminar foto"]})]}),e.jsx("span",{className:"text-sm mt-4 text-gray-500",children:"Solo se permiten imágenes JPG y PNG de hasta 2MB."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("span",{className:"font-bold text-custom-blue dark:text-custom-orange",children:["Alias",e.jsx("span",{className:"text-custom-orange",children:"*"})]}),e.jsx(O,{placeholder:"Alias del usuario",className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi",value:c.name||"",onChange:r=>f("name",r.target.value)}),l.name&&e.jsx("span",{className:"text-red-500 text-sm",children:l.name})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("span",{className:"font-bold text-custom-blue dark:text-custom-orange",children:["Email",e.jsx("span",{className:"text-custom-orange",children:"*"})]}),e.jsx(O,{placeholder:"Email del usuario",className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi",value:c.email||"",onChange:r=>f("email",r.target.value)}),l.email&&e.jsx("span",{className:"text-red-500 text-sm",children:l.email})]})]}),e.jsx(G,{className:"bg-custom-gray-darker dark:bg-custom-white"}),e.jsx("h1",{className:"font-bold text-custom-blue dark:text-custom-orange",children:"Estado del usuario"}),e.jsxs(De,{className:`
          mb-4 flex justify-center items-center
          bg-blue-50 text-gray-800
          font-medium py-3 gap-2
          border-none
          dark:bg-gray-900 dark:text-gray-100 dark:border-gray-700
        `,children:[e.jsx("div",{children:e.jsx(P,{name:"Info",size:"18",className:"text-blue-500 dark:text-blue-400"})}),e.jsx("div",{className:"flex-1 text-blue-500 dark:text-blue-400",children:"El estado del usuario determina su visibilidad y permisos en la plataforma. Asegúrate de seleccionar el estado correcto antes de guardar."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("span",{className:"font-bold text-custom-blue dark:text-custom-orange",children:["Estado del usuario ",e.jsx("span",{className:"text-custom-orange",children:"*"})]}),e.jsx(Fe,{defaultValue:c.status||null,onChangeValue:r=>f("status",Number(r))}),l.status&&e.jsx("span",{className:"text-red-500 text-sm",children:l.status})]}),e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsxs("div",{className:"flex flex-col flex-1 gap-2",children:[e.jsxs("span",{className:"font-bold text-custom-blue dark:text-custom-orange",children:["Iniciar cambio",e.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-2",children:["(",F(),")"]})]}),e.jsx(M,{value:c.status_initial_date instanceof Date?c.status_initial_date:null,onChange:r=>f("status_initial_date",r),disabled:!1,format:"PP, HH:mm",modal:!0}),l.status_initial_date&&e.jsx("span",{className:"text-red-500 text-sm",children:l.status_initial_date})]}),t&&e.jsxs("div",{className:"flex flex-col flex-1 gap-2",children:[e.jsxs("span",{className:"font-bold text-custom-blue dark:text-custom-orange",children:["Detener cambio",e.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-2",children:["(",F(),")"]})]}),e.jsx(M,{value:c.status_final_date instanceof Date?c.status_final_date:null,onChange:r=>f("status_final_date",r),disabled:!1,format:"PP, HH:mm",modal:!0}),l.status_final_date&&e.jsx("span",{className:"text-red-500 text-sm",children:l.status_final_date})]})]})]}),e.jsx(G,{className:"bg-custom-gray-darker dark:bg-custom-white"}),e.jsx("h1",{className:"text-lg font-bold text-custom-blue dark:text-custom-orange",children:"Vinculación"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"font-bold text-custom-blue dark:text-custom-orange",children:"Asociar Empleado"}),e.jsx(Ne,{defaultValue:c.empleado_id||null,onChangeValue:r=>f("empleado_id",r),enableCreateUpdateView:!0,enableSheetTableView:!0}),l.empleado_id&&e.jsx("span",{className:"text-red-500 text-sm",children:l.empleado_id})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("span",{className:"font-bold text-custom-blue dark:text-custom-orange",children:["Asignar Rol ",e.jsx("span",{className:"text-custom-orange",children:"*"})]}),e.jsx(be,{fetchRoute:"api.v1.admin.roles.index",responseParameter:"roles",value:c.role_id||null,onValueChange:r=>f("role_id",parseInt(r,10)),disabled:!1}),l.role_id&&e.jsx("span",{className:"text-red-500 text-sm",children:l.role_id})]})]})]})}function Ue(){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col w-full gap-12 bg-custom-white dark:bg-custom-blackLight p-4",children:[e.jsx("div",{className:"flex flex-col gap-4 dark:dark-scrollbar",children:e.jsx(j,{className:"h-8 w-[350px]"})}),e.jsxs("div",{className:"flex flex-row w-full gap-4 overflow-y-auto dark:dark-scrollbar",children:[e.jsxs("div",{className:"flex flex-col w-1/2 gap-4 dark:dark-scrollbar",children:[e.jsx(j,{className:"h-8 w-[250px]"}),e.jsx(j,{className:"h-12 w-full"})]}),e.jsxs("div",{className:"flex flex-col w-1/2 gap-4 dark:dark-scrollbar",children:[e.jsx(j,{className:"h-8 w-[250px]"}),e.jsx(j,{className:"h-12 w-full"})]})]}),e.jsx(j,{className:"h-1 w-full"}),e.jsxs("div",{className:"flex flex-row w-full gap-4 overflow-y-auto dark:dark-scrollbar",children:[e.jsxs("div",{className:"flex flex-col w-1/2 gap-4 dark:dark-scrollbar",children:[e.jsx(j,{className:"h-8 w-[250px]"}),e.jsx(j,{className:"h-12 w-full"})]}),e.jsxs("div",{className:"flex flex-col w-1/2 gap-4 dark:dark-scrollbar",children:[e.jsx(j,{className:"h-8 w-[250px]"}),e.jsx(j,{className:"h-12 w-full"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 p-4",children:[e.jsx(j,{className:"h-10 w-24"}),e.jsx(j,{className:"h-10 w-24"})]})]})}function Ve(){const{model:a,handleSubmit:t,onOpenChange:n,isSaving:i}=_(),x=a?"Actualizar":"Guardar",s=a?"Actualizando...":"Guardando...";return e.jsxs(ne,{children:[e.jsx("div",{className:"flex flex-row w-full items-center justify-between",children:e.jsxs("div",{className:"flex items-center ml-auto justify-end gap-2",children:[e.jsx(E,{variant:"secondary",onClick:()=>n(!1),disabled:i,children:"Cancelar"}),e.jsx(E,{variant:"primary",onClick:()=>t(),disabled:i,children:x})]})}),i&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-2",children:[e.jsx(ke,{size:"sm",className:"text-custom-orange"}),e.jsxs("span",{className:"text-md",children:[s,"..."]})]})]})}function ze(){const{modelAlias:a,model:t}=_(),n=m.useMemo(()=>t?`Actualizar ${a}`:`Crear ${a}`,[t]);return e.jsxs(ce,{children:[e.jsx(me,{className:"dark:text-custom-white",children:n}),e.jsx(de,{className:"hidden",children:n})]})}const Ie=()=>{const{error:a}=_();return a?e.jsxs("div",{className:"mt-4 mb-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-300 p-3 rounded-md flex items-start gap-2 animate-in fade-in slide-in-from-top-3 duration-300",children:[e.jsx(ye,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Ha ocurrido un error"}),e.jsx("p",{className:"text-sm",children:"No se pudo procesar la solicitud. Por favor, inténtalo de nuevo."})]})]}):null};function Re({children:a}){const{isSaving:t}=_();return e.jsxs("div",{className:`flex flex-col gap-4 h-full overflow-y-auto p-4 dark:dark-scrollbar transition-opacity duration-200 ${t?"opacity-60":"opacity-100"}`,children:[e.jsx(Ie,{}),a]})}function $e(){const{isLoading:a}=_();return e.jsx(ue,{className:"flex flex-col gap-4 justify-between max-w-[1225px] h-[725px] bg-custom-white dark:bg-custom-blackLight",children:a?e.jsx(Ue,{}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{}),e.jsx(Re,{children:e.jsx(Ae,{})}),e.jsx(Ve,{})]})})}const Le=m.memo(function({open:t,onOpenChange:n,model:i=null,onSaveData:x=null}){return e.jsx(pe,{open:t,onOpenChange:n,children:e.jsx(Te,{model:i,open:t,onSaveData:x,onOpenChange:n,modelAlias:"usuario",dataKey:"user",children:e.jsx($e,{})},(i==null?void 0:i.id)||"new")})}),He=()=>{const{createUpdateView:a,destroyView:t}=se();return e.jsxs(re,{children:[e.jsx(oe,{}),e.jsx(te,{},a.model?`edit-${a.model.id}`:"create"),e.jsx(le,{}),e.jsx(ie,{},t.model?`delete-${t.model.id}`:"delete")]})};function Be(){return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Usuarios"}),e.jsx("div",{className:"max-w-full mx-auto py-7 xl:px-8 px-4 overflow-hidden",children:e.jsx(ae,{CreateUpdateViewComponent:Le,SheetTableViewComponent:he,DeleteViewComponent:Ce,children:e.jsx(He,{})})})]})}Be.layout=a=>e.jsx(ee,{children:a});export{Be as default};
