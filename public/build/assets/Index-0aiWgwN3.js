import{r as o,G as X,j as e,a as S,S as Y}from"./app-fwyInB3c.js";import{A as Z}from"./AuthenticatedLayout-B4CSARVj.js";import K from"./CreateUpdateView-C3fqOHyo.js";import{ViewContextProvider as ee}from"./ViewContext-D18BsCMP.js";import{DataHandlerContextProvider as se}from"./DataHandlerContext-Bct603ZG.js";import te from"./DataTablePortal-CPyEMfsO.js";import re from"./SheetTableView-DKZvnLeo.js";import ae from"./DeleteView-BGE0MGoS.js";import{f as oe,c as ie,d as le,e as ne,b as ce,D as me}from"./dialog-iaZkf6Xy.js";import{o as de,s as A,a as ue,d as xe}from"./types-BZmDMmQb.js";import{toast as D}from"./index-WlsBA3k2.js";import{I as L}from"./input-CqlBlYgU.js";import"./separator-BWKairMX.js";import"./button-Blwr-A5N.js";import"./calendar-DctTJhwg.js";import{u as pe}from"./useDebounce-xNcQ83OW.js";import{F as fe}from"./FetchSelect-CvqHmH4Y.js";import{P as V,a as z,b as M}from"./popover-DaRbHQOK.js";import"./AdvanceDropdown-qoEi4BOz.js";import"./avatar-oBOSifLN.js";import"./tooltip-DFfoxvAF.js";import"./DataTableContext-BYrqyX0i.js";import"./AdvancedHeader-CpvwMmYr.js";import{B as R}from"./Button-CQuYVLGu.js";import"./select-B5O0TxCl.js";import"./multi-select-BSyp-qjs.js";import"./RowActionsTrigger-C2PXJFNn.js";import"./CreateUpdateDialog-1qQQjI_x.js";import"./sheet-DHc5Hgr8.js";import"./tabs-DtCm3GAf.js";import"./DataHandlerContext--vx6a3_3.js";import{S as h}from"./skeleton-DSiYFg9q.js";import{S as he}from"./Spinner-DPRe7Z_J.js";import{O as je}from"./octagon-alert-BRAzZNeG.js";import{S as _}from"./SheetTable-oFCbTdfY.js";import{B as $}from"./BlockCard-TCX704se.js";import{I as k}from"./LucideIcon-CEqEhMjI.js";import{e as U,C as B,f as O,b as G,c as H,d as q}from"./command-PoUoScut.js";import{u as J}from"./useTranslation-BtIkv0Na.js";import{D as ge}from"./DecisionModal-Dl8siGBG.js";import"./sidebar-CPh6C6LB.js";import"./index-DloWbRVd.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./dropdown-menu-bHoOJ61X.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-BIJodELy.js";import"./index-C_F9oucK.js";import"./index-B7srb2QZ.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-CLai1W86.js";import"./index-BZgm3BCW.js";import"./index-BZxTbISK.js";import"./index-v24TFYKQ.js";import"./check-5DjPwM22.js";import"./createLucideIcon-DoJ0Kelj.js";import"./chevron-right-B1iws4WK.js";import"./PopUpIncidencias-CaovAEi3.js";import"./card-DYkZYgg5.js";import"./textarea-C969rVin.js";import"./UserAvatar-cKyxDEhx.js";import"./ApplicationLogo-C2FcO4AY.js";import"./Yoopta-Dj4Guze5.js";import"./throttle-CmSTFqON.js";import"./PrimaryButton-SsXyLm2e.js";import"./useNotifications-CSWGH93r.js";import"./ShowNotificactionFromJestream-cKOlvVdg.js";import"./OnboardingModal-D0HRNKzO.js";import"./Modal-BkRna8gK.js";import"./transition-ByAjZSmr.js";import"./StepItem-bNLmZaq8.js";import"./StepProgress-DNpLodXf.js";import"./WelcomeContent-BPJ5E7_N.js";import"./onboardingImages-CoczwfNn.js";import"./AboutContent-DOlAXyok.js";import"./TeamContent-C0DysUYq.js";import"./calendar-days-Dti00tYQ.js";import"./calendar-k1x2vwx8.js";import"./chevron-up-OjKdrhzc.js";import"./user-plus-zM6CnMXf.js";import"./user-CNwXqt1W.js";import"./x-2mzC_aTV.js";import"./index-CeuhGnKJ.js";import"./DataTable-D4Fn3B2g.js";import"./table-cS0UKUSm.js";import"./index-Z1g0u-qm.js";import"./TableFilters-ZojjKFl2.js";import"./GlobalFilter-DNA5td8x.js";import"./ImportExportDropdown-COI3HdRN.js";import"./index-C-xs73Vr.js";import"./index-DpIruHMc.js";import"./badge-BgloL8Ae.js";import"./scroll-area-CvQ1XCoU.js";import"./checkbox-BQT_ir1e.js";import"./index-BxSEkZvI.js";import"./index-4A9uUPu1.js";import"./TableDebugging-C1u6ii1k.js";import"./useColumns-9ODunPrG.js";import"./RowSelectionColumn-COjZFz9T.js";import"./RowActionsTrigger-DnJzXomR.js";import"./index-DVo7DTeW.js";import"./DatePicker-YJSItPq7.js";import"./format-Be40hyfq.js";import"./constants-BKFt95HM.js";import"./toDate-qOSwr3PX.js";import"./endOfWeek-DoVA-Yvp.js";import"./addDays-B9Fzl-_R.js";import"./parseISO-Efi0RkWR.js";import"./Create-tmHr2JLD.js";import"./CreateLanguageForm-xwtvYsjX.js";import"./alert-D9izbOQG.js";import"./alert-dialog-kDfn0La3.js";import"./InputSkeleton-CFMfUb-2.js";import"./RowActionsColumn-CM2slffX.js";import"./useApiEndpoints-CHm1F3ft.js";import"./GoogleAddress-DWOptz48.js";import"./Map-D73hm0ip.js";import"./index.modern-WcJlzckG.js";const we=()=>de({id:xe().nullable(),name:A().min(2),module_id:ue(),description:A().min(2).max(255)}),I={id:null,name:"",module_id:null,description:""},be=s=>s?(console.log("dataKey :>> ",s),{id:s.id||null,name:s.name||"",module_id:s.module.id||null,description:s.description||""}):void 0,C=s=>o.useMemo(()=>({dataKey:"permission",show:s?route("api.v1.admin.permissions.show",{permission:s}):null,store:route("api.v1.admin.permissions.store"),update:s?route("api.v1.admin.permissions.update",{permission:s}):null,delete:s?route("api.v1.admin.permissions.destroy",{permission:s}):null}),[s]),Q=o.createContext(null),Ne=({children:s,model:t,onOpenChange:l,dataKey:i,onSaveData:n=null,modelAlias:c="registro"})=>{const[x,g]=o.useState(!1),[m,u]=o.useState(!1),[r,b]=o.useState(!1),[j,N]=o.useState(!1),d=C(t),a=X(I),p=we();o.useEffect(()=>{const f=async()=>{try{b(!0),u(!1);const w=await axios.get(d.show);w.status===200?a.setData(be(w.data[i])):u(!0)}catch(w){console.error("Error al cargar datos:",w),u(!0)}finally{b(!1)}};return a.clearErrors(),t?f():(a.setData(I),u(!1),b(!1)),()=>{}},[t]);const E=o.useCallback((f,w)=>{if(typeof f=="object"&&w===void 0){a.setData(v=>({...v,...f}));return}a.setData(v=>({...v,[f]:w}))},[a]),P=o.useCallback(()=>{const f=p.safeParse(a.data);if(a.clearErrors(),!f.success){const w=f.error.flatten().fieldErrors;Object.keys(w).forEach(v=>{a.setError(v,w[v][0])})}return f.success},[a,p]),T=o.useCallback(async()=>{try{N(!0),u(!1),a.clearErrors();const f=t?await axios.put(d.update,a.data):await axios.post(d.store,a.data);n&&n(f.data[i]),l(!1),a.clearErrors(),D.success(t?`Registro ${c} actualizado con éxito`:`Registro ${c} creado con éxito`)}catch(f){if(u(!0),f.response&&f.response.data&&f.response.data.errors){const{errors:w}=f.response.data;Object.keys(w).forEach(v=>{a.setError(v,w[v][0])})}D.error(t?`Error al actualizar el ${c}`:`Error al crear el ${c}`)}finally{N(!1)}},[t,d.update,d.store,a,n,l]),F=o.useCallback(()=>{P()&&T()},[P,T]),W=o.useMemo(()=>({modelAlias:c,model:t,error:m,form:a,updateForm:E,handleSubmit:F,setError:u,onOpenChange:l,isProcessing:x,isLoading:r,isSaving:j,setIsProcessing:g}),[c,t,m,a,E,F,l,x,r,j]);return e.jsx(Q.Provider,{value:W,children:s})};function y(){const s=o.useContext(Q);if(!s)throw new Error("useDialogData debe usarse dentro de DialogDataContextProvider");return s}function ke({}){const{form:s,updateForm:t}=y(),{data:l,errors:i}=s,[n,c]=o.useState(l),x=pe(t,500);o.useEffect(()=>{c(l)},[l]);const g=o.useCallback((m,u)=>{c(typeof m=="object"?r=>({...r,...m}):r=>({...r,[m]:u})),i[m]&&delete i[m],x(m,u)},[x]);return e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex w-full items-center gap-8",children:[e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsxs("span",{className:" font-bold text-custom-blue dark:text-custom-orange",children:["Nombre",e.jsx("span",{className:"text-custom-orange",children:"*"})]}),e.jsx(L,{placeholder:"Añadir Nombre",className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-gray-darker",value:n.name,onChange:m=>g("name",m.target.value)}),i.name&&e.jsx("span",{className:"text-red-500 text-sm",children:i.name})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsxs("span",{className:" font-bold text-custom-blue dark:text-custom-orange",children:["Módulo",e.jsx("span",{className:"text-custom-orange",children:"*"})]}),e.jsx(fe,{fetchRoute:"api.v1.admin.modules.index",responseParameter:"modules",value:parseInt(n.module_id,10),onValueChange:m=>g("module_id",parseInt(m,10)),disabled:!1}),i.module_id&&e.jsx("span",{className:"text-red-500 text-sm",children:i.module_id})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("span",{className:" font-bold text-custom-blue dark:text-custom-orange",children:["Descripción",e.jsx("span",{className:"text-custom-orange",children:"*"})]}),e.jsx(L,{placeholder:"Añadir Descripción",className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-gray-darker",value:n.description,onChange:m=>g("description",m.target.value)}),i.description&&e.jsx("span",{className:"text-red-500 text-sm",children:i.description})]})]})})}function ve(){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col w-full gap-12 bg-custom-white dark:bg-custom-blackLight p-4",children:[e.jsx("div",{className:"flex flex-col gap-4 dark:dark-scrollbar",children:e.jsx(h,{className:"h-8 w-[350px]"})}),e.jsxs("div",{className:"flex flex-row w-full gap-4 overflow-y-auto dark:dark-scrollbar",children:[e.jsxs("div",{className:"flex flex-col w-1/2 gap-4 dark:dark-scrollbar",children:[e.jsx(h,{className:"h-8 w-[250px]"}),e.jsx(h,{className:"h-12 w-full"})]}),e.jsxs("div",{className:"flex flex-col w-1/2 gap-4 dark:dark-scrollbar",children:[e.jsx(h,{className:"h-8 w-[250px]"}),e.jsx(h,{className:"h-12 w-full"})]})]}),e.jsx(h,{className:"h-1 w-full"}),e.jsxs("div",{className:"flex flex-row w-full gap-4 overflow-y-auto dark:dark-scrollbar",children:[e.jsxs("div",{className:"flex flex-col w-1/2 gap-4 dark:dark-scrollbar",children:[e.jsx(h,{className:"h-8 w-[250px]"}),e.jsx(h,{className:"h-12 w-full"})]}),e.jsxs("div",{className:"flex flex-col w-1/2 gap-4 dark:dark-scrollbar",children:[e.jsx(h,{className:"h-8 w-[250px]"}),e.jsx(h,{className:"h-12 w-full"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 p-4",children:[e.jsx(h,{className:"h-10 w-24"}),e.jsx(h,{className:"h-10 w-24"})]})]})}function ye(){const{model:s,handleSubmit:t,onOpenChange:l,isSaving:i}=y(),n=s?"Actualizar":"Guardar",c=s?"Actualizando...":"Guardando...";return e.jsxs(oe,{children:[e.jsx("div",{className:"flex flex-row w-full items-center justify-between",children:e.jsxs("div",{className:"flex items-center ml-auto justify-end gap-2",children:[e.jsx(R,{variant:"secondary",onClick:()=>l(!1),disabled:i,children:"Cancelar"}),e.jsx(R,{variant:"primary",onClick:()=>t(),disabled:i,children:n})]})}),i&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-2",children:[e.jsx(he,{size:"sm",className:"text-custom-orange"}),e.jsxs("span",{className:"text-md",children:[c,"..."]})]})]})}function De(){const{modelAlias:s,model:t}=y(),l=o.useMemo(()=>t?`Actualizar ${s}`:`Crear ${s}`,[t]);return e.jsxs(ie,{children:[e.jsx(le,{className:"dark:text-custom-white",children:l}),e.jsx(ne,{className:"hidden",children:l})]})}const Se=()=>{const{error:s}=y();return s?e.jsxs("div",{className:"mt-4 mb-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-300 p-3 rounded-md flex items-start gap-2 animate-in fade-in slide-in-from-top-3 duration-300",children:[e.jsx(je,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Ha ocurrido un error"}),e.jsx("p",{className:"text-sm",children:"No se pudo procesar la solicitud. Por favor, inténtalo de nuevo."})]})]}):null};function Ce({children:s}){const{isSaving:t}=y();return e.jsxs("div",{className:`flex flex-col gap-4 h-full overflow-y-auto p-4 dark:dark-scrollbar transition-opacity duration-200 ${t?"opacity-60":"opacity-100"}`,children:[e.jsx(Se,{}),s]})}function Ee(){const{isLoading:s}=y();return e.jsx(ce,{className:"flex flex-col gap-4 justify-between sm:max-w-[1225px] sm:max-h-[725px] bg-custom-white dark:bg-custom-blackLight",children:s?e.jsx(ve,{}):e.jsxs(e.Fragment,{children:[e.jsx(De,{}),e.jsx(Ce,{children:e.jsx(ke,{})}),e.jsx(ye,{})]})})}const Pe=o.memo(function({open:t,onOpenChange:l,model:i=null,onSaveData:n=null}){return e.jsx(me,{open:t,onOpenChange:l,children:e.jsx(Ne,{model:i,onSaveData:n,onOpenChange:l,modelAlias:"Permiso",dataKey:"permission",children:e.jsx(Ee,{})})})});function Te({prevRoles:s,fetchUrl:t,className:l,onSelect:i}){const[n,c]=o.useState(!1),[x,g]=o.useState([]),[m,u]=o.useState(null),[r,b]=o.useState(!0),{t:j}=J("datatable"),N=o.useCallback(a=>{i&&i(a)},[i]);o.useEffect(()=>((async()=>{try{const p=await S.get(t);p.status===200?g(p.data.roles):u(!0)}catch{u(!0)}finally{b(!1)}})(),()=>{}),[t]);const d=o.useMemo(()=>x.map(a=>e.jsxs(U,{value:a.id,onSelect:()=>{N(a)},children:[s!=null&&s.some(p=>p.id===a.id)?e.jsx(k,{name:"Minus",className:"mr-2 h-4 w-4 shrink-0 text-red-500"}):e.jsx(k,{name:"Plus",className:"mr-2 h-4 w-4 shrink-0 text-green-500"}),a.name]},a.id)),[x,N]);return e.jsxs(V,{open:n,onOpenChange:c,modal:!0,children:[e.jsx(z,{asChild:!0,children:e.jsxs("button",{role:"combobox","aria-expanded":n,className:`flex items-center cursor-pointer py-2 px-4 rounded-full text-custom-black dark:text-custom-white hover:bg-custom-gray-default hover:dark:bg-custom-blackSemi ${l}`,onClick:()=>c(!n),children:[e.jsx(k,{name:"Plus",className:"mr-4 h-4 w-4"}),j("Añade Rol")]})}),e.jsx(M,{className:"w-full p-2",children:e.jsxs(B,{children:[e.jsx(O,{className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-gray-darker",placeholder:"Añdir rol..."}),e.jsxs(G,{children:[e.jsx(H,{children:m?e.jsx("span",{className:"text-red-500",children:"Error al cargar los roles."}):"Ningún rol encontrado"}),e.jsx(q,{children:d})]})]})})]})}function Fe({prevUsers:s,fetchUrl:t,className:l,onSelect:i}){const[n,c]=o.useState(!1),[x,g]=o.useState([]),[m,u]=o.useState(null),[r,b]=o.useState(!0),{t:j}=J("datatable"),N=o.useCallback(a=>{i&&i(a)},[i]);o.useEffect(()=>((async()=>{try{const p=await S.get(t);p.status===200?g(p.data.users):u(!0)}catch{u(!0)}finally{b(!1)}})(),()=>{}),[t]);const d=o.useMemo(()=>x.map(a=>e.jsxs(U,{value:a.id,onSelect:()=>{N(a)},children:[s!=null&&s.some(p=>p.id===a.id)?e.jsx(k,{name:"Minus",className:"mr-2 h-4 w-4 shrink-0 text-red-500"}):e.jsx(k,{name:"Plus",className:"mr-2 h-4 w-4 shrink-0 text-green-500"}),a.name]},a.id)),[x,N]);return e.jsxs(V,{open:n,onOpenChange:c,modal:!0,children:[e.jsx(z,{asChild:!0,children:e.jsxs("button",{user:"combobox","aria-expanded":n,className:`flex items-center cursor-pointer py-2 px-4 rounded-full text-custom-black dark:text-custom-white hover:bg-custom-gray-default hover:dark:bg-custom-blackSemi ${l}`,onClick:()=>c(!n),children:[e.jsx(k,{name:"Plus",className:"mr-4 h-4 w-4"}),j("Añade Usuario")]})}),e.jsx(M,{className:"w-full p-2",children:e.jsxs(B,{children:[e.jsx(O,{className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-gray-darker",placeholder:"Añdir rol..."}),e.jsxs(G,{children:[e.jsx(H,{children:m?e.jsx("span",{className:"text-red-500",children:"Error al cargar los users."}):"Ningún rol encontrado"}),e.jsx(q,{children:d})]})]})})]})}function Ae({data:s}){var g,m,u;const[t,l]=o.useState(s),i=async(r,b)=>{try{if((await axios.put(route("api.v1.admin.roles.permission.switch",{role:r,permission:b}))).status===200){const N=t.roles.some(d=>d.id===r.id);l(N?d=>{const a=d.roles.filter(p=>p.id!==r.id);return{...d,roles:a}}:d=>{const a=[...d.roles,{id:r.id,name:r.name}];return{...d,roles:a}})}}catch(j){console.error("Error changing permission:",j)}};function n({role:r}){return e.jsx("section",{className:"flex flex-row justify-between items-center",children:e.jsx("span",{children:r.name})})}const c=async(r,b)=>{try{if((await axios.put(route("api.v1.admin.users.permission.switch",{user:r,permission:b}))).status===200){const N=t.users.some(d=>d.id===r.id);l(N?d=>{const a=d.users.filter(p=>p.id!==r.id);return{...d,users:a}}:d=>{const a=[...d.users,{id:r.id,name:r.name,email:r.email,profile_photo_url:r.profile_photo_url}];return{...d,users:a}})}}catch(j){console.error("Error changing permission:",j)}};function x({user:r}){return e.jsx("section",{className:"flex items-center justify-between gap-4",children:e.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[e.jsx("img",{src:r.profile_photo_url,alt:r.name,className:"w-8 h-8 rounded-full"}),e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsx("span",{className:"text-sm text-custom-black dark:text-custom-white opacity-70",children:r.name}),e.jsx("span",{className:"text-xs text-custom-black dark:text-custom-white opacity-50",children:r.email})]})]})})}return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-bold mb-4 text-custom-black dark:text-custom-white",children:"Descripción del permiso"}),e.jsx("div",{className:"p-4 bg-custom-gray-default dark:bg-custom-blackSemi text-custom-blackSemi dark:text-custom-gray-semiLight rounded-3xl",children:e.jsx("p",{children:t.description})}),e.jsx("div",{className:"w-fit ml-auto mb-4",children:e.jsx(Te,{fetchUrl:route("api.v1.admin.roles.index"),onSelect:r=>i(r,t.id),prevRoles:t.roles})}),e.jsx($,{title:"Roles con el permiso",children:e.jsx("div",{className:"flex flex-col max-h-[500px] gap-3 text-custom-black dark:text-custom-white",children:((g=t.roles)==null?void 0:g.length)===0||!t.roles?e.jsxs("span",{className:"flex items-center text-custom-black/60 gap-2",children:[e.jsx(k,{name:"AlertTriangle",size:"16"}),"No hay roles con este permiso"]}):t.roles.map(r=>e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[e.jsx(n,{role:r},r.id),e.jsx("button",{className:"cursor-pointer hover:text-custom-orange duration-300",onClick:()=>i(r,t.id),children:e.jsx(k,{name:"Trash",size:"16"})})]},r.id))})}),e.jsx("div",{className:"w-fit ml-auto mb-4",children:e.jsx(Fe,{fetchUrl:route("api.v1.admin.users.index"),onSelect:r=>c(r,t.id),prevUsers:t==null?void 0:t.users})}),e.jsx($,{title:"Usuarios con el permiso",children:e.jsx("div",{className:"flex flex-col max-h-[500px] gap-6 px-2 pt-4 overflow-y-auto dark:dark-scrollbar",children:((m=t.users)==null?void 0:m.length)===0||!t.users?e.jsxs("span",{className:"flex items-center text-custom-black/60 gap-2",children:[e.jsx(k,{name:"AlertTriangle",size:"16"}),"No hay usuarios con este permiso"]}):(u=t.users)==null?void 0:u.map(r=>e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[e.jsx(x,{user:r},r.id),e.jsx("button",{className:"cursor-pointer hover:text-custom-orange duration-300",onClick:()=>c(r,t.id),children:e.jsx(k,{name:"Trash",size:"16"})})]},r.id))})})]})}function Le(){return e.jsxs("div",{className:"flex flex-col w-full space-y-8",children:[e.jsxs("div",{className:"w-full flex items-center space-x-4",children:[e.jsx(h,{className:"h-24 w-24 rounded-full"}),e.jsxs("div",{className:"flex flex-col justify-center space-y-2",children:[e.jsx(h,{className:"h-4 w-[250px]"}),e.jsx(h,{className:"h-4 w-[200px]"})]})]}),e.jsx(h,{className:"h-20 w-full"}),e.jsx(h,{className:"h-96 w-full"})]})}function Re({open:s,onOpenChange:t,model:l,enableToView:i=!0}){const n=C(l),[c,x]=o.useState(null),[g,m]=o.useState(!0),[u,r]=o.useState(!1);return o.useEffect(()=>((async()=>{try{m(!0);const j=await axios.get(n.show);j.status===200?x(j.data[n.dataKey]):r(!0)}catch{r(!0)}finally{m(!1)}})(),()=>{}),[l]),g||!i?e.jsx(_,{title:null,open:s,onOpenChange:t,className:"w-full max-w-full sm:min-w-[600px]",descriptionContent:e.jsx("div",{className:"flex items-center justify-center w-full h-full mt-6",children:e.jsx(Le,{})})}):e.jsx(_,{title:null,open:s,onOpenChange:t,className:"w-full max-w-full sm:min-w-[600px]",descriptionContent:e.jsx(e.Fragment,{children:c&&e.jsx(e.Fragment,{children:e.jsx(Ae,{data:c})})})})}function _e({open:s,onOpenChange:t,model:l,onDelete:i}){const n=C(l),c=async()=>{try{(await S.delete(n.delete)).status===200&&(i&&i(l),D.success("Registro eliminado correctamente"))}catch(x){console.error("error :>> ",x),D.error("Error al eliminar el registro")}};return e.jsx(ge,{title:"¿Estás seguro de que quieres eliminar este usuario?",content:"Esta acción no se puede deshacer. Todos los datos relacionados con este usuario se eliminarán.",open:s,onOpenChange:t,action:c,variant:"destructive",icon:e.jsx(k,{name:"OctagonAlert",className:"w-6 h-6 text-red-500"})})}function $e(){return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Permisos (Seguridad) Administración"}),e.jsx("div",{className:"max-w-full mx-auto py-7 xl:px-8 px-4 overflow-hidden",children:e.jsx(ee,{CreateUpdateViewComponent:Pe,SheetTableViewComponent:Re,DeleteViewComponent:_e,children:e.jsxs(se,{children:[e.jsx(te,{}),e.jsx(K,{}),e.jsx(re,{}),e.jsx(ae,{})]})})})]})}$e.layout=s=>e.jsx(Z,{children:s});export{$e as default};
