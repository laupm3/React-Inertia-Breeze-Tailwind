import{r as a,j as e,a as g,A as b}from"./app-fwyInB3c.js";import{C as N,c as j}from"./card-DYkZYgg5.js";import{L as y}from"./label-zCtqi3J5.js";import{B as c}from"./button-Blwr-A5N.js";import{toast as i}from"./index-WlsBA3k2.js";import"./utils-CytzSlOG.js";import"./index-BIJodELy.js";import"./index-DloWbRVd.js";import"./index-BwobEAja.js";function P({onClose:m,currentFolder:l,folderContextMenu:r,isModalEditFolderOpen:v,setIsModalEditFolderOpen:w,setIsModalRenameFolderOpen:p}){const[t,u]=a.useState(!1),[d,C]=a.useState(null),[s,x]=a.useState(r.nombre||"Nuevo nombre"),n=a.useRef(null);a.useEffect(()=>{n.current.focus()},[]),l.path.split("/").pop();const h=async o=>{u(!0),new FormData().append("nombre",s);try{const f=await g.patch(`/admin/files/update/${o.id}`,{nombre:s});b.visit(`/user/folders/${l.hash}`,{preserveState:!0}),i.success("Nombre del fichero modificado correctamente!"),p(!1)}catch{i.error("Error: No se ha podido cambiar el nombre del fichero!")}finally{}};return e.jsx("div",{className:"w-full bg-gray-50",children:e.jsxs(N,{className:"w-full max-h-[94dvh] shadow-lg rounded-lg overflow-hidden px-4 pt-6 pb-2",children:[e.jsx("div",{className:"pl-4 mb-6",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-700 dark:text-white mb-2",children:["Cambiar nombre de carpeta ",e.jsx("strong",{className:"text-custom-orange",children:r.nombre})]})}),e.jsx(j,{className:"flex-grow space-y-6 -ml-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{children:[e.jsxs(y,{htmlFor:"security-type",className:"text-sm font-medium text-gray-800 dark:text-gray-300 mr-4",children:["Nombre de la carpeta ",e.jsx("span",{className:"text-custom-orange text-lg",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Nueva carpeta",autoFocus:!0,className:"w-2/5 rounded-md border-gray-300 text-sm shadow-sm focus:ring-orange-500 focus:border-orange-500 dark:text-gray-900",value:s,onChange:o=>x(o.target.value),ref:n})]})}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-2",children:[e.jsx(c,{variant:"outline",className:"text-orange-500 border-orange-500 hover:bg-transparent hover:text-custom-gray-default mt-4 rounded-full",onClick:m,disabled:t,children:"Cancelar"}),e.jsx(c,{className:"bg-orange-500 text-white hover:bg-orange-600 mt-4 rounded-full",onClick:()=>h(r),disabled:t,children:t?"Actualizando...":"Guardar cambios"})]}),d&&e.jsx("div",{className:"mt-4 p-4 bg-gray-100 rounded",children:e.jsx("pre",{className:"text-xs text-gray-700",children:JSON.stringify(d,null,2)})})]})})]})})}export{P as default};
