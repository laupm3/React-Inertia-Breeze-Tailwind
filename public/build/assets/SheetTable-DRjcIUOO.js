import{r as i,j as t}from"./app-fwyInB3c.js";import{S as b}from"./SheetTable-oFCbTdfY.js";import{A as f}from"./alert-D9izbOQG.js";import{L as g}from"./LoadingSpinner-CiiXDndn.js";import{D as j,a as k,b as N,c as w,d as v}from"./dialog-iaZkf6Xy.js";import{B as S}from"./button-Blwr-A5N.js";import{I as o}from"./LucideIcon-CEqEhMjI.js";import{M as y}from"./Maps-BeRVQUtC.js";import{P as L}from"./Pill-l4GaXyto.js";import{S as D}from"./StatusCentroMapColor-CX6Qfqkj.js";import{B as h}from"./BlockCard-TCX704se.js";import{E as p}from"./EmpleadoAvatar-BBWI_HPN.js";import{u as C}from"./useTranslation-BtIkv0Na.js";import"./sheet-DHc5Hgr8.js";import"./index-DVo7DTeW.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-DloWbRVd.js";import"./index-B7srb2QZ.js";import"./index-BIJodELy.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-BZxTbISK.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./x-2mzC_aTV.js";import"./createLucideIcon-DoJ0Kelj.js";import"./calendar-days-Dti00tYQ.js";import"./calendar-k1x2vwx8.js";import"./check-5DjPwM22.js";import"./chevron-up-OjKdrhzc.js";import"./chevron-right-B1iws4WK.js";import"./user-plus-zM6CnMXf.js";import"./user-CNwXqt1W.js";import"./octagon-alert-BRAzZNeG.js";import"./index.modern-WcJlzckG.js";import"./avatar-oBOSifLN.js";import"./tooltip-DFfoxvAF.js";import"./index-CLai1W86.js";import"./index-BZgm3BCW.js";import"./index-CeuhGnKJ.js";const E=({center:s})=>t.jsxs("div",{className:"bg-custom-white dark:bg-custom-blackLight border-2 p-3 m-4 rounded-xl",children:[t.jsxs("div",{className:"flex",children:[t.jsx(o,{name:"MapPin",className:"w-4 text-custom-orange mr-2"}),t.jsx("h1",{className:"text-custom-blue font-bold",children:s.nombre})]}),t.jsxs("div",{className:"flex",children:[t.jsx(o,{name:"Map",className:"w-4 text-custom-gray-dark mr-2"}),t.jsxs("p",{className:"text-sm text-custom-gray-semiDark",children:[s.full_address," "]})]}),t.jsxs("div",{className:"flex",children:[t.jsx(o,{name:"Phone",className:"w-4 text-custom-gray-dark mr-2"}),t.jsx("p",{className:"text-sm text-custom-gray-semiDark",children:s.telefono})]}),t.jsx("div",{className:"flex",children:t.jsx(L,{identifier:s.estado.nombre,children:s.estado.nombre,mapColor:D,size:"text-xs",textClassName:"font-medium"})})]}),M=({centro:s})=>t.jsxs(j,{children:[t.jsx(k,{asChild:!0,children:t.jsxs(S,{variant:"secondary",className:"rounded-full bg-custom-gray-default dark:bg-custom-blackSemi",children:[t.jsx(o,{name:"MapPin",className:"w-4 dark:text-custom-white text-custom-gray-dark mr-2"})," Mapa"]})}),t.jsxs(N,{className:"sm:max-w-[1025px] sm:h-[625px] bg-custom-white dark:bg-custom-blackLight",children:[t.jsx("div",{className:"flex-auto max-w-full max-h-full bg-custom-white dark:bg-custom-blackLight overflow-hidden p-4",children:t.jsx("div",{className:"rounded-3xl overflow-hidden h-full",children:t.jsx(y,{centers:[s],center:{lat:s.direccion.latitud,lng:s.direccion.longitud},zoom:4})})}),t.jsxs("div",{className:"flex-1 max-w-full max-h-full bg-custom-white dark:bg-custom-blackLight overflow-hidden",children:[t.jsx(w,{className:"flex items-start",children:t.jsx(v,{children:"Información"})}),t.jsx("div",{className:"overflow-auto h-full",children:t.jsx(E,{center:s})})]})]})]});function Nt({dataId:s,open:m,onOpenChange:c}){const[e,d]=i.useState(null),[r,n]=i.useState(null),[x,a]=i.useState(!0),{t:l}=C(["datatable"]);return i.useEffect(()=>((async()=>{try{const u=await axios.get(route("api.v1.admin.centros.show",{id:s}));u.status===200&&d(u.data.centro)}catch{n(!0)}finally{a(!1)}})(),()=>{}),[s]),t.jsx(b,{title:t.jsx("span",{className:"text-custom-orange",children:e?e.nombre:l("tables.centros")}),open:m,onOpenChange:c,className:"min-w-[600px]",descriptionContent:t.jsx(t.Fragment,{children:t.jsxs("div",{className:"text-custom-black dark:text-custom-white",children:[e&&t.jsx(T,{centro:e}),x&&!r&&t.jsx(g,{}),r&&t.jsx(f,{variant:"destructive",children:"Error Fetching Data"})]})})})}const T=({centro:s})=>{const{telefono:m,email:c,empresa:e,responsable:d,coordinador:r,direccion:n,departamentos:x=[]}=s;return t.jsxs(t.Fragment,{children:[t.jsx(h,{title:"Información",marginLeft:"ml-4",className:"border-4 rounded-xl p-4 mb-6 text-custom-blackLight dark:text-custom-gray-default",children:t.jsx("table",{className:"min-w-full table-fixed",children:t.jsxs("tbody",{className:"bg-custom-white dark:bg-custom-blackLight border-custom",children:[t.jsxs("tr",{children:[t.jsx("td",{className:"p-1.5 font-bold text-custom-blackLight dark:text-custom-white bg-custom-gray-default dark:bg-custom-blackSemi px-4 w-32 rounded-ss-xl",children:"Empresa:"}),t.jsx("td",{className:"p-1.5 pl-4 text-sm text-start w-auto",children:(e==null?void 0:e.nombre)||"Sin empresa asignada"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"p-1.5 font-bold text-custom-blackLight dark:text-custom-white bg-custom-gray-default dark:bg-custom-blackSemi px-4 max-w-[10rem]",children:"Responsable:"}),t.jsx("td",{className:"p-1.5 pl-5 text-sm",children:t.jsx("div",{className:"flex justify-start w-full",children:t.jsx(p,{empleado:d})})})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"p-1.5 font-bold text-custom-blackLight dark:text-custom-white bg-custom-gray-default dark:bg-custom-blackSemi px-4 max-w-[10rem]",children:"Coordinador:"}),t.jsx("td",{className:"p-1.5 pl-5 text-sm",children:t.jsx("div",{className:"flex justify-start w-full",children:t.jsx(p,{empleado:r})})})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"p-1.5 font-bold text-custom-blackLight dark:text-custom-white bg-custom-gray-default dark:bg-custom-blackSemi px-4 max-w-[10rem]",children:"Dirección:"}),t.jsx("td",{className:"p-1.5 text-sm pl-4 text-start",children:n.full_address||"Sin dirección especificada"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"p-1.5 font-bold text-custom-blackLight dark:text-custom-white bg-custom-gray-default dark:bg-custom-blackSemi px-4 max-w-[10rem]",children:"Teléfono:"}),t.jsx("td",{className:"p-1.5 text-sm pl-4 text-start",children:m||"Sin especificar"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"p-1.5 font-bold text-custom-blackLight dark:text-custom-white bg-custom-gray-default dark:bg-custom-blackSemi px-4 max-w-[10rem] rounded-es-xl",children:"Email:"}),t.jsx("td",{className:"p-1.5 text-sm pl-4 text-start break-words",children:c||"Sin especificar"})]})]})})}),t.jsx(h,{title:"Departamentos",marginLeft:"ml-4",className:"border-4 rounded-xl p-4",children:t.jsxs("div",{className:"overflow-auto dark:dark-scrollbar",children:[t.jsxs("div",{className:"grid grid-cols-3 font-semibold text-custom-blackSemi dark:text-custom-white text-sm p-2 bg-custom-gray-default dark:bg-custom-blackSemi rounded-t-xl",children:[t.jsx("div",{children:" Departamento "}),t.jsx("div",{children:" Empleados "}),t.jsx("div",{children:" Mánager "})]}),x.map(a=>{var l;return t.jsxs("div",{className:"grid grid-cols-3 items-center text-sm p-2 border-b last:border-none",children:[t.jsxs("div",{children:[" ",a.nombre," "]}),t.jsxs("div",{children:[" ",((l=a.contratosVigentes)==null?void 0:l.length)||0," "]}),t.jsx("div",{className:"flex items-center pl-2",children:t.jsx(p,{empleado:a.manager})})]},a.id)})]})}),t.jsx(M,{centro:s})]})};export{Nt as default};
