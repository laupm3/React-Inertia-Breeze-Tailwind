import{X as O,r as n,G as U,j as e,x as F}from"./app-fwyInB3c.js";import{B as x}from"./BlockCard-TCX704se.js";import{B as V}from"./Button-CQuYVLGu.js";import{G as H}from"./GoogleAddress-DWOptz48.js";import{toast as g}from"./index-WlsBA3k2.js";import{P as R}from"./Pill-l4GaXyto.js";import{S as X}from"./StatusEmpleadoMapColor-Bp2doaTo.js";import{I as s}from"./input-CqlBlYgU.js";import{D as $}from"./DatePicker-YJSItPq7.js";import{p as h}from"./parseISO-Efi0RkWR.js";import{f as J}from"./format-Be40hyfq.js";import"./index-DloWbRVd.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./Map-D73hm0ip.js";import"./index.modern-WcJlzckG.js";import"./popover-DaRbHQOK.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-B7srb2QZ.js";import"./index-BIJodELy.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-CLai1W86.js";import"./index-BZgm3BCW.js";import"./index-BZxTbISK.js";import"./button-Blwr-A5N.js";import"./calendar-DctTJhwg.js";import"./endOfWeek-DoVA-Yvp.js";import"./toDate-qOSwr3PX.js";import"./addDays-B9Fzl-_R.js";import"./constants-BKFt95HM.js";import"./chevron-right-B1iws4WK.js";import"./createLucideIcon-DoJ0Kelj.js";import"./calendar-k1x2vwx8.js";function Te({user:o}){var p;const b=O().props.jetstream,{estado_empleado:{nombre:u}={},telefono_personal_movil:j="",telefono_personal_fijo:v="",contacto_emergencia:N="",telefono_emergencia:k="",nif:_="",nombre:y="",primer_apellido:S="",segundo_apellido:w="",fecha_nacimiento:c="",email_secundario:E=""}=o.empleado||{},{full_address:C="",numero:D="",piso:P="",puerta:T="",escalera:I="",bloque:B="",codigo_postal:L=""}=((p=o==null?void 0:o.empleado)==null?void 0:p.direccion)||{},[G,z]=n.useState(!1),{data:l,setData:r,post:A,errors:t,processing:d}=U({_method:"PUT",name:o.name,email:o.email,descripcion:o.descripcion||"",telefono_personal_movil:j,telefono_personal_fijo:v,email_secundario:E,contacto_emergencia:N,telefono_emergencia:k,fecha_nacimiento:c,full_address:C,numero:D,piso:P,puerta:T,escalera:I,bloque:B,codigo_postal:L}),[m,f]=n.useState(()=>{if(c)try{return h(c)}catch{return}});n.useEffect(()=>{if(c&&!m)try{const a=h(c);f(a)}catch{}},[c,m]);const M=a=>{a.preventDefault(),A(route("user-profile-information.update"),{preserveScroll:!0,onSuccess:()=>{g.success("Éxito al actualizar la información del perfil")},onError:i=>{g.error("Error al actualizar la información del perfil")}})},q=a=>{a.preventDefault(),z(!0)};return e.jsxs("form",{onSubmit:M,className:"md:max-h-[800px] md:overflow-y-auto md:pr-2 md:[scrollbar-width:thin] md:[scrollbar-color:rgba(156,163,175,0.3)_transparent] md:[&::-webkit-scrollbar]:w-[6px] md:[&::-webkit-scrollbar-track]:bg-transparent md:[&::-webkit-scrollbar-thumb]:bg-[rgba(156,163,175,0.3)] md:[&::-webkit-scrollbar-thumb]:rounded-[20px]",children:[e.jsx(x,{title:"Información Personal",children:e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:"Nombre"}),e.jsx(s,{value:y,disabled:!0,className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi",placeholder:"Nombre"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:"Primer apellido"}),e.jsx(s,{value:S,disabled:!0,className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi",placeholder:"Primer apellido"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:"Segundo apellido"}),e.jsx(s,{value:w,disabled:!0,className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi",placeholder:"Segundo apellido"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:"Nombre de usuario"}),e.jsx(s,{value:o.name,disabled:!0,className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:"Biografía personal"}),e.jsx("div",{className:"relative",children:e.jsx("textarea",{value:l.descripcion,onChange:a=>r("descripcion",a.target.value),className:"block w-full rounded-xl text-sm bg-custom-gray-default dark:bg-custom-blackSemi border-none text-gray-800 dark:text-gray-200 pr-8 min-h-[80px] p-3 active:ring-0 focus:ring-0 focus:outline-none",maxLength:255,placeholder:"Describe un poco sobre ti como usuario..."})}),t.descripcion&&e.jsx("span",{className:"text-xs text-red-500",children:t.descripcion})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:"NIF"}),e.jsx(s,{value:_||"",disabled:!0,className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi",placeholder:"Número de documentación"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:["Fecha de Nacimiento",e.jsx("span",{className:"text-xs font-normal text-gray-500 dark:text-gray-400 ml-2",children:"(Empleado)"})]}),e.jsx($,{selectedDate:m,onSelect:a=>{if(f(a),a){const i=J(a,"yyyy-MM-dd");r("fecha_nacimiento",i)}else r("fecha_nacimiento","")},className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi"}),t.fecha_nacimiento&&e.jsx("span",{className:"text-xs text-red-500",children:t.fecha_nacimiento})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:"Estado"}),e.jsx("div",{className:"w-fit",children:e.jsx(R,{identifier:u,children:u,mapColor:X})})]})]})]})}),e.jsx(x,{title:"Dirección",children:e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx(H,{selectedAddress:l.full_address,data:{numero:l.numero,piso:l.piso,puerta:l.puerta,escalera:l.escalera,bloque:l.bloque,codigo_postal:l.codigo_postal},handleChange:(a,i)=>r(a,i),onSelect:a=>{r({...l,full_address:a.full_address,numero:a.street_number||l.numero,codigo_postal:a.postal_code||l.codigo_postal})},showMap:!1}),t.full_address&&e.jsx("span",{className:"text-xs text-red-500",children:t.full_address})]})}),e.jsx(x,{title:"Información de Contacto",children:e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:"Teléfono personal móvil"}),e.jsx("div",{className:"relative",children:e.jsx(s,{value:l.telefono_personal_movil,onChange:a=>r("telefono_personal_movil",a.target.value),className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi pr-8",placeholder:"Teléfono móvil personal del empleado..."})}),t.telefono_personal_movil&&e.jsx("span",{className:"text-xs text-red-500",children:t.telefono_personal_movil})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:["Teléfono personal fijo",e.jsx("span",{className:"text-xs font-normal text-gray-500 dark:text-gray-400 ml-2",children:"(Empleado)"})]}),e.jsx("div",{className:"relative",children:e.jsx(s,{value:l.telefono_personal_fijo,onChange:a=>r("telefono_personal_fijo",a.target.value),className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi pr-8",placeholder:"Teléfono fijo personal del empleado..."})}),t.telefono_personal_fijo&&e.jsx("span",{className:"text-xs text-red-500",children:t.telefono_personal_fijo})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:["Email principal",e.jsx("span",{className:"text-xs font-normal text-gray-500 dark:text-gray-400 ml-2",children:"(Usuario)"})]}),e.jsx(s,{value:l.email,type:"email",disabled:!0,className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi",placeholder:"Email principal del usuario..."}),t.email&&e.jsx("span",{className:"text-xs text-red-500",children:t.email}),b.hasEmailVerification&&o.email_verified_at===null&&e.jsxs("div",{className:"text-sm mt-2 dark:text-white",children:["Tu dirección de email no está verificada.",e.jsx(F,{href:route("verification.send"),method:"post",as:"button",className:"underline text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800",onClick:q,children:"Haz clic aquí para reenviar el email de verificación."}),G&&e.jsx("div",{className:"mt-2 font-medium text-sm text-green-600 dark:text-green-400",children:"Se ha enviado un nuevo enlace de verificación a tu dirección de email."})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:"Email secundario"}),e.jsx("div",{className:"relative",children:e.jsx(s,{value:l.email_secundario,onChange:a=>r("email_secundario",a.target.value),type:"email",className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi pr-8",placeholder:"Email secundario del empleado..."})}),t.email_secundario&&e.jsx("span",{className:"text-xs text-red-500",children:t.email_secundario})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:["Nombre del contacto de emergencia",e.jsx("span",{className:"text-xs font-normal text-gray-500 dark:text-gray-400 ml-2",children:"(y relación)"})]}),e.jsx("div",{className:"relative",children:e.jsx(s,{value:l.contacto_emergencia,onChange:a=>r("contacto_emergencia",a.target.value),className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi pr-8",placeholder:"Ejemplo: Laura Gómez (Hermana)"})}),t.contacto_emergencia&&e.jsx("span",{className:"text-xs text-red-500",children:t.contacto_emergencia})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-custom-blue dark:text-custom-white",children:"Teléfono de emergencia"}),e.jsx("div",{className:"relative",children:e.jsx(s,{value:l.telefono_emergencia,onChange:a=>r("telefono_emergencia",a.target.value),className:"rounded-full dark:text-custom-gray-default bg-custom-gray-default dark:bg-custom-blackSemi pr-8",placeholder:"Teléfono de emergencia del empleado..."})}),t.telefono_emergencia&&e.jsx("span",{className:"text-xs text-red-500",children:t.telefono_emergencia})]})]})})]})}),e.jsx("div",{className:"w-full py-4 px-6 bg-white dark:bg-custom-blackLight flex justify-end z-10",children:e.jsx(V,{variant:"primary",type:"submit",className:`w-fit px-6 ${d?"opacity-25":""}`,disabled:d,children:d?"Guardando...":"Guardar"})})]})}export{Te as default};
