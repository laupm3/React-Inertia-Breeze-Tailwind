import{r as e,j as C}from"./app-fwyInB3c.js";const c=e.createContext(null);function D(){const r=e.useContext(c);if(!r)throw new Error("useDataHandler debe usarse dentro de DataHandlerContextProvider");return r}const b=({children:r})=>{const[d,a]=e.useState([]),[u,o]=e.useState(!0),n=e.useCallback(async()=>{o(!0);try{const t=await axios.get(route("api.v1.brevo.templates.index"));t.status===200?a(t.data.templates||[]):a([])}catch(t){console.log("error :>> ",t),a([])}finally{o(!1)}},[a,o]),x=e.useCallback(t=>{a(s=>s.some(l=>l.id===(t==null?void 0:t.id))?[t,...s.filter(l=>l.id!==t.id)]:[t,...s])},[]),f=e.useCallback(t=>{a(s=>s.filter(i=>i.id!==t))},[]);return e.useEffect(()=>{n()},[n]),C.jsx(c.Provider,{value:{data:d,setData:a,fetchData:n,loading:u,updateData:x,deleteItem:f},children:r})};export{b as DataHandlerContextProvider,D as useDataHandler};
