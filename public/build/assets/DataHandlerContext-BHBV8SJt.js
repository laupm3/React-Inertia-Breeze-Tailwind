import{r as e,j as C}from"./app-fwyInB3c.js";const d=e.createContext(null);function p(){const r=e.useContext(d);if(!r)throw new Error("useDataHandler debe usarse dentro de DataHandlerContextProvider");return r}const H=({children:r})=>{const[l,a]=e.useState([]),[u,o]=e.useState(!0),n=e.useCallback(async()=>{o(!0);try{const t=await axios.get(route("api.v1.admin.centros.index"));t.status===200?a(t.data.centros):a([])}catch(t){console.log("error :>> ",t),a([])}finally{o(!1)}},[a,o]),x=e.useCallback(t=>{a(s=>s.some(c=>c.id===(t==null?void 0:t.id))?[t,...s.filter(c=>c.id!==t.id)]:[t,...s])},[]),f=e.useCallback(t=>{a(s=>s.filter(i=>i.id!==t))},[]);return e.useEffect(()=>{n()},[n]),C.jsx(d.Provider,{value:{data:l,setData:a,fetchData:n,loading:u,updateData:x,deleteItem:f},children:r})};export{H as DataHandlerContextProvider,p as useDataHandler};
