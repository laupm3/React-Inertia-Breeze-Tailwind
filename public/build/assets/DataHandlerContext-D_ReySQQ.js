import{r as a,j as C}from"./app-fwyInB3c.js";const c=a.createContext(null);function p(){const r=a.useContext(c);if(!r)throw new Error("useDataHandler debe usarse dentro de DataHandlerContextProvider");return r}const H=({children:r})=>{const[l,e]=a.useState([]),[u,o]=a.useState(!0),n=a.useCallback(async()=>{o(!0);try{const t=await axios.get(route("api.v1.admin.nominas.index"));t.status===200?e(t.data.nominas):e([])}catch{e([])}finally{o(!1)}},[e,o]),x=a.useCallback(t=>{e(s=>s.some(i=>i.id===(t==null?void 0:t.id))?[t,...s.filter(i=>i.id!==t.id)]:[t,...s])},[]),f=a.useCallback(t=>{e(s=>s.filter(d=>d.id!==t))},[]);return a.useEffect(()=>{n()},[n]),C.jsx(c.Provider,{value:{data:l,setData:e,fetchData:n,loading:u,updateData:x,deleteItem:f},children:r})};export{H as DataHandlerContextProvider,p as useDataHandler};
