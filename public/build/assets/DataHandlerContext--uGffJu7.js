import{r as e,j as C}from"./app-fwyInB3c.js";const l=e.createContext(null);function D(){const r=e.useContext(l);if(!r)throw new Error("useDataHandler debe usarse dentro de DataHandlerContextProvider");return r}const H=({children:r})=>{const[c,a]=e.useState([]),[u,o]=e.useState(!0),n=e.useCallback(async()=>{o(!0);try{const t=await axios.get(route("api.v1.admin.departamentos.index"));t.status===200?a(t.data.departamentos):a([])}catch(t){console.log("error :>> ",t),a([])}finally{o(!1)}},[a,o]),x=e.useCallback(t=>{a(s=>s.some(d=>d.id===(t==null?void 0:t.id))?[t,...s.filter(d=>d.id!==t.id)]:[t,...s])},[]),f=e.useCallback(t=>{a(s=>s.filter(i=>i.id!==t))},[]);return e.useEffect(()=>{n()},[n]),C.jsx(l.Provider,{value:{data:c,setData:a,fetchData:n,loading:u,updateData:x,deleteItem:f},children:r})};export{H as DataHandlerContextProvider,D as useDataHandler};
