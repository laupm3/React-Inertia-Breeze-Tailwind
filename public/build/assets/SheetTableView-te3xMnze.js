import{j as e,r as p}from"./app-fwyInB3c.js";import{useDataHandler as C}from"./DataHandlerContext-B_AogXyY.js";import{S}from"./SheetTable-oFCbTdfY.js";import{B as D}from"./badge-BgloL8Ae.js";import{C as o,a as x,b as h,c as u}from"./card-DYkZYgg5.js";import{U as F,F as b,C as T}from"./user-CNwXqt1W.js";import{C as E}from"./calendar-days-Dti00tYQ.js";import{S as i}from"./skeleton-DSiYFg9q.js";import"./index-WlsBA3k2.js";import"./ViewContext-CnIG9GpY.js";import"./sheet-DHc5Hgr8.js";import"./index-DVo7DTeW.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-DloWbRVd.js";import"./index-B7srb2QZ.js";import"./index-BIJodELy.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-BZxTbISK.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./x-2mzC_aTV.js";import"./createLucideIcon-DoJ0Kelj.js";function _({data:s}){var j,n,f,N,m,g,d,w,c,v,y;const r=t=>t?new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"N/A",a=t=>t?t.slice(0,5):"N/A",l=t=>{switch(t==null?void 0:t.toLowerCase()){case"pendiente":return"secondary";case"aprobado":return"success";case"rechazado":return"destructive";default:return"default"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Solicitud de Permiso"}),e.jsxs("p",{className:"text-muted-foreground",children:["Solicitud #",s.id," - ",(j=s.empleado)==null?void 0:j.nombre," ",(n=s.empleado)==null?void 0:n.apellidos]})]}),e.jsx(D,{variant:l((f=s.estado)==null?void 0:f.nombre),children:((N=s.estado)==null?void 0:N.nombre)||"Pendiente"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(o,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Empleado"]})}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"font-medium",children:[(m=s.empleado)==null?void 0:m.nombre," ",(g=s.empleado)==null?void 0:g.apellidos]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(d=s.empleado)==null?void 0:d.email}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Departamento: ",((c=(w=s.empleado)==null?void 0:w.departamento)==null?void 0:c.nombre)||"N/A"]})]})})]}),e.jsxs(o,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Tipo de Permiso"]})}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium",children:((v=s.permiso)==null?void 0:v.nombre)||"N/A"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:((y=s.permiso)==null?void 0:y.descripcion)||"Sin descripción"})]})})]})]}),e.jsxs(o,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Fechas y Horarios"]})}),e.jsx(u,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Fecha de inicio"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r(s.fecha_inicio)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Fecha de fin"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r(s.fecha_fin)})]}),!s.dia_completo&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Hora de inicio"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a(s.hora_inicio)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Hora de fin"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a(s.hora_fin)})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Día completo"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.dia_completo?"Sí":"No"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Recuperable"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.recuperable?"Sí":"No"})]})]})})]}),s.motivo&&e.jsxs(o,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Motivo"]})}),e.jsx(u,{children:e.jsx("p",{className:"text-sm",children:s.motivo})})]}),e.jsxs(o,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5"}),"Información Adicional"]})}),e.jsx(u,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Fecha de solicitud"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r(s.created_at)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Última actualización"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r(s.updated_at)})]})]})})]})]})}function A(){return e.jsxs("div",{className:"space-y-4 w-full",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"h-6 w-48"}),e.jsx(i,{className:"h-4 w-32"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"h-4 w-24"}),e.jsx(i,{className:"h-10 w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"h-4 w-24"}),e.jsx(i,{className:"h-10 w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"h-4 w-24"}),e.jsx(i,{className:"h-10 w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"h-4 w-24"}),e.jsx(i,{className:"h-10 w-full"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"h-4 w-24"}),e.jsx(i,{className:"h-20 w-full"})]})]})]})}const H=s=>p.useMemo(()=>{const r="api.v1.admin.solicitudes";return{show:s?route(`${r}.show`,s.id||s):null,store:route(`${r}.store`),update:s?route(`${r}.update`,s.id||s):null,delete:s?route(`${r}.destroy`,s.id||s):null}},[s]);function $({open:s,onOpenChange:r,model:a,enableToView:l=!0}){const j=H(a),[n,f]=p.useState(null),[N,m]=p.useState(!0),[g,d]=p.useState(!1);return p.useEffect(()=>((async()=>{try{m(!0);const c=await axios.get(j.show);c.status===200?f(c.data.solicitudPermiso):d(!0)}catch{d(!0)}finally{m(!1)}})(),()=>{}),[a]),N||!l?e.jsx(S,{title:null,open:s,onOpenChange:r,className:"w-full max-w-full sm:min-w-[600px]",descriptionContent:e.jsx("div",{className:"flex items-center justify-center w-full h-full mt-6",children:e.jsx(A,{})})}):e.jsx(S,{title:null,open:s,onOpenChange:r,className:"w-full max-w-full sm:min-w-[600px]",descriptionContent:e.jsx(e.Fragment,{children:n&&e.jsx(e.Fragment,{children:e.jsx(_,{data:n})})})})}function ae({}){const{viewStates:s,handleSheetView:r}=C(),{open:a,model:l}=s.sheet;return l?e.jsx($,{model:l,open:a,onOpenChange:()=>r(l)}):null}export{ae as default};
