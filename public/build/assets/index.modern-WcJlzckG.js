import{g as Y,r as l,R as y,c as B}from"./app-fwyInB3c.js";var Q=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var o,r,i;if(Array.isArray(e)){if(o=e.length,o!=n.length)return!1;for(r=o;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),o=i.length,o!==Object.keys(n).length)return!1;for(r=o;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=o;r--!==0;){var s=i[r];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n};const ee=Y(Q);function k(){return k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},k.apply(null,arguments)}function P(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)!==-1)continue;n[o]=t[o]}return n}function te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ne(t){var e=te(t,"string");return typeof e=="symbol"?e:e+""}const A={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},oe="https://maps.googleapis.com/maps/api/js";class T{static async load(e,n){var o;const r=e.libraries?e.libraries.split(","):[],i=this.serializeParams(e);this.listeners.push(n),(o=window.google)!=null&&(o=o.maps)!=null&&o.importLibrary?(this.serializedApiParams||(this.loadingStatus=A.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=i,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==i&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const s=["maps",...r];await Promise.all(s.map(a=>google.maps.importLibrary(a)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const o=()=>n||(n=new Promise((r,i)=>{var s;const a=document.createElement("script"),d=new URLSearchParams;for(const[f,c]of Object.entries(e)){const h=f.replace(/[A-Z]/g,g=>"_"+g[0].toLowerCase());d.set(h,String(c))}d.set("loading","async"),d.set("callback","__googleMapsCallback__"),a.async=!0,a.src=oe+"?"+d.toString(),a.nonce=((s=document.querySelector("script[nonce]"))==null?void 0:s.nonce)||"",a.onerror=()=>{this.loadingStatus=A.FAILED,this.notifyLoadingStatusListeners(),i(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=A.LOADED,this.notifyLoadingStatusListeners(),r()},window.gm_authFailure=()=>{this.loadingStatus=A.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=A.LOADING,this.notifyLoadingStatusListeners(),document.head.append(a)}),n);google.maps.importLibrary=r=>o().then(()=>google.maps.importLibrary(r))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}T.loadingStatus=A.NOT_LOADED;T.serializedApiParams=void 0;T.listeners=[];const re=["onLoad","onError","apiKey","version","libraries"],ie=["children"],se="GMP_visgl_rgmlibrary_v1_default",N=y.createContext(null);function ae(){const[t,e]=l.useState({});return{mapInstances:t,addMapInstance:(i,s="default")=>{e(a=>k({},a,{[s]:i}))},removeMapInstance:(i="default")=>{e(s=>P(s,[i].map(ne)))},clearMapInstances:()=>{e({})}}}function le(t){const{onLoad:e,onError:n,apiKey:o,version:r,libraries:i=[]}=t,s=P(t,re),[a,d]=l.useState(T.loadingStatus),[f,c]=l.useReducer((u,m)=>u[m.name]?u:k({},u,{[m.name]:m.value}),{}),h=l.useMemo(()=>i==null?void 0:i.join(","),[i]),g=l.useMemo(()=>JSON.stringify(k({apiKey:o,version:r},s)),[o,r,s]),p=l.useCallback(async u=>{var m;if(f[u])return f[u];if(!((m=google)!=null&&(m=m.maps)!=null&&m.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const O=await window.google.maps.importLibrary(u);return c({name:u,value:O}),O},[f]);return l.useEffect(()=>{(async()=>{try{const u=k({key:o},s);r&&(u.v=r),(h==null?void 0:h.length)>0&&(u.libraries=h),(u.channel===void 0||u.channel<0||u.channel>999)&&delete u.channel,u.solutionChannel===void 0?u.solutionChannel=se:u.solutionChannel===""&&delete u.solutionChannel,await T.load(u,m=>d(m));for(const m of["core","maps",...i])await p(m);e&&e()}catch(u){n?n(u):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",u)}})()},[o,h,g]),{status:a,loadedLibraries:f,importLibrary:p}}const He=t=>{const{children:e}=t,n=P(t,ie),{mapInstances:o,addMapInstance:r,removeMapInstance:i,clearMapInstances:s}=ae(),{status:a,loadedLibraries:d,importLibrary:f}=le(n),c=l.useMemo(()=>({mapInstances:o,addMapInstance:r,removeMapInstance:i,clearMapInstances:s,status:a,loadedLibraries:d,importLibrary:f}),[o,r,i,s,a,d,f]);return y.createElement(N.Provider,{value:c},e)};function ue(t,e){for(const n of ge){const o=e[n],r=W[n];l.useEffect(()=>{if(!t||!o)return;const i=google.maps.event.addListener(t,r,s=>{o(ce(r,t,s))});return()=>i.remove()},[t,r,o])}}function ce(t,e,n){const o={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(de.includes(t)){const i=o,s=e.getCenter(),a=e.getZoom(),d=e.getHeading()||0,f=e.getTilt()||0,c=e.getBounds();return(!s||!c||!Number.isFinite(a))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),i.detail={center:(s==null?void 0:s.toJSON())||{lat:0,lng:0},zoom:a||0,heading:d,tilt:f,bounds:(c==null?void 0:c.toJSON())||{north:90,east:180,south:-90,west:-180}},i}else if(fe.includes(t)){var r;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const i=o;return i.domEvent=n.domEvent,i.stoppable=!0,i.stop=()=>n.stop(),i.detail={latLng:((r=n.latLng)==null?void 0:r.toJSON())||null,placeId:n.placeId},i}return o}const W={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},de=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],fe=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],ge=Object.keys(W);function U(t,e){const n=l.useRef(void 0);(!n.current||!ee(e,n.current))&&(n.current=e),l.useEffect(t,n.current)}const me=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function pe(t,e){const n={},o=Object.keys(e);for(const r of o)me.has(r)&&(n[r]=e[r]);U(()=>{t&&t.setOptions(n)},[n])}function J(){var t;return((t=l.useContext(N))==null?void 0:t.status)||A.NOT_LOADED}function he(t,e){const{viewport:n,viewState:o}=e,r=!!n;return l.useLayoutEffect(()=>{if(!t||!o)return;const{latitude:i,longitude:s,bearing:a,pitch:d,zoom:f}=o;t.moveCamera({center:{lat:i,lng:s},heading:a,tilt:d,zoom:f+1})},[t,o]),r}function ve(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function V(t){return ve(t)?t:t.toJSON()}function Ce(t,e,n){const o=n.center?V(n.center):null;let r=null,i=null;o&&Number.isFinite(o.lat)&&Number.isFinite(o.lng)&&(r=o.lat,i=o.lng);const s=Number.isFinite(n.zoom)?n.zoom:null,a=Number.isFinite(n.heading)?n.heading:null,d=Number.isFinite(n.tilt)?n.tilt:null;l.useLayoutEffect(()=>{if(!t)return;const f={};let c=!1;r!==null&&i!==null&&(e.current.center.lat!==r||e.current.center.lng!==i)&&(f.center={lat:r,lng:i},c=!0),s!==null&&e.current.zoom!==s&&(f.zoom=s,c=!0),a!==null&&e.current.heading!==a&&(f.heading=a,c=!0),d!==null&&e.current.tilt!==d&&(f.tilt=d,c=!0),c&&t.moveCamera(f)})}const ye=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return y.createElement("div",{style:t},y.createElement("h2",null,"Error: AuthFailure"),y.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",y.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function Ee(){const[t,e]=l.useState(null),n=l.useCallback(o=>e(o),[e]);return[t,n]}function q(){return J()===A.LOADED}function be(){const[,t]=l.useReducer(e=>e+1,0);return t}function we(t,e){const n=t.getCenter(),o=t.getZoom(),r=t.getHeading()||0,i=t.getTilt()||0,s=t.getBounds();(!n||!s||!Number.isFinite(o))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:(n==null?void 0:n.toJSON())||{lat:0,lng:0},zoom:o||0,heading:r,tilt:i})}function Le(t){const e=be(),n=l.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return l.useEffect(()=>{if(!t)return;const o=google.maps.event.addListener(t,"bounds_changed",()=>{we(t,n),e()});return()=>o.remove()},[t,e]),n}const Oe=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],Me=["padding"];class F{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}F.entries={};function Se(t,e){const n=q(),[o,r]=l.useState(null),[i,s]=Ee(),a=Le(o),{id:d,defaultBounds:f,defaultCenter:c,defaultZoom:h,defaultHeading:g,defaultTilt:p,reuseMaps:u,renderingType:m,colorScheme:O}=t,v=P(t,Oe),E=t.zoom!==void 0||t.defaultZoom!==void 0,w=t.center!==void 0||t.defaultCenter!==void 0;!f&&(!E||!w)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!v.center&&c&&(v.center=c),!v.zoom&&Number.isFinite(h)&&(v.zoom=h),!v.heading&&Number.isFinite(g)&&(v.heading=g),!v.tilt&&Number.isFinite(p)&&(v.tilt=p);for(const C of Object.keys(v))v[C]===void 0&&delete v[C];const M=l.useRef(void 0);return l.useEffect(()=>{if(!i||!n)return;const{addMapInstance:C,removeMapInstance:b}=e,{mapId:S}=t,I=`${S||"default"}:${m||"default"}:${O||"LIGHT"}`;let x,L;if(u&&F.has(I)?(L=F.pop(I),x=L.getDiv(),i.appendChild(x),L.setOptions(v),setTimeout(()=>L.setCenter(L.getCenter()),0)):(x=document.createElement("div"),x.style.height="100%",i.appendChild(x),L=new google.maps.Map(x,k({},v,m?{renderingType:m}:{},O?{colorScheme:O}:{}))),r(L),C(L,d),f){const{padding:_}=f,R=P(f,Me);L.fitBounds(R,_)}else(!E||!w)&&L.fitBounds({east:180,west:-180,south:-90,north:90});if(M.current){const{mapId:_,cameraState:R}=M.current;_!==S&&L.setOptions(R)}return()=>{M.current={mapId:S,cameraState:a.current},x.remove(),u?F.push(I,L):google.maps.event.clearInstanceListeners(L),r(null),b(d)}},[i,n,d,t.mapId,t.renderingType,t.colorScheme]),[o,s,a]}const K=y.createContext(null),Ie=t=>{const{children:e,id:n,className:o,style:r}=t,i=l.useContext(N),s=J();if(!i)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[a,d,f]=Se(t,i);Ce(a,f,t),ue(a,t),pe(a,t);const c=he(a,t),h=!!t.controlled;l.useEffect(()=>{if(a)return c&&a.setOptions({disableDefaultUI:!0}),(c||h)&&a.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{a.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[a,c,h,t.gestureHandling,t.keyboardShortcuts]);const g=t.center?V(t.center):null;let p=null,u=null;g&&Number.isFinite(g.lat)&&Number.isFinite(g.lng)&&(p=g.lat,u=g.lng);const m=l.useMemo(()=>{var E,w,M,C,b;return{center:{lat:(E=p)!=null?E:0,lng:(w=u)!=null?w:0},zoom:(M=t.zoom)!=null?M:0,heading:(C=t.heading)!=null?C:0,tilt:(b=t.tilt)!=null?b:0}},[p,u,t.zoom,t.heading,t.tilt]);l.useLayoutEffect(()=>{if(!a||!h)return;a.moveCamera(m);const E=a.addListener("bounds_changed",()=>{a.moveCamera(m)});return()=>E.remove()},[a,h,m]);const O=l.useMemo(()=>k({width:"100%",height:"100%",position:"relative",zIndex:c?-1:0},r),[r,c]),v=l.useMemo(()=>({map:a}),[a]);return s===A.AUTH_FAILURE?y.createElement("div",{style:k({position:"relative"},o?{}:O),className:o},y.createElement(ye,null)):y.createElement("div",k({ref:d,"data-testid":"map",style:o?void 0:O,className:o},n?{id:n}:{}),a?y.createElement(K.Provider,{value:v},e):null)};Ie.deckGLViewProps=!0;const j=new Set;function xe(...t){const e=JSON.stringify(t);j.has(e)||(j.add(e),console.error(...t))}const H=(t=null)=>{const e=l.useContext(N),{map:n}=l.useContext(K)||{};if(e===null)return xe("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:o}=e;return t!==null?o[t]||null:n||o.default||null};function X(t){const e=q(),n=l.useContext(N);return l.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),(n==null?void 0:n.loadedLibraries[t])||null}function D(t,e,n){l.useEffect(()=>{if(!t||!e||!n)return;const o=google.maps.event.addListener(t,e,n);return()=>o.remove()},[t,e,n])}function z(t,e,n){l.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}function G(t,e,n){l.useEffect(()=>{if(!(!t||!e||!n))return t.addEventListener(e,n),()=>t.removeEventListener(e,n)},[t,e,n])}function ke(t){return t.content!==void 0}function $(t){return t.nodeType===Node.ELEMENT_NODE}const Ae=y.createContext(null),Pe={BOTTOM:["50%","100%"]},_e=({children:t,styles:e,className:n,anchorPoint:o})=>{const[r,i]=o??Pe.BOTTOM;let s=`-${r}`,a=`-${i}`;r.trimStart().startsWith("-")&&(s=r.substring(1)),i.trimStart().startsWith("-")&&(a=i.substring(1));const d=`translate(50%, 100%) translate(${s}, ${a})`;return y.createElement("div",{style:{transform:d}},y.createElement("div",{className:n,style:e},t))};function De(t){const[e,n]=l.useState(null),[o,r]=l.useState(null),i=H(),s=X("marker"),{children:a,onClick:d,className:f,onMouseEnter:c,onMouseLeave:h,onDrag:g,onDragStart:p,onDragEnd:u,collisionBehavior:m,clickable:O,draggable:v,position:E,title:w,zIndex:M}=t,C=l.Children.count(a);return l.useEffect(()=>{if(!i||!s)return;const b=new s.AdvancedMarkerElement;b.map=i,n(b);let S=null;return C>0&&(S=document.createElement("div"),S.isCustomMarker=!0,b.content=S,r(S)),()=>{var I;b.map=null,(I=S)==null||I.remove(),n(null),r(null)}},[i,s,C]),l.useEffect(()=>{!(e!=null&&e.content)||!$(e.content)||C>0||(e.content.className=f??"")},[e,f,C]),z(e,"position",E),z(e,"title",w??""),z(e,"zIndex",M),z(e,"collisionBehavior",m),l.useEffect(()=>{e&&(v!==void 0?e.gmpDraggable=v:g||p||u?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,v,g,u,p]),l.useEffect(()=>{if(!e)return;const b=O!==void 0||!!d||!!c||!!h;e.gmpClickable=b,b&&e!=null&&e.content&&$(e.content)&&(e.content.style.pointerEvents="none",e.content.firstElementChild&&(e.content.firstElementChild.style.pointerEvents="all"))},[e,O,d,c,h]),D(e,"click",d),D(e,"drag",g),D(e,"dragstart",p),D(e,"dragend",u),G(e==null?void 0:e.element,"mouseenter",c),G(e==null?void 0:e.element,"mouseleave",h),[e,o]}l.forwardRef((t,e)=>{const{children:n,style:o,className:r,anchorPoint:i}=t,[s,a]=De(t),d=l.useMemo(()=>s?{marker:s}:null,[s]);return l.useImperativeHandle(e,()=>s,[s]),a?y.createElement(Ae.Provider,{value:d},B.createPortal(y.createElement(_e,{anchorPoint:i,styles:o,className:r},n),a)):null});function Te(t,e,n){if(e!=null&&typeof e!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const o=t.style;if(n==null){if(e==null)return;for(const r in e)e.hasOwnProperty(r)&&Z(o,r,e[r]);return}for(const r in n)n.hasOwnProperty(r)&&(e==null||!e.hasOwnProperty(r))&&(r.indexOf("--")===0?o.setProperty(r,""):r==="float"?o.cssFloat="":o[r]="");if(e!=null)for(const r in e){const i=e[r];e.hasOwnProperty(r)&&n[r]!==i&&Z(o,r,i)}}function Z(t,e,n){const o=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,n):typeof n=="number"&&n!==0&&!ze(e)?t[e]=n+"px":e==="float"?t.cssFloat=n:t[e]=(""+n).trim()}const Ne=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function ze(t){return Ne.has(t)}const Fe=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],je=t=>{const{children:e,headerContent:n,style:o,className:r,pixelOffset:i,anchor:s,shouldFocus:a,onClose:d,onCloseClick:f}=t,c=P(t,Fe),h=X("maps"),[g,p]=l.useState(null),u=l.useRef(null),m=l.useRef(null);l.useEffect(()=>{if(!h)return;u.current=document.createElement("div"),m.current=document.createElement("div");const E=c;i&&(E.pixelOffset=new google.maps.Size(i[0],i[1])),n&&(E.headerContent=typeof n=="string"?n:m.current);const w=new google.maps.InfoWindow(c);return w.setContent(u.current),p(w),()=>{var M,C;w.setContent(null),(M=u.current)==null||M.remove(),(C=m.current)==null||C.remove(),u.current=null,m.current=null,p(null)}},[h]);const O=l.useRef(null);l.useEffect(()=>{!g||!u.current||(Te(u.current,o||null,O.current),O.current=o||null,r!==u.current.className&&(u.current.className=r||""))},[g,r,o]),U(()=>{if(!g)return;const E=c;i?E.pixelOffset=new google.maps.Size(i[0],i[1]):E.pixelOffset=null,n?E.headerContent=typeof n=="string"?n:m.current:E.headerContent=null,g.setOptions(c)},[c,i,n]),D(g,"close",d),D(g,"closeclick",f);const v=H();return U(()=>{if(!v||!g||s===null)return;const E=!!s,w={map:v};if(s&&(w.anchor=s,ke(s)&&s.content instanceof Element)){const C=s.content,b=C==null?void 0:C.getBoundingClientRect();if(b&&C!=null&&C.isCustomMarker){var M;const S=(M=s.content.firstElementChild)==null?void 0:M.firstElementChild,I=S==null?void 0:S.getBoundingClientRect(),x=I.x-b.x+(I.width-b.width)/2,L=I.y-b.y,_=c;_.pixelOffset=new google.maps.Size(i?i[0]+x:x,i?i[1]+L:L),g.setOptions(_)}}return a!==void 0&&(w.shouldFocus=a),g.open(w),()=>{E&&g.set("anchor",null),g.close()}},[g,s,v,a,c,i]),y.createElement(y.Fragment,null,u.current&&B.createPortal(e,u.current),m.current!==null&&B.createPortal(n,m.current))},Re=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function Be(t){const[e,n]=l.useState(null),o=H(),{onClick:r,onDrag:i,onDragStart:s,onDragEnd:a,onMouseOver:d,onMouseOut:f}=t,c=P(t,Re),{position:h,draggable:g}=c;return l.useEffect(()=>{if(!o){o===void 0&&console.error("<Marker> has to be inside a Map component.");return}const p=new google.maps.Marker(c);return p.setMap(o),n(p),()=>{p.setMap(null),n(null)}},[o]),l.useEffect(()=>{if(!e)return;const p=e,u=google.maps.event;return r&&u.addListener(p,"click",r),i&&u.addListener(p,"drag",i),s&&u.addListener(p,"dragstart",s),a&&u.addListener(p,"dragend",a),d&&u.addListener(p,"mouseover",d),f&&u.addListener(p,"mouseout",f),e.setDraggable(!!g),()=>{u.clearInstanceListeners(p)}},[e,g,r,i,s,a,d,f]),l.useEffect(()=>{e&&c&&e.setOptions(c)},[e,c]),l.useEffect(()=>{g||!h||!e||e.setPosition(h)},[g,h,e]),e}const Ge=l.forwardRef((t,e)=>{const n=Be(t);return l.useImperativeHandle(e,()=>n,[n]),y.createElement(y.Fragment,null)});export{He as A,je as I,Ie as M,Ge as a,X as b,H as u};
