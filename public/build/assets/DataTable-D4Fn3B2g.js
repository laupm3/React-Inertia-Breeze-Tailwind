import{j as e,r as R}from"./app-fwyInB3c.js";import{T as C,a as S,b as g,c as T,d as j,e as p}from"./table-cS0UKUSm.js";import{S as d}from"./skeleton-DSiYFg9q.js";import{u as b}from"./DataTableContext-BYrqyX0i.js";import{f as h}from"./index-Z1g0u-qm.js";import{u as v}from"./sidebar-CPh6C6LB.js";import{B as N}from"./Button-CQuYVLGu.js";import{I as k}from"./LucideIcon-CEqEhMjI.js";import{T as I,C as z,P as F}from"./TableFilters-ZojjKFl2.js";import{G as M}from"./GlobalFilter-DNA5td8x.js";import{I as A}from"./ImportExportDropdown-COI3HdRN.js";import{u as L}from"./useTranslation-BtIkv0Na.js";import{T as B}from"./TableDebugging-C1u6ii1k.js";function ie({rows:t=5,columns:a=4}){return e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("div",{className:"flex flex-row items-center justify-start w-fit mb-[-15px] ml-[25px] px-2 bg-custom-white dark:bg-custom-blackLight z-0",children:e.jsx(d,{className:"h-6 w-40"})}),e.jsx("div",{className:"rounded-3xl p-4 md:p-6 w-full h-full mb-4 border-4 md:border-4 border-custom-gray-default dark:border-custom-blackSemi space-y-4 md:space-y-6 overflow-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-custom-white dark:bg-custom-blackLight shadow-sm",children:[e.jsx(d,{className:"h-8 w-24"})," ",e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(d,{className:"h-8 w-40"})," ",e.jsx(d,{className:"h-8 w-24"})," ",e.jsx(d,{className:"h-8 w-24"})," ",e.jsx(d,{className:"h-8 w-28"})," ",e.jsx(d,{className:"h-10 w-40 rounded-md"})," "]})]}),e.jsx("div",{className:"flex items-center py-1 justify-between border rounded-lg bg-custom-white dark:bg-custom-blackLight shadow-sm",children:e.jsxs(C,{className:"w-full dark:border-custom-gray-dark bg-custom-white dark:bg-custom-blackLight",children:[e.jsx(S,{children:e.jsx(g,{children:Array.from({length:a}).map((l,o)=>e.jsx(T,{children:e.jsx(d,{className:"h-4 w-24"})},o))})}),e.jsx(j,{children:Array.from({length:t}).map((l,o)=>e.jsx(g,{children:Array.from({length:a}).map((i,s)=>e.jsx(p,{className:"h-20",children:e.jsx(d,{className:"h-4 w-full"})},s))},o))})]})}),e.jsxs("div",{className:"flex items-center justify-between p-2",children:[e.jsx(d,{className:"h-6 w-40"})," ",e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-8 w-8 rounded-md"})," ",e.jsx(d,{className:"h-8 w-16"})," ",e.jsx(d,{className:"h-8 w-8 rounded-md"})," "]})]})]})})]})}function H({mobileSimpleColumns:t=!1}){const{isMobile:a}=v(),{table:l}=b();return e.jsx(S,{className:"bg-custom-gray-default dark:bg-custom-blackSemi sticky top-0 z-20",children:l.getHeaderGroups().map(o=>{var u;const i=o.headers.filter(c=>!c.isPlaceholder),s=(u=i.find(c=>c.column.id!=="select"))==null?void 0:u.column.id,n=i.some(c=>c.column.id==="select");return e.jsx(g,{children:i.map(c=>{const r=c.column.id,x=r==="select",f=r===s,m=r==="actions",w="z-10 bg-custom-gray-default dark:bg-custom-blackSemi",y=x?"sticky left-0 pl-0":f?`sticky ${n?"left-12":"left-0"}`:m?"sticky right-0":"",D=a&&r!=="select"?"hidden":"table-cell",P=r==="select"?"flex flex-row items-center justify-center gap-2":"",$=!a&&m?"flex justify-center items-center":"";return e.jsx(T,{className:`
                                        ${w}
                                        ${!a&&y}
                                        ${!t&&D}
                                        ${P}
                                        ${$}
                                    `,children:h(c.column.columnDef.header,c.getContext())},c.id)})},o.id)})})}function V({}){const{viewContext:t}=b(),{handleCreateUpdateView:a}=t;return e.jsx("div",{className:"flex gap-4",children:e.jsxs(N,{onClick:()=>a(null),variant:"primary",children:[e.jsx("span",{className:"hidden sm:inline",children:"AÃ±adir registro"}),e.jsx(k,{name:"Plus",className:"w-4 sm:ml-2"})]})})}function E({children:t,entity:a="",simplified:l=!1}){return e.jsxs("div",{className:"flex flex-col xl:flex-row gap-4 p-1 pb-4",children:[e.jsx("div",{className:"flex items-center",children:t}),e.jsxs("div",{className:"flex flex-wrap items-start md:items-center xl:ml-auto gap-3 min-w-0",children:[e.jsx(I,{}),e.jsx("div",{className:"w-[250px] flex-shrink",children:e.jsx(M,{})}),e.jsx(z,{}),!l&&e.jsxs(e.Fragment,{children:[e.jsx(F,{}),e.jsx(A,{entity:a}),e.jsx(V,{})]})]})]})}function _({table:t,columns:a,selectedCell:l,setSelectedCell:o}){return e.jsx(j,{children:t.getRowModel().rows.map(i=>e.jsx(g,{children:e.jsx(p,{colSpan:a.length,className:"!p-0",children:e.jsx("div",{className:"flex w-full cursor-pointer",onClick:()=>o(s=>s===i.id?null:i.id),children:e.jsx("div",{className:"flex w-full relative bg-custom-gray-light dark:bg-custom-blackSemi my-4 p-4 rounded-2xl transition-all duration-300",children:e.jsx("div",{className:"flex flex-col w-full",children:i.getVisibleCells().map((s,n)=>{const u=s.column.id,c=u==="select",r=u==="actions",x=!c&&!r&&i.getVisibleCells().findIndex(m=>m.column.id!=="select"&&m.column.id!=="actions")===n,f=l===i.id;return c?e.jsx("div",{className:"absolute top-2 right-12 w-8 h-8 flex items-center justify-center rounded-full z-10",onClick:m=>m.stopPropagation(),children:h(s.column.columnDef.cell,s.getContext())},s.id):r?e.jsx("div",{className:"absolute top-2 right-2 w-8 h-8 flex items-center justify-center z-10",onClick:m=>m.stopPropagation(),children:h(s.column.columnDef.cell,s.getContext())},s.id):x?e.jsxs("div",{className:"flex w-full flex-col gap-1",children:[e.jsxs("span",{className:"text-sm font-semibold text-muted-foreground",children:[s.column.columnDef.title,":"]}),e.jsx("span",{className:"flex w-full bg-custom-gray-default dark:bg-custom-blackLight py-2 px-4 rounded-xl",children:h(s.column.columnDef.cell,s.getContext())})]},s.id):e.jsxs("div",{className:`flex flex-col gap-1 transition-all duration-300 ${f?"max-h-96 opacity-100 overflow-y-auto mt-2":"max-h-0 opacity-0"} overflow-hidden`,children:[e.jsxs("span",{className:"text-sm font-semibold text-muted-foreground pt-4",children:[s.column.columnDef.title,":"]}),e.jsx("span",{className:"flex bg-custom-gray-default dark:bg-custom-blackLight py-2 px-4 rounded-xl",children:h(s.column.columnDef.cell,s.getContext())})]},s.id)})})})})})},i.id))})}function G({table:t}){const{isMobile:a}=v();return e.jsx(j,{className:"table-row-group",children:t.getRowModel().rows.map(l=>{var s;const o=l.getVisibleCells(),i=(s=o.find(n=>n.column.id!=="select"))==null?void 0:s.column.id;return e.jsx(g,{"data-state":l.getIsSelected()&&"selected",children:o.map(n=>{const u=o.some(y=>y.column.id==="select"),c=n.column.id==="select",r=n.column.id===i,x=n.column.id==="actions",f="z-10 bg-custom-white dark:bg-custom-blackLight !p-4",m=`flex flex-col gap-1 w-full h-full ${c||x&&"items-center"}`,w=c?"sticky left-0 bg-custom-gray-default dark:bg-custom-blackSemi":r?`sticky ${u?"left-12":"left-0"} bg-custom-gray-default dark:bg-custom-blackSemi`:x?"sticky right-0":"";return e.jsx(p,{className:`${f} ${!a&&w}`,children:e.jsx("div",{className:m,children:h(n.column.columnDef.cell,n.getContext())})},n.id)})},l.id)})})}function K({mobileSimpleColumns:t=!1}){const{isMobile:a}=v(),{table:l,columns:o}=b(),[i,s]=R.useState(null);return l.getRowModel().rows.length>0?!a||t?e.jsx(G,{table:l,mobileSimpleColumns:t}):e.jsx(_,{table:l,columns:o,selectedCell:i,setSelectedCell:s}):e.jsx(j,{children:e.jsx(g,{children:e.jsx(p,{colSpan:o.length,className:"h-24 text-center",children:"No hay resultados"})})})}function U(){const{table:t}=b(),{pagination:a}=t.getState("pagination"),{t:l}=L(["datatable"]);return e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between space-x-2 py-4 w-full",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.getFilteredSelectedRowModel().rows.length," ",l("datatable.of")," ",t.getFilteredRowModel().rows.length," ",l("datatable.rowsSelected"),"."]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{variant:"secondary",size:"sm",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:e.jsx(k,{name:"ChevronLeft",className:"h-4 w-4 text-custom-gray-dark dark:text-custom-white"})}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground py-2",children:[l("datatable.page")," ",a.pageIndex+1," ",l("datatable.of")," ",t.getPageCount()]}),e.jsx(N,{variant:"secondary",size:"sm",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:e.jsx(k,{name:"ChevronRight",className:"h-4 w-4 text-custom-gray-dark dark:text-custom-white"})})]})]})}function ce({children:t,hideHeader:a=!1,simplified:l=!1}){const{table:o,columns:i,customToolbar:s,entity:n}=b(),u=s||E,r=i==null?void 0:i.some(x=>{var f;return(f=x==null?void 0:x.accessorKey)==null?void 0:f.endsWith("-horarios-stadistics")});return e.jsxs("div",{className:"",children:[e.jsx(u,{simplified:l,entity:n,children:t}),e.jsx("div",{className:"max-h-[65vh] flex rounded-md md:border",children:e.jsxs(C,{children:[!a&&e.jsx(H,{mobileSimpleColumns:r}),e.jsx(K,{mobileSimpleColumns:r})]})}),e.jsx(U,{}),e.jsx(B,{})]})}export{ie as D,ce as a};
