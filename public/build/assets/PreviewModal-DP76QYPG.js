import{r as d,j as e}from"./app-fwyInB3c.js";import i from"./TemplateRenderer-DkIIJveM.js";import{X as n}from"./x-2mzC_aTV.js";import"./createLucideIcon-DoJ0Kelj.js";function b({isOpen:t,onClose:a,htmlContent:s,templateName:o}){const[g,l]=d.useState("");return d.useEffect(()=>{if(s)try{const r=s.replace(/\\n/g,`
`).replace(/\\t/g,"	").replace(/\\"/g,'"').replace(/\\/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">");l(r)}catch(r){console.error("Error procesando HTML:",r),l("Error al procesar contenido")}},[s]),d.useEffect(()=>{const r=c=>{c.key==="Escape"&&a()};return t&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[t,a]),t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:a,children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Preview de plantilla: ",o]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors","aria-label":"Cerrar modal",children:e.jsx(n,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})})]}),e.jsx("div",{className:"p-4 overflow-auto max-h-[calc(90vh-80px)]",children:e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg bg-white overflow-hidden",children:e.jsx(i,{htmlContent:s})})}),e.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:e.jsx("div",{className:"flex items-center justify-between"})})]})}):null}export{b as default};
