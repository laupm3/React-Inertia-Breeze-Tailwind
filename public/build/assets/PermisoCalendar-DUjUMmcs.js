import{r as o,j as e,R as c}from"./app-fwyInB3c.js";import{F as S,i as D,a as j,b as M}from"./index-uaNH1BE9.js";import{SolicitudVacacionesEvent as N}from"./INITIAL_PERMISOS-D031OIQX.js";import{EventClickDialog as $}from"./EventClickDialog-C10mFewB.js";/* empty css               */import"./dialog-iaZkf6Xy.js";import"./index-DVo7DTeW.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-DloWbRVd.js";import"./index-B7srb2QZ.js";import"./index-BIJodELy.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-BZxTbISK.js";import"./utils-CytzSlOG.js";import"./x-2mzC_aTV.js";import"./createLucideIcon-DoJ0Kelj.js";import"./Button-CQuYVLGu.js";import"./index-BwobEAja.js";import"./ViewContext-ChS6KolG.js";import"./index-WlsBA3k2.js";import"./TimelineSolicitud-D5eRBMN_.js";import"./LucideIcon-CEqEhMjI.js";import"./calendar-days-Dti00tYQ.js";import"./calendar-k1x2vwx8.js";import"./check-5DjPwM22.js";import"./chevron-up-OjKdrhzc.js";import"./chevron-right-B1iws4WK.js";import"./user-plus-zM6CnMXf.js";import"./user-CNwXqt1W.js";import"./octagon-alert-BRAzZNeG.js";import"./UserAvatar-cKyxDEhx.js";import"./SheetTable-CiCNZjvD.js";import"./SheetTable-oFCbTdfY.js";import"./sheet-DHc5Hgr8.js";import"./tabs-DtCm3GAf.js";import"./index-v24TFYKQ.js";import"./index-C_F9oucK.js";import"./SheetTableHeader-vhJO3F_n.js";import"./avatar-oBOSifLN.js";import"./Pill-l4GaXyto.js";import"./StatusEmpleadoMapColor-Bp2doaTo.js";import"./ContratosVigentesDialog-SpBmuJuH.js";import"./tooltip-DFfoxvAF.js";import"./index-CLai1W86.js";import"./index-BZgm3BCW.js";import"./index-CeuhGnKJ.js";import"./DataHandlerContext--vx6a3_3.js";import"./useApiEndpoints-CHm1F3ft.js";import"./format-Be40hyfq.js";import"./constants-BKFt95HM.js";import"./toDate-qOSwr3PX.js";import"./WeekDay-C1ZcXS4Y.js";import"./GetModalidadIcon-BUgIPR97.js";import"./skeleton-DSiYFg9q.js";import"./getRoundingMethod-D0I6Z7xl.js";import"./es-DNLwfvrq.js";import"./parseISO-Efi0RkWR.js";import"./FileUploadArea-uzmkw7Uv.js";import"./dropdown-menu-bHoOJ61X.js";import"./VacacionesMapColor-BDtfIx91.js";import"./ApprovalActionsFooter-Dy8ZL7hG.js";import"./DataHandlerContext-BFIpl_ls.js";import"./ApprovalConfirmationDialog-BzOIQ1Nc.js";import"./button-Blwr-A5N.js";import"./textarea-C969rVin.js";const P=()=>{const n=new Date,a=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0");return`${String(n.getDate()).padStart(2,"0")}-${i}-${a}`},u=({children:n,tooltipText:a,tooltipClassName:i})=>{const[l,s]=o.useState(!1);return e.jsxs("div",{className:"relative",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[n,l&&a&&e.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 mt-2 p-2 min-w-max max-w-xs bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-full shadow-lg z-[1000] text-sm text-gray-700 dark:text-gray-200 ${i||""}`,children:a})]})};function Qt({initialView:n="dayGridMonth",solicitudesApi:a=[],permisosTiposApi:i=[],filteredEmployeeIds:l=[],filteredStatuses:s=[]}){const[R,x]=o.useState(null),[v,p]=o.useState(!1),[h,f]=o.useState(null),g=o.useRef(null),b=o.useCallback(t=>{const r=t.event.extendedProps.description,d=t.event.extendedProps.empleadoNombre,m=t.event.title,E=t.event.extendedProps.estadoSolicitud;return e.jsx("div",{className:`p-1 m-1 rounded-full text-custom-black cursor-pointer ${t.event.backgroundColor} transition-transform duration-300 ease-in-out hover:scale-95`,children:e.jsxs("div",{className:"flex items-center",children:[r&&e.jsx(u,{tooltipText:`${d} - Estado: ${E}`,children:c.isValidElement(r)?c.cloneElement(r):r}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx(u,{tooltipText:m,children:e.jsx("p",{className:"ml-1 text-xs text-current font-bold truncate text-custom-black dark:text-custom-white",children:m})})})]})})},[]),y=o.useCallback(t=>{x(t.view.calendar)},[]),C=o.useCallback(t=>{f(t.event),p(!0)},[]),k=o.useMemo(()=>{let t=N(a);return l&&l.length>0&&(t=t.filter(r=>{var d,m;return((m=(d=r.extendedProps.permisoCompleto)==null?void 0:d.empleado)==null?void 0:m.id)&&l.includes(String(r.extendedProps.permisoCompleto.empleado.id))})),s&&s.length>0&&(t=t.filter(r=>r.extendedProps.estadoSolicitud&&s.includes(r.extendedProps.estadoSolicitud))),t},[a,l,s]);o.useMemo(()=>!i||i.length===0?[{id:1,nombre:"Vacaciones",color:"#e23a8a"}]:i,[a,i]);const w=o.useMemo(()=>({today:P(),month:"Mes",week:"Semana",day:"DÃ­a",list:"Lista"}),[]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full h-auto md:h-full overflow-x-auto",children:e.jsx(S,{ref:g,locale:"es",plugins:[D,j,M],headerToolbar:{left:"prev today next ",center:"title",right:""},initialView:n,editable:!1,selectable:!1,selectMirror:!0,dayMaxEvents:!0,events:k,eventContent:b,eventClick:C,buttonText:w,firstDay:1,slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},height:"auto",contentHeight:"auto",handleWindowResize:!0,windowResizeDelay:100,viewDidMount:y,datesSet:t=>{},allDaySlot:!1,eventOverlap:!1,slotEventOverlap:!1,forceEventDuration:!0,displayEventTime:!0,views:{dayGridMonth:{eventDisplay:"block"},timeGridWeek:{displayEventTime:!1,allDaySlot:!1}}})}),e.jsx($,{isOpen:v,onClose:()=>p(!1),eventData:h})]})}export{Qt as default};
