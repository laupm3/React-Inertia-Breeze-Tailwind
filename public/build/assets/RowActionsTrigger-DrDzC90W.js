import{r as S,j as o}from"./app-fwyInB3c.js";import{u as v}from"./DataTableContext-BYrqyX0i.js";import{useDataHandler as T}from"./DataHandlerContext-BFIpl_ls.js";import{D as A,a as M,b as k,e as x,f as h,g as j,h as g,c as l}from"./dropdown-menu-bHoOJ61X.js";import{I as e}from"./LucideIcon-CEqEhMjI.js";import y from"./ApprovalConfirmationDialog-BzOIQ1Nc.js";import"./index-Z1g0u-qm.js";import"./index-WlsBA3k2.js";import"./ViewContext-ChS6KolG.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-DloWbRVd.js";import"./index-BIJodELy.js";import"./index-C_F9oucK.js";import"./index-B7srb2QZ.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-CLai1W86.js";import"./index-BZgm3BCW.js";import"./index-BZxTbISK.js";import"./index-v24TFYKQ.js";import"./utils-CytzSlOG.js";import"./check-5DjPwM22.js";import"./createLucideIcon-DoJ0Kelj.js";import"./chevron-right-B1iws4WK.js";import"./calendar-days-Dti00tYQ.js";import"./calendar-k1x2vwx8.js";import"./chevron-up-OjKdrhzc.js";import"./user-plus-zM6CnMXf.js";import"./user-CNwXqt1W.js";import"./octagon-alert-BRAzZNeG.js";import"./x-2mzC_aTV.js";import"./dialog-iaZkf6Xy.js";import"./index-DVo7DTeW.js";import"./button-Blwr-A5N.js";import"./index-BwobEAja.js";import"./textarea-C969rVin.js";function go({model:i}){const{viewContext:b}=v(),{userApprovalTypes:n,getApprovalTypeInfo:m,handleDropdownAction:f,isProcessingApproval:p,handleDeleteView:w}=T(),[s,c]=S.useState({isOpen:!1,approvalType:null,action:null}),{handleCreateUpdateView:D,handleSheetView:I}=b,C=(t,r)=>{c({isOpen:!0,approvalType:t,action:r})},d=()=>{c({isOpen:!1,approvalType:null,action:null})},N=t=>{f(i,s.approvalType,s.action,t),d()},u=t=>!n||n.length===0?null:n.sort((r,a)=>m(r).order-m(a).order).map(r=>{const a=m(r);return o.jsxs(l,{onSelect:()=>C(r,t),disabled:p,children:[p?o.jsx(e,{name:"MoreHorizontal",className:"w-4 mr-2 animate-spin"}):o.jsx(e,{name:a.icon,className:"w-4 mr-2"}),a.label]},r)});return o.jsxs(o.Fragment,{children:[o.jsxs(A,{children:[o.jsx(M,{asChild:!0,children:o.jsx("button",{className:"btn",children:o.jsx(e,{name:"Ellipsis",className:"w-4"})})}),o.jsxs(k,{className:"dark:bg-custom-blackSemi",side:"bottom",align:"end",children:[n&&n.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs(x,{children:[o.jsxs(h,{children:[o.jsx(e,{name:"ThumbsUp",className:"w-4 mr-2"})," Aprobar como"]}),o.jsx(j,{children:o.jsx(g,{className:"dark:bg-custom-blackSemi",children:u("aprobar")})})]}),o.jsxs(x,{children:[o.jsxs(h,{children:[o.jsx(e,{name:"ThumbsDown",className:"w-4 mr-2"})," Denegar como"]}),o.jsx(j,{children:o.jsx(g,{className:"dark:bg-custom-blackSemi",children:u("denegar")})})]})]}),o.jsxs(l,{onSelect:()=>D(i),children:[o.jsx(e,{name:"SquarePen",className:"w-4 mr-2"})," Editar"]}),o.jsxs(l,{className:"text-red-500 font-bold hover:!bg-red-500/40 hover:!text-red-500",onSelect:()=>w(i),children:[o.jsx(e,{name:"X",className:"w-4 mr-2"})," Eliminar"]})]})]}),o.jsx(y,{isOpen:s.isOpen,onClose:d,onConfirm:N,solicitud:i,approvalType:s.approvalType,action:s.action,isProcessing:p})]})}export{go as default};
