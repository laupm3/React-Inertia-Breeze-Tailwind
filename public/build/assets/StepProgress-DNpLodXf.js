import{r as n,j as i}from"./app-fwyInB3c.js";import{c as h,A as p,i as v,b as y,O as S,S as A}from"./StepItem-bNLmZaq8.js";const x=e=>{const[t,o]=n.useState(0),[s,a]=n.useState(Array(e).fill(!1)),[l,c]=n.useState(!1),[C,m]=n.useState(0),[g,u]=n.useState(!1),f=n.useCallback(r=>{if(!h(r,t,s,e))return;if(s[r]){C!==r&&(u(!1),setTimeout(()=>{m(r),c(!0),setTimeout(()=>u(!0),p.contentFade.delay)},p.stepTransition.duration));return}const d=[...s];d[r]=!0,a(d),u(!1),setTimeout(()=>{m(r),c(!0),setTimeout(()=>u(!0),p.contentFade.delay)},p.stepTransition.duration),r<e-1&&o(r+1)},[t,s,C,e]),N=n.useCallback(()=>{t<e-1&&f(t+1)},[t,e,f]),I=n.useCallback(()=>{if(t>0){const r=t-1;o(r),m(r)}},[t]),O=n.useCallback(()=>{o(0),a(Array(e).fill(!1)),c(!1),m(0),u(!1)},[e]),T=n.useMemo(()=>v(s),[s]),b=n.useMemo(()=>t<e-1,[t,e]),j=n.useMemo(()=>t>0,[t]);return{currentStep:t,completed:s,showContent:l,activeContent:C,animate:g,allStepsCompleted:T,canGoNext:b,canGoPrevious:j,handleStepClick:f,goToNextStep:N,goToPreviousStep:I,resetOnboarding:O,setAnimate:u,setShowContent:c}},P=(e,t)=>{const{currentStep:o,completed:s}=t;return n.useMemo(()=>{const a=s[e],l=e===o,c=h(e,o,s,s.length);return{isCompleted:a,isCurrent:l,canInteract:c,isAccessible:c||a}},[e,o,s])},k=({onboardingState:e,onStepClick:t})=>{const{completed:o}=e,s=y(o);return i.jsxs("div",{className:"w-full space-y-4",children:[i.jsx("div",{className:"space-y-2 sm:space-y-3",children:S.map((a,l)=>{const c=P(l,e);return i.jsx(A,{step:a,index:l,isCompleted:c.isCompleted,isCurrent:c.isCurrent,canInteract:c.canInteract,onClick:()=>t(l)},a.id)})}),i.jsx("div",{className:"text-center text-sm text-custom-blackSemi/70 dark:text-white/70",children:i.jsxs("p",{children:["Paso ",e.showContent?e.activeContent+1:1," de ",S.length,s===100&&i.jsx("span",{className:"ml-2 text-green-600 font-medium",children:"Â¡Completado!"})]})})]})},G=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"}));export{k as S,G as a,x as u};
