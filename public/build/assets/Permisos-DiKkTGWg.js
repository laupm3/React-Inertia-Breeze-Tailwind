import{j as e,r as i}from"./app-fwyInB3c.js";import{B as h}from"./BlockCard-TCX704se.js";import f from"./Skeleton-DShaLfET.js";import{C as j,l as g,m as b,L as N,S as d}from"./charts-D-b4h_4c.js";import{S as y,a as C,b as k,c as S,d as v}from"./select-B5O0TxCl.js";import{P,a as L}from"./PieChart-DDiBUCNq.js";import"./skeleton-DSiYFg9q.js";import"./utils-CytzSlOG.js";import"./throttle-CmSTFqON.js";import"./index-DpIruHMc.js";import"./index-DmpKZt4E.js";import"./index-p2DxCSsL.js";import"./index-C_F9oucK.js";import"./index-DloWbRVd.js";import"./index-B7srb2QZ.js";import"./index-BIJodELy.js";import"./index-DmaU4p-o.js";import"./index-CyKk8pQ_.js";import"./tslib.es6-BUas5LQb.js";import"./index-CLai1W86.js";import"./index-BZgm3BCW.js";import"./index-4A9uUPu1.js";import"./index-CeuhGnKJ.js";import"./chevron-up-OjKdrhzc.js";import"./createLucideIcon-DoJ0Kelj.js";import"./check-5DjPwM22.js";import"./PolarAngleAxis-CNFzyAg3.js";function I({data:r,text:n}){const a=(r==null?void 0:r.map((t,s)=>({month:t.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s/g,"_"),desktop:t.count,fill:`var(--chart-${s+1})`})))||[];if(!a||a.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full min-h-[300px] text-muted-foreground",children:e.jsx("p",{children:"No hay datos disponibles"})});const c=Object.fromEntries(r.map((t,s)=>[t.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s/g,"_"),{label:t.name,color:`var(--chart-${s+1})`}])),p="pie-interactive",[l,x]=i.useState(a[0].month),m=i.useMemo(()=>a.findIndex(t=>t.month===l),[l]),u=i.useMemo(()=>a.map(t=>t.month),[]);return e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:n}),e.jsxs(y,{value:l,onValueChange:x,children:[e.jsx(C,{className:"ml-auto h-7 w-[130px] rounded-lg pl-2.5 bg-custom-gray-default dark:bg-custom-gray-darker text-nowrap","aria-label":"Select a value",children:e.jsx(k,{placeholder:"selecciona..."})}),e.jsx(S,{align:"end",className:"rounded-xl bg-custom-gray-default dark:bg-custom-gray-darker",children:u.map((t,s)=>{const o=c[t];return o?e.jsx(v,{value:t,className:"rounded-lg [&_span]:flex",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"flex h-3 w-3 shrink-0 rounded-xs",style:{backgroundColor:`var(--chart-${s+1})`}}),o==null?void 0:o.label]})},t):null})})]})]}),e.jsx(j,{id:p,config:c,className:"mx-auto aspect-square w-full max-w-[300px]",children:e.jsxs(P,{children:[e.jsx(g,{cursor:!1,content:e.jsx(b,{hideLabel:!0})}),e.jsx(L,{data:a,dataKey:"desktop",nameKey:"month",innerRadius:60,strokeWidth:5,activeIndex:m,activeShape:({outerRadius:t=0,...s})=>e.jsxs("g",{children:[e.jsx(d,{...s,outerRadius:t+10}),e.jsx(d,{...s,outerRadius:t+25,innerRadius:t+12})]}),children:e.jsx(N,{content:({viewBox:t})=>{if(t&&"cx"in t&&"cy"in t)return e.jsxs("text",{x:t.cx,y:t.cy,textAnchor:"middle",dominantBaseline:"middle",children:[e.jsx("tspan",{x:t.cx,y:t.cy,className:"fill-foreground text-3xl font-bold",children:a[m].desktop.toLocaleString()}),e.jsx("tspan",{x:t.cx,y:(t.cy||0)+24,className:"fill-muted-foreground",children:"Permisos"})]})}})})]})})]})}function re({data:r,date:n}){return e.jsx(h,{title:"Permisos",className:"h-full",children:r&&r.breakdown?e.jsx("div",{className:"flex flex-col h-full justify-between gap-4",children:e.jsx(I,{data:r.breakdown,text:n})}):e.jsx(f,{})})}export{re as default};
