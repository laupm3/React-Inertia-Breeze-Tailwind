import{j as s,r as d}from"./app-fwyInB3c.js";import{S as P}from"./SheetTable-oFCbTdfY.js";import{T as G,a as K,b as O,c as M}from"./tabs-DtCm3GAf.js";import{A as q,a as B,b as J}from"./avatar-oBOSifLN.js";import{I as R}from"./LucideIcon-CEqEhMjI.js";import{P as U}from"./Pill-l4GaXyto.js";import{S as Q}from"./StatusEmpleadoMapColor-Bp2doaTo.js";import{C as W}from"./ContratosVigentesDialog-SpBmuJuH.js";import{S as X}from"./StatusUsuarioMapColor-BJWSxlNS.js";import{E as Y}from"./EmpleadoAvatar-BBWI_HPN.js";import{S as b}from"./skeleton-DSiYFg9q.js";function Z({data:e}){var l,a;return s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 mb-4 w-full",children:[s.jsx(q,{className:"h-24 w-24 rounded-full",children:e!=null&&e.profile_photo_url?s.jsx(B,{src:e==null?void 0:e.profile_photo_url,alt:e==null?void 0:e.name}):s.jsx(J,{className:"rounded-full",children:e==null?void 0:e.name[0]})}),s.jsxs("div",{className:"space-y-1 text-center sm:text-left w-full",children:[s.jsx("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:s.jsx("span",{className:"text-xl font-semibold text-custom-gray-semiDark dark:text-white",children:e==null?void 0:e.name})}),s.jsx("div",{className:"text-base text-custom-gray-semiDark dark:text-gray-300",children:((l=e==null?void 0:e.role)==null?void 0:l.name)&&((a=e==null?void 0:e.role)==null?void 0:a.name)}),s.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-4 mt-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(R,{name:"Mail",size:"16",className:"text-custom-orange"}),s.jsx("span",{className:"text-sm text-custom-gray-semiDark dark:text-gray-300 break-all",children:e==null?void 0:e.email})]})})]})]})}const H=({label:e,value:l,isLast:a,isFirst:t})=>s.jsxs("div",{className:`overflow-hidden ${t?"rounded-t-[20px]":""} ${a?"rounded-b-[20px]":""}`,children:[s.jsx("div",{className:"bg-custom-gray-default/50 dark:bg-custom-gray-darker/50 p-3",children:s.jsx("span",{className:"text-sm text-custom-gray-semiDark dark:text-gray-300 font-medium",children:e})}),s.jsx("div",{className:`bg-white dark:bg-custom-gray-sidebar p-3 border-2 border-custom-gray-default dark:border-custom-gray-darker/50 -mt-[2px] ${a?"rounded-b-[20px]":""}`,children:s.jsx("span",{className:"text-sm text-custom-gray-semiDark dark:text-gray-200",children:l||"not Provided"})})]}),V=({label:e,value:l,className:a="",isHeader:t=!1,isLast:o=!1})=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-custom-gray-default/50 dark:bg-custom-gray-darker/50 p-3 flex justify-between items-center",children:s.jsx("span",{className:"text-sm text-custom-gray-semiDark dark:text-gray-300 font-medium",children:e})}),s.jsx("div",{className:`bg-white dark:bg-custom-gray-sidebar p-3 flex items-center border-2 border-custom-gray-default dark:border-custom-gray-darker/50 ${a} ${o?"rounded-br-[20px]":""} ${t?"rounded-tr-[20px]":"-mt-[2px]"}`,children:s.jsx("span",{className:"text-sm text-custom-gray-semiDark dark:text-gray-200",children:l||"not Provided"})})]}),ee=({data:e})=>{var o;const l=[{label:"Usuario",value:e.name},{label:"Correo electrónico",value:e.email},{label:"Rol",value:(o=e.role)==null?void 0:o.name},{label:"Estado",value:s.jsx(U,{identifier:e.status.name,children:e.status.label,mapColor:X,size:"text-xs",textClassName:"font-medium"})},{label:"Empleado asociado",value:e.empleado?s.jsx(Y,{empleado:e.empleado}):s.jsx("span",{className:"text-gray-500",children:"Sin empleado asociado"})}],a=()=>s.jsx("div",{className:"block sm:hidden space-y-2",children:l.map((r,n,m)=>s.jsx(H,{label:r.label,value:r.value,isFirst:n===0,isLast:n===m.length-1},r.label))}),t=()=>s.jsx("div",{className:"hidden sm:grid sm:grid-cols-2 overflow-hidden rounded-[20px]",children:l.map((r,n)=>s.jsx(V,{label:r.label,value:r.value,isHeader:n===0,isLast:n===l.length-1},r.label))});return s.jsxs(s.Fragment,{children:[s.jsx(a,{}),s.jsx(t,{})]})},se=({data:e})=>{var o,r,n,m,u,f,x,g,c,h,v,j,N,y,k,w,A,C,S,D,E,T,_,F,L,$,I;const[l,a]=d.useState(!1),t=[{label:"Nombre",value:((o=e.empleado)==null?void 0:o.nombre)||"N/A"},{label:"Primer apellido",value:((r=e.empleado)==null?void 0:r.primerApellido)||"N/A"},{label:"Segundo apellido",value:((n=e.empleado)==null?void 0:n.segundoApellido)||"N/A"},{label:"Tipo de documento",value:((u=(m=e.empleado)==null?void 0:m.tipoDocumento)==null?void 0:u.nombre)||"N/A"},{label:"Número de documento",value:((f=e.empleado)==null?void 0:f.nif)||"N/A"},{label:"Caducidad del documento",value:(x=e.empleado)!=null&&x.caducidadNif?new Date(e.empleado.caducidadNif).toLocaleDateString("es-ES"):"N/A"},{label:"NISS",value:((g=e.empleado)==null?void 0:g.niss)||"N/A"},{label:"Estado",value:(console.log((h=(c=e.empleado)==null?void 0:c.estadoEmpleado)==null?void 0:h.nombre),s.jsx(U,{identifier:(j=(v=e.empleado)==null?void 0:v.estadoEmpleado)==null?void 0:j.nombre,mapColor:Q,children:((y=(N=e.empleado)==null?void 0:N.estadoEmpleado)==null?void 0:y.nombre)||""}))},{label:"Fecha de nacimiento",value:(k=e.empleado)!=null&&k.fechaNacimiento?new Date(e.empleado.fechaNacimiento).toLocaleDateString("es-ES"):"N/A"},{label:"Género",value:((A=(w=e.empleado)==null?void 0:w.genero)==null?void 0:A.nombre)||"N/A"},{label:"Dirección",value:((S=(C=e.empleado)==null?void 0:C.direccion)==null?void 0:S.full_address)||"N/A"},{label:"Email corporativo",value:((D=e.empleado)==null?void 0:D.email)||"N/A"},{label:"Email personal",value:((E=e.empleado)==null?void 0:E.emailSecundario)||"N/A"},{label:"Teléfono",value:((T=e.empleado)==null?void 0:T.telefono)||"N/A"},{label:"Teléfono personal",value:((_=e.empleado)==null?void 0:_.telefono_personal_movil)||"N/A"},{label:"Teléfono personal fijo",value:((F=e.empleado)==null?void 0:F.telefono_personal_fijo)||"N/A"},{label:"Extensión centrex",value:((L=e.empleado)==null?void 0:L.extension_centrex)||"N/A"},{label:"Contacto de emergencia",value:(($=e.empleado)==null?void 0:$.contactoEmergencia)||"N/A"},{label:"Teléfono de emergencia",value:((I=e.empleado)==null?void 0:I.telefonoEmergencia)||"N/A"},{label:"Contrato",value:s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 text-custom-gray-semiDark hover:text-custom-gray-dark dark:text-gray-300 dark:hover:text-white transition-colors",children:[s.jsx("span",{className:"text-sm font-medium",children:"Contratos vigentes"}),s.jsx(R,{name:"ArrowUpRight",size:"16"})]}),l&&s.jsx(W,{model:e.empleado.id,open:l,onOpenChange:a})]})}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"block sm:hidden space-y-2",children:t.map((i,p,z)=>s.jsx(H,{label:i.label,value:i.value,isFirst:p===0,isLast:p===z.length-1},i.label))}),s.jsx("div",{className:"hidden sm:grid sm:grid-cols-2 overflow-hidden rounded-[20px]",children:t.map((i,p)=>s.jsx(V,{label:i.label,value:i.value,isHeader:p===0,isLast:p===t.length-1},i.label))})]})};function le({data:e}){return s.jsxs(s.Fragment,{children:[s.jsx(Z,{data:e}),s.jsxs(G,{defaultValue:"tab1",className:"w-full mt-6",children:[s.jsxs(K,{className:`w-full h-12 grid ${e.empleado?"grid-cols-2":"grid-cols-1"} bg-custom-gray-default/50 dark:bg-custom-gray-darker/50 rounded-lg`,children:[s.jsx(O,{value:"tab1",className:"h-full px-3 text-sm font-medium transition-all text-custom-gray-dark data-[state=active]:text-custom-gray-semiDark data-[state=active]:bg-white dark:text-gray-300 dark:data-[state=active]:bg-custom-gray-sidebar dark:data-[state=active]:text-white rounded-lg",children:s.jsx("span",{className:"whitespace-nowrap",children:"Información de usuario"})}),e.empleado&&s.jsx(O,{value:"tab2",className:"h-full px-3 text-sm font-medium transition-all text-custom-gray-dark data-[state=active]:text-custom-gray-semiDark data-[state=active]:bg-white dark:text-gray-300 dark:data-[state=active]:bg-custom-gray-sidebar dark:data-[state=active]:text-white rounded-lg",children:s.jsx("span",{className:"whitespace-nowrap",children:"Información de empleado"})})]}),s.jsx(M,{className:"mt-4 w-full",value:"tab1",children:s.jsx(ee,{data:e})}),e.empleado&&s.jsx(M,{className:"mt-4 w-full",value:"tab2",children:s.jsx(se,{data:e})})]})]})}function ae(){return s.jsxs("div",{className:"flex flex-col w-full space-y-8",children:[s.jsxs("div",{className:"w-full flex items-center space-x-4",children:[s.jsx(b,{className:"h-24 w-24 rounded-full"}),s.jsxs("div",{className:"flex flex-col justify-center space-y-2",children:[s.jsx(b,{className:"h-4 w-[250px]"}),s.jsx(b,{className:"h-4 w-[200px]"})]})]}),s.jsx(b,{className:"h-20 w-full"}),s.jsx(b,{className:"h-96 w-full"})]})}const re=e=>d.useMemo(()=>({dataKey:"user",show:e?route("api.v1.admin.users.show",{user:e}):null,store:route("api.v1.admin.users.store"),update:e?route("api.v1.admin.users.update",{user:e}):null,delete:e?route("api.v1.admin.users.destroy",{user:e}):null,statuses:route("api.v1.admin.users.available-statuses")}),[e]);function fe({open:e,onOpenChange:l,model:a,enableToView:t=!0}){const o=re(a),[r,n]=d.useState(null),[m,u]=d.useState(!0),[f,x]=d.useState(!1);return d.useEffect(()=>((async()=>{try{u(!0);const c=await axios.get(o.show);c.status===200?n(c.data[o.dataKey]):x(!0)}catch{x(!0)}finally{u(!1)}})(),()=>{}),[a]),m||!t?s.jsx(P,{title:null,open:e,onOpenChange:l,className:"w-full max-w-full sm:min-w-[600px]",descriptionContent:s.jsx("div",{className:"flex items-center justify-center w-full h-full mt-6",children:s.jsx(ae,{})})}):s.jsx(P,{title:null,open:e,onOpenChange:l,className:"w-full max-w-full sm:min-w-[600px]",descriptionContent:s.jsx(s.Fragment,{children:r&&s.jsx(s.Fragment,{children:s.jsx(le,{data:r})})})})}export{fe as S,re as u};
